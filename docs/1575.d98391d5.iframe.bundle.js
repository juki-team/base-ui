"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[1575],{"./src/components/organisms/worksheet/WorksheetBodies.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WorksheetBodies:()=>WorksheetBodies});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/index.ts"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/types/index.ts"),_atoms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/atoms/index.tsx"),_atoms_server__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/atoms/server/index.ts"),_WorksheetBody__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/organisms/worksheet/WorksheetBody.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");const WorksheetBodies=props=>{var _sheetsInPages,_sheetsInPages2;const{sheetsInPages,isEditor,setSheets,userResults,isSolvable,worksheetKey,page,onPageChange,lastPageChildren,readOnly}=props,containerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),setPageSheets=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((newPageHeader,newPageSheetContent)=>{const newSheetsInPages=[...sheetsInPages];newSheetsInPages[page-1]={header:null!=newPageHeader?newPageHeader:newSheetsInPages[page-1].header,content:newPageSheetContent};const newSheets=[];for(const{header,content}of newSheetsInPages)newSheets.push(header,...content);null==setSheets||setSheets(newSheets)}),[page,setSheets,sheetsInPages]),setSheet=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value=>{const newPageSheetContent="function"==typeof value?value(sheetsInPages[page-1].content):value;setPageSheets(null,newPageSheetContent)}),[page,setPageSheets,sheetsInPages]),pages=sheetsInPages.length;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:(0,_helpers__WEBPACK_IMPORTED_MODULE_1__.xW)("jk-col gap nowrap top stretch extend worksheet-bodies",{"is-solvable":isSolvable}),children:[setSheets&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-row gap extend nowrap",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.pd,{label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"tt-se",children:"page title"}),value:null===(_sheetsInPages=sheetsInPages[page-1])||void 0===_sheetsInPages?void 0:_sheetsInPages.header.title,onChange:title=>{setPageSheets({...sheetsInPages[page-1].header,title},sheetsInPages[page-1].content)},expand:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.$n,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":"remove page divider",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms_server__WEBPACK_IMPORTED_MODULE_4__.d7y,{}),onClick:()=>{const newSheetsInPages=[...sheetsInPages],newSheets=[];if(page===pages){let i=0;for(const{header,content}of newSheetsInPages)i!==page-1&&newSheets.push(header),newSheets.push(...content),i++;setSheets(newSheets)}else{let i=0,contentDeleted=null;for(const{header,content}of newSheetsInPages)i===page-1?contentDeleted=content:(newSheets.push(header),null!==contentDeleted&&(newSheets.push(...contentDeleted),contentDeleted=null),newSheets.push(...content)),i++;setSheets(newSheets)}page>1&&page===pages&&onPageChange(Math.max(page,1),1,{name:_types__WEBPACK_IMPORTED_MODULE_2__.QueryParamKey.PAGE_FOCUS,value:"jk-worksheet-viewer-container"})},disabled:pages<=1})]},`${page}`),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_WorksheetBody__WEBPACK_IMPORTED_MODULE_5__.WorksheetBody,{sheet:null===(_sheetsInPages2=sheetsInPages[page-1])||void 0===_sheetsInPages2?void 0:_sheetsInPages2.content,setSheet:setSheets?setSheet:void 0,userResults,readOnly:!!readOnly,isSolvable,isEditor,worksheetKey,ref:containerRef}),page<pages?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.$n,{className:"next-button",type:"light",onClick:()=>onPageChange(page+1,1,{name:_types__WEBPACK_IMPORTED_MODULE_2__.QueryParamKey.PAGE_FOCUS,value:"jk-worksheet-viewer-container"}),expand:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"tt-se",children:"next page"})}):lastPageChildren]})};try{WorksheetBodies.displayName="WorksheetBodies",WorksheetBodies.__docgenInfo={description:"",displayName:"WorksheetBodies",props:{sheetsInPages:{defaultValue:null,description:"",name:"sheetsInPages",required:!0,type:{name:"WorksheetsInPages"}},setSheets:{defaultValue:null,description:"",name:"setSheets",required:!1,type:{name:"Dispatch<BodyWorksheetType[]>"}},userResults:{defaultValue:null,description:"",name:"userResults",required:!1,type:{name:"UserResultsType"}},isSolvable:{defaultValue:null,description:"",name:"isSolvable",required:!0,type:{name:"boolean"}},isEditor:{defaultValue:null,description:"",name:"isEditor",required:!0,type:{name:"boolean"}},worksheetKey:{defaultValue:null,description:"",name:"worksheetKey",required:!0,type:{name:"string"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},subPage:{defaultValue:null,description:"",name:"subPage",required:!0,type:{name:"number"}},onPageChange:{defaultValue:null,description:"",name:"onPageChange",required:!0,type:{name:"OnPageChange"}},lastPageChildren:{defaultValue:null,description:"",name:"lastPageChildren",required:!1,type:{name:"ReactNode"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/organisms/worksheet/WorksheetBodies.tsx#WorksheetBodies"]={docgenInfo:WorksheetBodies.__docgenInfo,name:"WorksheetBodies",path:"src/components/organisms/worksheet/WorksheetBodies.tsx#WorksheetBodies"})}catch(__react_docgen_typescript_loader_error){}}}]);