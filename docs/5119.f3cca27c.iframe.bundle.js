"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[5119],{"./src/components/organisms/_layz_/SignUpModal/SignUpModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>SignUpModal});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useUserStore=__webpack_require__("./src/stores/user/useUserStore.ts"),useJukiUser=__webpack_require__("./src/components/hooks/useJukiUser.tsx"),yup=__webpack_require__("./node_modules/@hookform/resolvers/yup/dist/yup.mjs"),react=__webpack_require__("./node_modules/react/index.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),yup_index_esm=__webpack_require__("./node_modules/yup/index.esm.js"),constants=__webpack_require__("./src/constants/index.ts"),helpers=__webpack_require__("./src/components/helpers/index.ts"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),useJukiUI=__webpack_require__("./src/components/hooks/useJukiUI.tsx"),molecules=__webpack_require__("./src/components/molecules/index.ts");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var signUpSchema=yup_index_esm.Ik().shape({givenName:yup_index_esm.Yj().required("cannot be empty").min(3,"must be at least 3 characters"),familyName:yup_index_esm.Yj().required("cannot be empty").min(3,"must be at least 3 characters"),email:yup_index_esm.Yj().required("cannot be empty").email("must be a valid email"),checkbox:yup_index_esm.zM().required("you must accept the terms of service").oneOf([!0],"you must accept the terms of service"),nickname:yup_index_esm.Yj().required("cannot be empty").matches(constants.cl,"only alphanumeric characters or dash or underscore is valid").min(3,"must be at least 3 characters").max(32,"must be less than 32 characters"),password:yup_index_esm.Yj().required("cannot be empty").min(8,"must be at least 8 characters").matches(constants.sX,"must have at least one uppercase, one lowercase letter and one number"),passwordConfirmation:yup_index_esm.Yj().required("cannot be empty").oneOf([yup_index_esm.KR("password"),""],"both passwords must match")}),SignUpModalTemplate=function(props){var _errors_givenName,_errors_givenName1,_errors_givenName2,_errors_familyName,_errors_familyName1,_errors_familyName2,_errors_nickname,_errors_nickname1,_errors_nickname2,_errors_email,_errors_email1,_errors_email2,_errors_password,_errors_password1,_errors_password2,_errors_passwordConfirmation,_errors_passwordConfirmation1,_errors_passwordConfirmation2,_errors_checkbox,isOpen=props.isOpen,onClose=props.onClose,onSubmit=props.onSubmit,signUpWithGoogle=props.signUpWithGoogle,reactAppGoogleClientId=props.reactAppGoogleClientId,onSignInButton=props.onSignInButton,Image=(0,useJukiUI.p)().components.Image,_useForm=(0,index_esm.mN)({resolver:(0,yup.t)(signUpSchema),mode:"all",reValidateMode:"onBlur"}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,_useForm_formState=_useForm.formState,errors=_useForm_formState.errors,isValid=_useForm_formState.isValid,touchedFields=_useForm_formState.touchedFields,control=_useForm.control,reset=_useForm.reset;(0,react.useEffect)(function(){reset()},[isOpen,reset]);var setLoaderRef=(0,react.useRef)(void 0);return(0,jsx_runtime.jsx)(molecules._m,{isOpen,onClose,className:"modal-sign-up",title:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h3",{children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se cr-pt",children:"sign up"})}),(0,jsx_runtime.jsx)("p",{className:"tx-h",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"happy you join us"})})]}),graphic:(0,jsx_runtime.jsx)(Image,{className:"image-border",alt:"Juki with laptop image",fill:!0,src:"https://images.juki.pub/assets/juki-image-laptop.png"}),expand:!0,children:(0,jsx_runtime.jsxs)("div",{className:"jk-col stretch",children:[signUpWithGoogle&&reactAppGoogleClientId&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"jk-divider",children:(0,jsx_runtime.jsx)(atoms.T,{children:"or"})})}),(0,jsx_runtime.jsx)("form",{onSubmit:handleSubmit(function(data){return onSubmit(data,setLoaderRef.current)}),children:(0,jsx_runtime.jsxs)("div",{className:"jk-col stretch",children:[(0,jsx_runtime.jsxs)("div",{className:"jk-row-col gap block",children:[(0,jsx_runtime.jsxs)("div",{className:"jk-form-item",children:[(0,jsx_runtime.jsx)(atoms.pd,{labelPlacement:"top",label:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"first name"}),register:_object_spread({},register("givenName")),className:(0,helpers.xW)({error:!!(null==errors||null===(_errors_givenName=errors.givenName)||void 0===_errors_givenName?void 0:_errors_givenName.message),success:!!touchedFields.givenName&&!(null==errors||null===(_errors_givenName1=errors.givenName)||void 0===_errors_givenName1?void 0:_errors_givenName1.message)}),required:!0}),(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)(atoms.T,{children:(null==errors||null===(_errors_givenName2=errors.givenName)||void 0===_errors_givenName2?void 0:_errors_givenName2.message)||""})})]}),(0,jsx_runtime.jsxs)("div",{className:"jk-form-item",children:[(0,jsx_runtime.jsx)(atoms.pd,{labelPlacement:"top",label:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"last name"}),register:register("familyName"),className:(0,helpers.xW)({error:!!(null==errors||null===(_errors_familyName=errors.familyName)||void 0===_errors_familyName?void 0:_errors_familyName.message),success:!!touchedFields.familyName&&!(null==errors||null===(_errors_familyName1=errors.familyName)||void 0===_errors_familyName1?void 0:_errors_familyName1.message)}),required:!0}),(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)(atoms.T,{children:(null===(_errors_familyName2=errors.familyName)||void 0===_errors_familyName2?void 0:_errors_familyName2.message)||""})})]})]}),(0,jsx_runtime.jsxs)("div",{className:"jk-form-item",children:[(0,jsx_runtime.jsx)(atoms.pd,{labelPlacement:"top",label:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"nickname"}),register:register("nickname"),className:(0,helpers.xW)({error:!!(null==errors||null===(_errors_nickname=errors.nickname)||void 0===_errors_nickname?void 0:_errors_nickname.message),success:!!touchedFields.nickname&&!(null==errors||null===(_errors_nickname1=errors.nickname)||void 0===_errors_nickname1?void 0:_errors_nickname1.message)}),required:!0}),(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)(atoms.T,{children:!isValid&&(null==errors||null===(_errors_nickname2=errors.nickname)||void 0===_errors_nickname2?void 0:_errors_nickname2.message)||""})})]}),(0,jsx_runtime.jsxs)("div",{className:"jk-form-item",children:[(0,jsx_runtime.jsx)(atoms.pd,{labelPlacement:"top",label:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"e-mail address"}),register:register("email"),className:(0,helpers.xW)({error:!!(null==errors||null===(_errors_email=errors.email)||void 0===_errors_email?void 0:_errors_email.message),success:!!touchedFields.email&&!(null==errors||null===(_errors_email1=errors.email)||void 0===_errors_email1?void 0:_errors_email1.message)}),required:!0}),(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)(atoms.T,{children:!isValid&&(null==errors||null===(_errors_email2=errors.email)||void 0===_errors_email2?void 0:_errors_email2.message)||""})})]}),(0,jsx_runtime.jsxs)("div",{className:"jk-form-item",children:[(0,jsx_runtime.jsx)(atoms.cA,{labelPlacement:"top",label:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"password"}),register:register("password"),className:(0,helpers.xW)({error:!!(null==errors||null===(_errors_password=errors.password)||void 0===_errors_password?void 0:_errors_password.message),success:!!touchedFields.password&&!(null==errors||null===(_errors_password1=errors.password)||void 0===_errors_password1?void 0:_errors_password1.message)}),required:!0}),(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)(atoms.T,{children:!isValid&&(null==errors||null===(_errors_password2=errors.password)||void 0===_errors_password2?void 0:_errors_password2.message)||""})})]}),(0,jsx_runtime.jsxs)("div",{className:"jk-form-item",children:[(0,jsx_runtime.jsx)(atoms.cA,{labelPlacement:"top",label:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"confirm password"}),register:register("passwordConfirmation"),className:(0,helpers.xW)({error:!!(null==errors||null===(_errors_passwordConfirmation=errors.passwordConfirmation)||void 0===_errors_passwordConfirmation?void 0:_errors_passwordConfirmation.message),success:!!touchedFields.passwordConfirmation&&!(null==errors||null===(_errors_passwordConfirmation1=errors.passwordConfirmation)||void 0===_errors_passwordConfirmation1?void 0:_errors_passwordConfirmation1.message)}),required:!0}),(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)(atoms.T,{children:!isValid&&(null==errors||null===(_errors_passwordConfirmation2=errors.passwordConfirmation)||void 0===_errors_passwordConfirmation2?void 0:_errors_passwordConfirmation2.message)||""})})]}),(0,jsx_runtime.jsxs)("div",{className:"jk-form-item required",children:[(0,jsx_runtime.jsx)(index_esm.xI,{control,name:"checkbox",defaultValue:!1,render:function(_param){var value=_param.field.value,field=_object_without_properties(_param.field,["value"]);return(0,jsx_runtime.jsx)(atoms.GL,_object_spread_props(_object_spread({},field),{checked:value,label:(0,jsx_runtime.jsx)(atoms.T,{children:"I accept the Terms of Service and Privacy Policy"})}))}}),(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)(atoms.T,{children:!isValid&&(null==errors||null===(_errors_checkbox=errors.checkbox)||void 0===_errors_checkbox?void 0:_errors_checkbox.message)||""})})]}),(0,jsx_runtime.jsx)("div",{className:"jk-pg-b",children:(0,jsx_runtime.jsxs)("p",{className:"label",children:[(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"are you already a member?"}),", ",(0,jsx_runtime.jsx)("span",{className:"link",onClick:onSignInButton,children:(0,jsx_runtime.jsx)(atoms.T,{children:"sign in now"})})]})}),(0,jsx_runtime.jsxs)("div",{className:"jk-row-col gap block",children:[(0,jsx_runtime.jsx)(molecules.mT,{type:"light",onClick:onClose,children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"cancel"})}),(0,jsx_runtime.jsx)(molecules.mT,{type:"primary",setLoaderStatusRef:function(setLoader){return setLoaderRef.current=setLoader},disabled:!isValid,submit:!0,children:(0,jsx_runtime.jsx)(atoms.T,{className:"ws-np tt-se",children:"sign up"})})]})]})})]})})};function SignUpModal_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function SignUpModal_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){SignUpModal_define_property(target,key,source[key])})}return target}function SignUpModal_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function SignUpModal_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function SignUpModal(param){var isOpen=param.isOpen,onClose=param.onClose,onSuccess=param.onSuccess,onSignInButton=param.onSignInButton,_useUserStore=(0,useUserStore.k)(function(state){return state.device}),osLabel=_useUserStore.osLabel,label=_useUserStore.label,signUp=(0,useJukiUser.M)().signUp;return(0,jsx_runtime.jsx)(SignUpModalTemplate,{isOpen,onClose,onSubmit:function(data,setLoader){return signUp({body:SignUpModal_object_spread_props(SignUpModal_object_spread({},data),{osName:osLabel,deviceName:label}),setLoader,onSuccess})},onSignInButton})}SignUpModalTemplate.__docgenInfo={description:"",methods:[],displayName:"SignUpModalTemplate",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"union",raw:"((setLoaderStatus: SetLoaderStatusOnClickType, loaderStatus: LoaderStatusOnClickType, event: T) => void)\n| ((setLoaderStatus: SetLoaderStatusOnClickType, loaderStatus: LoaderStatusOnClickType, event: T) => Promise<void>)",elements:[{name:"unknown"},{name:"unknown"}]},description:""},onSignInButton:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: SignUpFormType, setStatus?: SetLoaderStatusOnClickType) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  givenName: string,\n  familyName: string,\n  nickname: string,\n  email: string,\n  password: string,\n  passwordConfirmation: string,\n  checkbox: boolean,\n}",signature:{properties:[{key:"givenName",value:{name:"string",required:!0}},{key:"familyName",value:{name:"string",required:!0}},{key:"nickname",value:{name:"string",required:!0}},{key:"email",value:{name:"string",required:!0}},{key:"password",value:{name:"string",required:!0}},{key:"passwordConfirmation",value:{name:"string",required:!0}},{key:"checkbox",value:{name:"boolean",required:!0}}]}},name:"data"},{type:{name:"signature",type:"function",raw:"(status: (Status | ((props: LoaderStatusOnClickType) => LoaderStatusOnClickType))) => void",signature:{arguments:[{type:{name:"unknown"},name:"status"}],return:{name:"void"}}},name:"setStatus"}],return:{name:"void"}}},description:""},signUpWithGoogle:{required:!1,tsType:{name:"signature",type:"function",raw:"(setStatus?: SetLoaderStatusOnClickType) => (response: any) => void",signature:{arguments:[{type:{name:"signature",type:"function",raw:"(status: (Status | ((props: LoaderStatusOnClickType) => LoaderStatusOnClickType))) => void",signature:{arguments:[{type:{name:"unknown"},name:"status"}],return:{name:"void"}}},name:"setStatus"}],return:{name:"signature",type:"function",raw:"(response: any) => void",signature:{arguments:[{type:{name:"any"},name:"response"}],return:{name:"void"}}}}},description:""},reactAppGoogleClientId:{required:!1,tsType:{name:"string"},description:""}}},SignUpModal.__docgenInfo={description:"",methods:[],displayName:"SignUpModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"union",raw:"((setLoaderStatus: SetLoaderStatusOnClickType, loaderStatus: LoaderStatusOnClickType, event: T) => void)\n| ((setLoaderStatus: SetLoaderStatusOnClickType, loaderStatus: LoaderStatusOnClickType, event: T) => Promise<void>)",elements:[{name:"unknown"},{name:"unknown"}]},description:""},onSignInButton:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"(response?: ContentResponseType<PingResponseDTO>) => void",signature:{arguments:[{type:{name:"ContentResponseType",elements:[{name:"PingResponseDTO"}],raw:"ContentResponseType<PingResponseDTO>"},name:"response"}],return:{name:"void"}}},description:""}}}}}]);