"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[27496],{"./src/components/molecules/SlideDeck/SlideDeck.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SlideDeck:()=>SlideDeck});var _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_stores_i18n_useI18nStore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/stores/i18n/useI18nStore.ts"),_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/stores/user/useUserStore.ts"),_organisms_Graphviz_GraphvizViewer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/organisms/Graphviz/GraphvizViewer.tsx");const SlideDeck=props=>{const{children,fontSize=32,theme=_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Sxu.LIGHT,colorTextHighlight,fragmented=!1}=props,deckDivRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),deckRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),userPreferredFontSize=(0,_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_3__.k)(state=>{var _state$user$settings;return null===(_state$user$settings=state.user.settings)||void 0===_state$user$settings?void 0:_state$user$settings[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.FONT_SIZE]}),userPreferredTheme=(0,_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_3__.k)(state=>{var _state$user$settings2;return null===(_state$user$settings2=state.user.settings)||void 0===_state$user$settings2?void 0:_state$user$settings2[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.THEME]}),t=(0,_stores_i18n_useI18nStore__WEBPACK_IMPORTED_MODULE_2__.T)(store=>store.i18n.t);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{const renderGraphviz=()=>{_organisms_Graphviz_GraphvizViewer__WEBPACK_IMPORTED_MODULE_4__.useGraphvizStore.getState().triggerRerender()};return deckRef.current||(async _deckRef$current3=>{const Reveal=(await __webpack_require__.e(67408).then(__webpack_require__.bind(__webpack_require__,"./node_modules/reveal.js/dist/reveal.esm.js"))).default,RevealNotes=(await __webpack_require__.e(72186).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/reveal.js/plugin/notes/notes.js",23))).default,RevealSearch=(await __webpack_require__.e(13504).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/reveal.js/plugin/search/search.js",23))).default,RevealZoom=(await __webpack_require__.e(38182).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/reveal.js/plugin/zoom/zoom.js",23))).default;deckRef.current=new Reveal(deckDivRef.current,{transition:"fade",keyboard:{}}),deckRef.current.addKeyBinding({keyCode:72,key:"H",description:t("open help overlay")},()=>{var _deckRef$current;null===(_deckRef$current=deckRef.current)||void 0===_deckRef$current||_deckRef$current.toggleHelp()}),deckRef.current.addKeyBinding({keyCode:72,key:"h",description:t("open help overlay")},()=>{var _deckRef$current2;null===(_deckRef$current2=deckRef.current)||void 0===_deckRef$current2||_deckRef$current2.toggleHelp()}),deckRef.current.initialize({plugins:[RevealZoom,RevealNotes,RevealSearch]}).then(()=>{if("undefined"!=typeof document&&fragmented){var _slides$getElementsBy;const slides=document.querySelector(".slides"),parents=Array.from(null!==(_slides$getElementsBy=null==slides?void 0:slides.getElementsByClassName("jk-md-math"))&&void 0!==_slides$getElementsBy?_slides$getElementsBy:[]).map(_ref=>{let{children}=_ref;return Array.from(children)});for(let i=0;i<parents.length;i++){let fragmentAdded=!1;for(let j=0;j<parents[i].length;j++){var _parents;if("OL"===parents[i][j].tagName||"UL"===parents[i][j].tagName)for(const li of Array.from(parents[i][j].children))li.classList.add("fragment"),fragmentAdded=!0;(fragmentAdded||parents[i][j].textContent!==(null===(_parents=parents[i-1])||void 0===_parents||null===(_parents=_parents[j])||void 0===_parents?void 0:_parents.textContent))&&(parents[i][j].classList.add("fragment"),fragmentAdded=!0)}}}}),deckRef.current.on("slidechanged",()=>{_organisms_Graphviz_GraphvizViewer__WEBPACK_IMPORTED_MODULE_4__.useGraphvizStore.getState().triggerRerender()}),deckRef.current.on("ready",()=>{_organisms_Graphviz_GraphvizViewer__WEBPACK_IMPORTED_MODULE_4__.useGraphvizStore.getState().triggerRerender()}),"undefined"!=typeof document&&document.addEventListener("pdf-ready",renderGraphviz),deckRef.current.on("fragmentshown",event=>{var _fragmentEl$parentEle;const fragmentEl=event.fragment,parent=null==fragmentEl||null===(_fragmentEl$parentEle=fragmentEl.parentElement)||void 0===_fragmentEl$parentEle?void 0:_fragmentEl$parentEle.parentElement;parent&&function hasScroll(el){return(null==el?void 0:el.scrollHeight)>(null==el?void 0:el.clientHeight)||(null==el?void 0:el.scrollWidth)>(null==el?void 0:el.clientWidth)}(parent)&&fragmentEl.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}),null===(_deckRef$current3=deckRef.current)||void 0===_deckRef$current3||_deckRef$current3.toggleHelp()})(),()=>{try{"undefined"!=typeof document&&document.removeEventListener("pdf-ready",renderGraphviz),deckRef.current&&(deckRef.current.destroy(),deckRef.current=null)}catch(e){console.warn("Reveal.js destroy call failed.")}}},[fragmented,t]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{var _document$querySelect,_document$querySelect2;"undefined"!=typeof document&&(null===(_document$querySelect=document.querySelector("body"))||void 0===_document$querySelect||_document$querySelect.style.removeProperty("--base-text-size"),null===(_document$querySelect2=document.querySelector("body"))||void 0===_document$querySelect2||_document$querySelect2.style.setProperty("--base-text-size","".concat(fontSize,"px")));return()=>{var _document$querySelect3,_document$querySelect4;"undefined"!=typeof document&&(null===(_document$querySelect3=document.querySelector("body"))||void 0===_document$querySelect3||_document$querySelect3.style.removeProperty("--base-text-size"),null===(_document$querySelect4=document.querySelector("body"))||void 0===_document$querySelect4||_document$querySelect4.style.setProperty("--base-text-size","".concat(userPreferredFontSize,"px")))}},[userPreferredFontSize,fontSize]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{var _document$querySelect5,_document$querySelect6,_document$querySelect7,_document$querySelect8;"undefined"!=typeof document&&(null===(_document$querySelect5=document.querySelector("body"))||void 0===_document$querySelect5||_document$querySelect5.classList.remove("jk-theme-dark"),null===(_document$querySelect6=document.querySelector("body"))||void 0===_document$querySelect6||_document$querySelect6.classList.remove("jk-theme-light"),theme===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Sxu.DARK?null===(_document$querySelect7=document.querySelector("body"))||void 0===_document$querySelect7||_document$querySelect7.classList.add("jk-theme-dark"):null===(_document$querySelect8=document.querySelector("body"))||void 0===_document$querySelect8||_document$querySelect8.classList.add("jk-theme-light"));return()=>{var _document$querySelect9,_document$querySelect0,_document$querySelect1,_document$querySelect10;"undefined"!=typeof document&&(null===(_document$querySelect9=document.querySelector("body"))||void 0===_document$querySelect9||_document$querySelect9.classList.remove("jk-theme-dark"),null===(_document$querySelect0=document.querySelector("body"))||void 0===_document$querySelect0||_document$querySelect0.classList.remove("jk-theme-light"),userPreferredTheme===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Sxu.DARK?null===(_document$querySelect1=document.querySelector("body"))||void 0===_document$querySelect1||_document$querySelect1.classList.add("jk-theme-dark"):null===(_document$querySelect10=document.querySelector("body"))||void 0===_document$querySelect10||_document$querySelect10.classList.add("jk-theme-light"))}},[userPreferredTheme,theme]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{var _document$querySelect11,_document$querySelect12;"undefined"!=typeof document&&colorTextHighlight&&(null===(_document$querySelect11=document.querySelector("body"))||void 0===_document$querySelect11||_document$querySelect11.style.removeProperty("--t-color-text-highlight"),null===(_document$querySelect12=document.querySelector("body"))||void 0===_document$querySelect12||_document$querySelect12.style.setProperty("--t-color-text-highlight",colorTextHighlight));return()=>{var _document$querySelect13;"undefined"!=typeof document&&(null===(_document$querySelect13=document.querySelector("body"))||void 0===_document$querySelect13||_document$querySelect13.style.removeProperty("--t-color-text-highlight"))}},[userPreferredFontSize,fontSize]),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"reveal",ref:deckDivRef},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"slides"},react__WEBPACK_IMPORTED_MODULE_1__.Children.toArray(children)))};SlideDeck.__docgenInfo={description:"",methods:[],displayName:"SlideDeck",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},fontSize:{required:!1,tsType:{name:"number"},description:""},theme:{required:!1,tsType:{name:"Theme"},description:""},colorTextHighlight:{required:!1,tsType:{name:"string"},description:""},fragmented:{required:!1,tsType:{name:"boolean"},description:""}}}}}]);