"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[87047],{"./node_modules/@excalidraw/mermaid-to-excalidraw/node_modules/dagre-d3-es/src/dagre/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Zp:()=>layout});var forEach=__webpack_require__("./node_modules/lodash-es/forEach.js"),uniqueId=__webpack_require__("./node_modules/lodash-es/uniqueId.js"),has=__webpack_require__("./node_modules/lodash-es/has.js"),constant=__webpack_require__("./node_modules/lodash-es/constant.js"),flatten=__webpack_require__("./node_modules/lodash-es/flatten.js"),map=__webpack_require__("./node_modules/lodash-es/map.js"),range=__webpack_require__("./node_modules/lodash-es/range.js"),graphlib=__webpack_require__("./node_modules/@excalidraw/mermaid-to-excalidraw/node_modules/dagre-d3-es/src/graphlib/index.js");class List{constructor(){var sentinel={};sentinel._next=sentinel._prev=sentinel,this._sentinel=sentinel}dequeue(){var sentinel=this._sentinel,entry=sentinel._prev;if(entry!==sentinel)return unlink(entry),entry}enqueue(entry){var sentinel=this._sentinel;entry._prev&&entry._next&&unlink(entry),entry._next=sentinel._next,sentinel._next._prev=entry,sentinel._next=entry,entry._prev=sentinel}toString(){for(var strs=[],sentinel=this._sentinel,curr=sentinel._prev;curr!==sentinel;)strs.push(JSON.stringify(curr,filterOutLinks)),curr=curr._prev;return"["+strs.join(", ")+"]"}}function unlink(entry){entry._prev._next=entry._next,entry._next._prev=entry._prev,delete entry._next,delete entry._prev}function filterOutLinks(k,v){if("_next"!==k&&"_prev"!==k)return v}var DEFAULT_WEIGHT_FN=constant.A(1);function greedyFAS(g,weightFn){if(g.nodeCount()<=1)return[];var state=function buildState(g,weightFn){var fasGraph=new graphlib.T,maxIn=0,maxOut=0;forEach.A(g.nodes(),function(v){fasGraph.setNode(v,{v,in:0,out:0})}),forEach.A(g.edges(),function(e){var prevWeight=fasGraph.edge(e.v,e.w)||0,weight=weightFn(e),edgeWeight=prevWeight+weight;fasGraph.setEdge(e.v,e.w,edgeWeight),maxOut=Math.max(maxOut,fasGraph.node(e.v).out+=weight),maxIn=Math.max(maxIn,fasGraph.node(e.w).in+=weight)});var buckets=range.A(maxOut+maxIn+3).map(function(){return new List}),zeroIdx=maxIn+1;return forEach.A(fasGraph.nodes(),function(v){assignBucket(buckets,zeroIdx,fasGraph.node(v))}),{graph:fasGraph,buckets,zeroIdx}}(g,weightFn||DEFAULT_WEIGHT_FN),results=function doGreedyFAS(g,buckets,zeroIdx){var entry,results=[],sources=buckets[buckets.length-1],sinks=buckets[0];for(;g.nodeCount();){for(;entry=sinks.dequeue();)removeNode(g,buckets,zeroIdx,entry);for(;entry=sources.dequeue();)removeNode(g,buckets,zeroIdx,entry);if(g.nodeCount())for(var i=buckets.length-2;i>0;--i)if(entry=buckets[i].dequeue()){results=results.concat(removeNode(g,buckets,zeroIdx,entry,!0));break}}return results}(state.graph,state.buckets,state.zeroIdx);return flatten.A(map.A(results,function(e){return g.outEdges(e.v,e.w)}))}function removeNode(g,buckets,zeroIdx,entry,collectPredecessors){var results=collectPredecessors?[]:void 0;return forEach.A(g.inEdges(entry.v),function(edge){var weight=g.edge(edge),uEntry=g.node(edge.v);collectPredecessors&&results.push({v:edge.v,w:edge.w}),uEntry.out-=weight,assignBucket(buckets,zeroIdx,uEntry)}),forEach.A(g.outEdges(entry.v),function(edge){var weight=g.edge(edge),w=edge.w,wEntry=g.node(w);wEntry.in-=weight,assignBucket(buckets,zeroIdx,wEntry)}),g.removeNode(entry.v),results}function assignBucket(buckets,zeroIdx,entry){entry.out?entry.in?buckets[entry.out-entry.in+zeroIdx].enqueue(entry):buckets[buckets.length-1].enqueue(entry):buckets[0].enqueue(entry)}function run(g){var fas="greedy"===g.graph().acyclicer?greedyFAS(g,function weightFn(g){return function(e){return g.edge(e).weight}}(g)):function dfsFAS(g){var fas=[],stack={},visited={};function dfs(v){has.A(visited,v)||(visited[v]=!0,stack[v]=!0,forEach.A(g.outEdges(v),function(e){has.A(stack,e.w)?fas.push(e):dfs(e.w)}),delete stack[v])}return forEach.A(g.nodes(),dfs),fas}(g);forEach.A(fas,function(e){var label=g.edge(e);g.removeEdge(e),label.forwardName=e.name,label.reversed=!0,g.setEdge(e.w,e.v,label,uniqueId.A("rev"))})}var merge=__webpack_require__("./node_modules/lodash-es/merge.js"),pick=__webpack_require__("./node_modules/lodash-es/pick.js"),defaults=__webpack_require__("./node_modules/lodash-es/defaults.js"),max=__webpack_require__("./node_modules/lodash-es/max.js"),lodash_es_last=__webpack_require__("./node_modules/lodash-es/last.js"),mapValues=__webpack_require__("./node_modules/lodash-es/mapValues.js"),isUndefined=__webpack_require__("./node_modules/lodash-es/isUndefined.js"),lodash_es_min=__webpack_require__("./node_modules/lodash-es/min.js"),now=__webpack_require__("./node_modules/lodash-es/now.js");function addDummyNode(g,type,attrs,name){var v;do{v=uniqueId.A(name)}while(g.hasNode(v));return attrs.dummy=type,g.setNode(v,attrs),v}function asNonCompoundGraph(g){var simplified=new graphlib.T({multigraph:g.isMultigraph()}).setGraph(g.graph());return forEach.A(g.nodes(),function(v){g.children(v).length||simplified.setNode(v,g.node(v))}),forEach.A(g.edges(),function(e){simplified.setEdge(e,g.edge(e))}),simplified}function intersectRect(rect,point){var sx,sy,x=rect.x,y=rect.y,dx=point.x-x,dy=point.y-y,w=rect.width/2,h=rect.height/2;if(!dx&&!dy)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(dy)*w>Math.abs(dx)*h?(dy<0&&(h=-h),sx=h*dx/dy,sy=h):(dx<0&&(w=-w),sx=w,sy=w*dy/dx),{x:x+sx,y:y+sy}}function buildLayerMatrix(g){var layering=map.A(range.A(util_maxRank(g)+1),function(){return[]});return forEach.A(g.nodes(),function(v){var node=g.node(v),rank=node.rank;isUndefined.A(rank)||(layering[rank][node.order]=v)}),layering}function addBorderNode(g,prefix,rank,order){var node={width:0,height:0};return arguments.length>=4&&(node.rank=rank,node.order=order),addDummyNode(g,"border",node,prefix)}function util_maxRank(g){return max.A(map.A(g.nodes(),function(v){var rank=g.node(v).rank;if(!isUndefined.A(rank))return rank}))}function util_time(name,fn){var start=now.A();try{return fn()}finally{console.log(name+" time: "+(now.A()-start)+"ms")}}function notime(name,fn){return fn()}function add_border_segments_addBorderNode(g,prop,prefix,sg,sgNode,rank){var label={width:0,height:0,rank,borderType:prop},prev=sgNode[prop][rank-1],curr=addDummyNode(g,"border",label,prefix);sgNode[prop][rank]=curr,g.setParent(curr,sg),prev&&g.setEdge(prev,curr,{weight:1})}function coordinate_system_undo(g){var rankDir=g.graph().rankdir.toLowerCase();"bt"!==rankDir&&"rl"!==rankDir||function reverseY(g){forEach.A(g.nodes(),function(v){reverseYOne(g.node(v))}),forEach.A(g.edges(),function(e){var edge=g.edge(e);forEach.A(edge.points,reverseYOne),has.A(edge,"y")&&reverseYOne(edge)})}(g),"lr"!==rankDir&&"rl"!==rankDir||(!function swapXY(g){forEach.A(g.nodes(),function(v){swapXYOne(g.node(v))}),forEach.A(g.edges(),function(e){var edge=g.edge(e);forEach.A(edge.points,swapXYOne),has.A(edge,"x")&&swapXYOne(edge)})}(g),swapWidthHeight(g))}function swapWidthHeight(g){forEach.A(g.nodes(),function(v){swapWidthHeightOne(g.node(v))}),forEach.A(g.edges(),function(e){swapWidthHeightOne(g.edge(e))})}function swapWidthHeightOne(attrs){var w=attrs.width;attrs.width=attrs.height,attrs.height=w}function reverseYOne(attrs){attrs.y=-attrs.y}function swapXYOne(attrs){var x=attrs.x;attrs.x=attrs.y,attrs.y=x}function normalize_run(g){g.graph().dummyChains=[],forEach.A(g.edges(),function(edge){!function normalizeEdge(g,e){var dummy,attrs,i,v=e.v,vRank=g.node(v).rank,w=e.w,wRank=g.node(w).rank,name=e.name,edgeLabel=g.edge(e),labelRank=edgeLabel.labelRank;if(wRank===vRank+1)return;for(g.removeEdge(e),i=0,++vRank;vRank<wRank;++i,++vRank)edgeLabel.points=[],dummy=addDummyNode(g,"edge",attrs={width:0,height:0,edgeLabel,edgeObj:e,rank:vRank},"_d"),vRank===labelRank&&(attrs.width=edgeLabel.width,attrs.height=edgeLabel.height,attrs.dummy="edge-label",attrs.labelpos=edgeLabel.labelpos),g.setEdge(v,dummy,{weight:edgeLabel.weight},name),0===i&&g.graph().dummyChains.push(dummy),v=dummy;g.setEdge(v,w,{weight:edgeLabel.weight},name)}(g,edge)})}var minBy=__webpack_require__("./node_modules/lodash-es/minBy.js");function longestPath(g){var visited={};forEach.A(g.sources(),function dfs(v){var label=g.node(v);if(has.A(visited,v))return label.rank;visited[v]=!0;var rank=lodash_es_min.A(map.A(g.outEdges(v),function(e){return dfs(e.w)-g.edge(e).minlen}));return rank!==Number.POSITIVE_INFINITY&&null!=rank||(rank=0),label.rank=rank})}function slack(g,e){return g.node(e.w).rank-g.node(e.v).rank-g.edge(e).minlen}function feasibleTree(g){var edge,delta,t=new graphlib.T({directed:!1}),start=g.nodes()[0],size=g.nodeCount();for(t.setNode(start,{});tightTree(t,g)<size;)edge=findMinSlackEdge(t,g),delta=t.hasNode(edge.v)?slack(g,edge):-slack(g,edge),shiftRanks(t,g,delta);return t}function tightTree(t,g){return forEach.A(t.nodes(),function dfs(v){forEach.A(g.nodeEdges(v),function(e){var edgeV=e.v,w=v===edgeV?e.w:edgeV;t.hasNode(w)||slack(g,e)||(t.setNode(w,{}),t.setEdge(v,w,{}),dfs(w))})}),t.nodeCount()}function findMinSlackEdge(t,g){return minBy.A(g.edges(),function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return slack(g,e)})}function shiftRanks(t,g,delta){forEach.A(t.nodes(),function(v){g.node(v).rank+=delta})}var find=__webpack_require__("./node_modules/lodash-es/find.js"),filter=__webpack_require__("./node_modules/lodash-es/filter.js");constant.A(1);constant.A(1);__webpack_require__("./node_modules/lodash-es/size.js");function topsort_CycleException(){}topsort_CycleException.prototype=new Error;var isArray=__webpack_require__("./node_modules/lodash-es/isArray.js");function dfs(g,vs,order){isArray.A(vs)||(vs=[vs]);var navigation=(g.isDirected()?g.successors:g.neighbors).bind(g),acc=[],visited={};return forEach.A(vs,function(v){if(!g.hasNode(v))throw new Error("Graph does not have node: "+v);doDfs(g,v,"post"===order,visited,navigation,acc)}),acc}function doDfs(g,v,postorder,visited,navigation,acc){has.A(visited,v)||(visited[v]=!0,postorder||acc.push(v),forEach.A(navigation(v),function(w){doDfs(g,w,postorder,visited,navigation,acc)}),postorder&&acc.push(v))}__webpack_require__("./node_modules/@excalidraw/mermaid-to-excalidraw/node_modules/dagre-d3-es/src/graphlib/graph.js");function networkSimplex(g){g=function simplify(g){var simplified=(new graphlib.T).setGraph(g.graph());return forEach.A(g.nodes(),function(v){simplified.setNode(v,g.node(v))}),forEach.A(g.edges(),function(e){var simpleLabel=simplified.edge(e.v,e.w)||{weight:0,minlen:1},label=g.edge(e);simplified.setEdge(e.v,e.w,{weight:simpleLabel.weight+label.weight,minlen:Math.max(simpleLabel.minlen,label.minlen)})}),simplified}(g),longestPath(g);var e,t=feasibleTree(g);for(initLowLimValues(t),initCutValues(t,g);e=leaveEdge(t);)exchangeEdges(t,g,e,enterEdge(t,g,e))}function initCutValues(t,g){var vs=function postorder(g,vs){return dfs(g,vs,"post")}(t,t.nodes());vs=vs.slice(0,vs.length-1),forEach.A(vs,function(v){!function assignCutValue(t,g,child){var childLab=t.node(child),parent=childLab.parent;t.edge(child,parent).cutvalue=calcCutValue(t,g,child)}(t,g,v)})}function calcCutValue(t,g,child){var parent=t.node(child).parent,childIsTail=!0,graphEdge=g.edge(child,parent),cutValue=0;return graphEdge||(childIsTail=!1,graphEdge=g.edge(parent,child)),cutValue=graphEdge.weight,forEach.A(g.nodeEdges(child),function(e){var isOutEdge=e.v===child,other=isOutEdge?e.w:e.v;if(other!==parent){var pointsToHead=isOutEdge===childIsTail,otherWeight=g.edge(e).weight;if(cutValue+=pointsToHead?otherWeight:-otherWeight,function isTreeEdge(tree,u,v){return tree.hasEdge(u,v)}(t,child,other)){var otherCutValue=t.edge(child,other).cutvalue;cutValue+=pointsToHead?-otherCutValue:otherCutValue}}}),cutValue}function initLowLimValues(tree,root){arguments.length<2&&(root=tree.nodes()[0]),dfsAssignLowLim(tree,{},1,root)}function dfsAssignLowLim(tree,visited,nextLim,v,parent){var low=nextLim,label=tree.node(v);return visited[v]=!0,forEach.A(tree.neighbors(v),function(w){has.A(visited,w)||(nextLim=dfsAssignLowLim(tree,visited,nextLim,w,v))}),label.low=low,label.lim=nextLim++,parent?label.parent=parent:delete label.parent,nextLim}function leaveEdge(tree){return find.A(tree.edges(),function(e){return tree.edge(e).cutvalue<0})}function enterEdge(t,g,edge){var v=edge.v,w=edge.w;g.hasEdge(v,w)||(v=edge.w,w=edge.v);var vLabel=t.node(v),wLabel=t.node(w),tailLabel=vLabel,flip=!1;vLabel.lim>wLabel.lim&&(tailLabel=wLabel,flip=!0);var candidates=filter.A(g.edges(),function(edge){return flip===isDescendant(t,t.node(edge.v),tailLabel)&&flip!==isDescendant(t,t.node(edge.w),tailLabel)});return minBy.A(candidates,function(edge){return slack(g,edge)})}function exchangeEdges(t,g,e,f){var v=e.v,w=e.w;t.removeEdge(v,w),t.setEdge(f.v,f.w,{}),initLowLimValues(t),initCutValues(t,g),function updateRanks(t,g){var root=find.A(t.nodes(),function(v){return!g.node(v).parent}),vs=function preorder(g,vs){return dfs(g,vs,"pre")}(t,root);vs=vs.slice(1),forEach.A(vs,function(v){var parent=t.node(v).parent,edge=g.edge(v,parent),flipped=!1;edge||(edge=g.edge(parent,v),flipped=!0),g.node(v).rank=g.node(parent).rank+(flipped?edge.minlen:-edge.minlen)})}(t,g)}function isDescendant(tree,vLabel,rootLabel){return rootLabel.low<=vLabel.lim&&vLabel.lim<=rootLabel.lim}function rank(g){switch(g.graph().ranker){case"network-simplex":default:networkSimplexRanker(g);break;case"tight-tree":!function tightTreeRanker(g){longestPath(g),feasibleTree(g)}(g);break;case"longest-path":longestPathRanker(g)}}networkSimplex.initLowLimValues=initLowLimValues,networkSimplex.initCutValues=initCutValues,networkSimplex.calcCutValue=calcCutValue,networkSimplex.leaveEdge=leaveEdge,networkSimplex.enterEdge=enterEdge,networkSimplex.exchangeEdges=exchangeEdges;var longestPathRanker=longestPath;function networkSimplexRanker(g){networkSimplex(g)}var values=__webpack_require__("./node_modules/lodash-es/values.js"),reduce=__webpack_require__("./node_modules/lodash-es/reduce.js");function nesting_graph_run(g){var root=addDummyNode(g,"root",{},"_root"),depths=function treeDepths(g){var depths={};function dfs(v,depth){var children=g.children(v);children&&children.length&&forEach.A(children,function(child){dfs(child,depth+1)}),depths[v]=depth}return forEach.A(g.children(),function(v){dfs(v,1)}),depths}(g),height=max.A(values.A(depths))-1,nodeSep=2*height+1;g.graph().nestingRoot=root,forEach.A(g.edges(),function(e){g.edge(e).minlen*=nodeSep});var weight=function sumWeights(g){return reduce.A(g.edges(),function(acc,e){return acc+g.edge(e).weight},0)}(g)+1;forEach.A(g.children(),function(child){nesting_graph_dfs(g,root,nodeSep,weight,height,depths,child)}),g.graph().nodeRankFactor=nodeSep}function nesting_graph_dfs(g,root,nodeSep,weight,height,depths,v){var children=g.children(v);if(children.length){var top=addBorderNode(g,"_bt"),bottom=addBorderNode(g,"_bb"),label=g.node(v);g.setParent(top,v),label.borderTop=top,g.setParent(bottom,v),label.borderBottom=bottom,forEach.A(children,function(child){nesting_graph_dfs(g,root,nodeSep,weight,height,depths,child);var childNode=g.node(child),childTop=childNode.borderTop?childNode.borderTop:child,childBottom=childNode.borderBottom?childNode.borderBottom:child,thisWeight=childNode.borderTop?weight:2*weight,minlen=childTop!==childBottom?1:height-depths[v]+1;g.setEdge(top,childTop,{weight:thisWeight,minlen,nestingEdge:!0}),g.setEdge(childBottom,bottom,{weight:thisWeight,minlen,nestingEdge:!0})}),g.parent(v)||g.setEdge(root,top,{weight:0,minlen:height+depths[v]})}else v!==root&&g.setEdge(root,v,{weight:0,minlen:nodeSep})}var cloneDeep=__webpack_require__("./node_modules/lodash-es/cloneDeep.js");function buildLayerGraph(g,rank,relationship){var root=function createRootNode(g){var v;for(;g.hasNode(v=uniqueId.A("_root")););return v}(g),result=new graphlib.T({compound:!0}).setGraph({root}).setDefaultNodeLabel(function(v){return g.node(v)});return forEach.A(g.nodes(),function(v){var node=g.node(v),parent=g.parent(v);(node.rank===rank||node.minRank<=rank&&rank<=node.maxRank)&&(result.setNode(v),result.setParent(v,parent||root),forEach.A(g[relationship](v),function(e){var u=e.v===v?e.w:e.v,edge=result.edge(u,v),weight=isUndefined.A(edge)?0:edge.weight;result.setEdge(u,v,{weight:g.edge(e).weight+weight})}),has.A(node,"minRank")&&result.setNode(v,{borderLeft:node.borderLeft[rank],borderRight:node.borderRight[rank]}))}),result}var zipObject=__webpack_require__("./node_modules/lodash-es/zipObject.js"),sortBy=__webpack_require__("./node_modules/lodash-es/sortBy.js");function crossCount(g,layering){for(var cc=0,i=1;i<layering.length;++i)cc+=twoLayerCrossCount(g,layering[i-1],layering[i]);return cc}function twoLayerCrossCount(g,northLayer,southLayer){for(var southPos=zipObject.A(southLayer,map.A(southLayer,function(v,i){return i})),southEntries=flatten.A(map.A(northLayer,function(v){return sortBy.A(map.A(g.outEdges(v),function(e){return{pos:southPos[e.w],weight:g.edge(e).weight}}),"pos")})),firstIndex=1;firstIndex<southLayer.length;)firstIndex<<=1;var treeSize=2*firstIndex-1;firstIndex-=1;var tree=map.A(new Array(treeSize),function(){return 0}),cc=0;return forEach.A(southEntries.forEach(function(entry){var index=entry.pos+firstIndex;tree[index]+=entry.weight;for(var weightSum=0;index>0;)index%2&&(weightSum+=tree[index+1]),tree[index=index-1>>1]+=entry.weight;cc+=entry.weight*weightSum})),cc}function resolveConflicts(entries,cg){var mappedEntries={};return forEach.A(entries,function(entry,i){var tmp=mappedEntries[entry.v]={indegree:0,in:[],out:[],vs:[entry.v],i};isUndefined.A(entry.barycenter)||(tmp.barycenter=entry.barycenter,tmp.weight=entry.weight)}),forEach.A(cg.edges(),function(e){var entryV=mappedEntries[e.v],entryW=mappedEntries[e.w];isUndefined.A(entryV)||isUndefined.A(entryW)||(entryW.indegree++,entryV.out.push(mappedEntries[e.w]))}),function doResolveConflicts(sourceSet){var entries=[];function handleIn(vEntry){return function(uEntry){uEntry.merged||(isUndefined.A(uEntry.barycenter)||isUndefined.A(vEntry.barycenter)||uEntry.barycenter>=vEntry.barycenter)&&function mergeEntries(target,source){var sum=0,weight=0;target.weight&&(sum+=target.barycenter*target.weight,weight+=target.weight);source.weight&&(sum+=source.barycenter*source.weight,weight+=source.weight);target.vs=source.vs.concat(target.vs),target.barycenter=sum/weight,target.weight=weight,target.i=Math.min(source.i,target.i),source.merged=!0}(vEntry,uEntry)}}function handleOut(vEntry){return function(wEntry){wEntry.in.push(vEntry),0===--wEntry.indegree&&sourceSet.push(wEntry)}}for(;sourceSet.length;){var entry=sourceSet.pop();entries.push(entry),forEach.A(entry.in.reverse(),handleIn(entry)),forEach.A(entry.out,handleOut(entry))}return map.A(filter.A(entries,function(entry){return!entry.merged}),function(entry){return pick.A(entry,["vs","i","barycenter","weight"])})}(filter.A(mappedEntries,function(entry){return!entry.indegree}))}function sort(entries,biasRight){var parts=function partition(collection,fn){var result={lhs:[],rhs:[]};return forEach.A(collection,function(value){fn(value)?result.lhs.push(value):result.rhs.push(value)}),result}(entries,function(entry){return has.A(entry,"barycenter")}),sortable=parts.lhs,unsortable=sortBy.A(parts.rhs,function(entry){return-entry.i}),vs=[],sum=0,weight=0,vsIndex=0;sortable.sort(function compareWithBias(bias){return function(entryV,entryW){return entryV.barycenter<entryW.barycenter?-1:entryV.barycenter>entryW.barycenter?1:bias?entryW.i-entryV.i:entryV.i-entryW.i}}(!!biasRight)),vsIndex=consumeUnsortable(vs,unsortable,vsIndex),forEach.A(sortable,function(entry){vsIndex+=entry.vs.length,vs.push(entry.vs),sum+=entry.barycenter*entry.weight,weight+=entry.weight,vsIndex=consumeUnsortable(vs,unsortable,vsIndex)});var result={vs:flatten.A(vs)};return weight&&(result.barycenter=sum/weight,result.weight=weight),result}function consumeUnsortable(vs,unsortable,index){for(var last;unsortable.length&&(last=lodash_es_last.A(unsortable)).i<=index;)unsortable.pop(),vs.push(last.vs),index++;return index}function sortSubgraph(g,v,cg,biasRight){var movable=g.children(v),node=g.node(v),bl=node?node.borderLeft:void 0,br=node?node.borderRight:void 0,subgraphs={};bl&&(movable=filter.A(movable,function(w){return w!==bl&&w!==br}));var barycenters=function barycenter(g,movable){return map.A(movable,function(v){var inV=g.inEdges(v);if(inV.length){var result=reduce.A(inV,function(acc,e){var edge=g.edge(e),nodeU=g.node(e.v);return{sum:acc.sum+edge.weight*nodeU.order,weight:acc.weight+edge.weight}},{sum:0,weight:0});return{v,barycenter:result.sum/result.weight,weight:result.weight}}return{v}})}(g,movable);forEach.A(barycenters,function(entry){if(g.children(entry.v).length){var subgraphResult=sortSubgraph(g,entry.v,cg,biasRight);subgraphs[entry.v]=subgraphResult,has.A(subgraphResult,"barycenter")&&function mergeBarycenters(target,other){isUndefined.A(target.barycenter)?(target.barycenter=other.barycenter,target.weight=other.weight):(target.barycenter=(target.barycenter*target.weight+other.barycenter*other.weight)/(target.weight+other.weight),target.weight+=other.weight)}(entry,subgraphResult)}});var entries=resolveConflicts(barycenters,cg);!function expandSubgraphs(entries,subgraphs){forEach.A(entries,function(entry){entry.vs=flatten.A(entry.vs.map(function(v){return subgraphs[v]?subgraphs[v].vs:v}))})}(entries,subgraphs);var result=sort(entries,biasRight);if(bl&&(result.vs=flatten.A([bl,result.vs,br]),g.predecessors(bl).length)){var blPred=g.node(g.predecessors(bl)[0]),brPred=g.node(g.predecessors(br)[0]);has.A(result,"barycenter")||(result.barycenter=0,result.weight=0),result.barycenter=(result.barycenter*result.weight+blPred.order+brPred.order)/(result.weight+2),result.weight+=2}return result}function order(g){var maxRank=util_maxRank(g),downLayerGraphs=buildLayerGraphs(g,range.A(1,maxRank+1),"inEdges"),upLayerGraphs=buildLayerGraphs(g,range.A(maxRank-1,-1,-1),"outEdges"),layering=function initOrder(g){var visited={},simpleNodes=filter.A(g.nodes(),function(v){return!g.children(v).length}),maxRank=max.A(map.A(simpleNodes,function(v){return g.node(v).rank})),layers=map.A(range.A(maxRank+1),function(){return[]}),orderedVs=sortBy.A(simpleNodes,function(v){return g.node(v).rank});return forEach.A(orderedVs,function dfs(v){if(!has.A(visited,v)){visited[v]=!0;var node=g.node(v);layers[node.rank].push(v),forEach.A(g.successors(v),dfs)}}),layers}(g);assignOrder(g,layering);for(var best,bestCC=Number.POSITIVE_INFINITY,i=0,lastBest=0;lastBest<4;++i,++lastBest){sweepLayerGraphs(i%2?downLayerGraphs:upLayerGraphs,i%4>=2);var cc=crossCount(g,layering=buildLayerMatrix(g));cc<bestCC&&(lastBest=0,best=cloneDeep.A(layering),bestCC=cc)}assignOrder(g,best)}function buildLayerGraphs(g,ranks,relationship){return map.A(ranks,function(rank){return buildLayerGraph(g,rank,relationship)})}function sweepLayerGraphs(layerGraphs,biasRight){var cg=new graphlib.T;forEach.A(layerGraphs,function(lg){var root=lg.graph().root,sorted=sortSubgraph(lg,root,cg,biasRight);forEach.A(sorted.vs,function(v,i){lg.node(v).order=i}),function addSubgraphConstraints(g,cg,vs){var rootPrev,prev={};forEach.A(vs,function(v){for(var parent,prevChild,child=g.parent(v);child;){if((parent=g.parent(child))?(prevChild=prev[parent],prev[parent]=child):(prevChild=rootPrev,rootPrev=child),prevChild&&prevChild!==child)return void cg.setEdge(prevChild,child);child=parent}})}(lg,cg,sorted.vs)})}function assignOrder(g,layering){forEach.A(layering,function(layer){forEach.A(layer,function(v,i){g.node(v).order=i})})}function parentDummyChains(g){var postorderNums=function parent_dummy_chains_postorder(g){var result={},lim=0;function dfs(v){var low=lim;forEach.A(g.children(v),dfs),result[v]={low,lim:lim++}}return forEach.A(g.children(),dfs),result}(g);forEach.A(g.graph().dummyChains,function(v){for(var node=g.node(v),edgeObj=node.edgeObj,pathData=function findPath(g,postorderNums,v,w){var parent,lca,vPath=[],wPath=[],low=Math.min(postorderNums[v].low,postorderNums[w].low),lim=Math.max(postorderNums[v].lim,postorderNums[w].lim);parent=v;do{parent=g.parent(parent),vPath.push(parent)}while(parent&&(postorderNums[parent].low>low||lim>postorderNums[parent].lim));lca=parent,parent=w;for(;(parent=g.parent(parent))!==lca;)wPath.push(parent);return{path:vPath.concat(wPath.reverse()),lca}}(g,postorderNums,edgeObj.v,edgeObj.w),path=pathData.path,lca=pathData.lca,pathIdx=0,pathV=path[pathIdx],ascending=!0;v!==edgeObj.w;){if(node=g.node(v),ascending){for(;(pathV=path[pathIdx])!==lca&&g.node(pathV).maxRank<node.rank;)pathIdx++;pathV===lca&&(ascending=!1)}if(!ascending){for(;pathIdx<path.length-1&&g.node(pathV=path[pathIdx+1]).minRank<=node.rank;)pathIdx++;pathV=path[pathIdx]}g.setParent(v,pathV),v=g.successors(v)[0]}})}var forOwn=__webpack_require__("./node_modules/lodash-es/forOwn.js"),forIn=__webpack_require__("./node_modules/lodash-es/forIn.js");function findType1Conflicts(g,layering){var conflicts={};return reduce.A(layering,function visitLayer(prevLayer,layer){var k0=0,scanPos=0,prevLayerLength=prevLayer.length,lastNode=lodash_es_last.A(layer);return forEach.A(layer,function(v,i){var w=function findOtherInnerSegmentNode(g,v){if(g.node(v).dummy)return find.A(g.predecessors(v),function(u){return g.node(u).dummy})}(g,v),k1=w?g.node(w).order:prevLayerLength;(w||v===lastNode)&&(forEach.A(layer.slice(scanPos,i+1),function(scanNode){forEach.A(g.predecessors(scanNode),function(u){var uLabel=g.node(u),uPos=uLabel.order;!(uPos<k0||k1<uPos)||uLabel.dummy&&g.node(scanNode).dummy||addConflict(conflicts,u,scanNode)})}),scanPos=i+1,k0=k1)}),layer}),conflicts}function addConflict(conflicts,v,w){if(v>w){var tmp=v;v=w,w=tmp}var conflictsV=conflicts[v];conflictsV||(conflicts[v]=conflictsV={}),conflictsV[w]=!0}function hasConflict(conflicts,v,w){if(v>w){var tmp=v;v=w,w=tmp}return has.A(conflicts[v],w)}function horizontalCompaction(g,layering,root,align,reverseSep){var xs={},blockG=function buildBlockGraph(g,layering,root,reverseSep){var blockGraph=new graphlib.T,graphLabel=g.graph(),sepFn=function sep(nodeSep,edgeSep,reverseSep){return function(g,v,w){var delta,vLabel=g.node(v),wLabel=g.node(w),sum=0;if(sum+=vLabel.width/2,has.A(vLabel,"labelpos"))switch(vLabel.labelpos.toLowerCase()){case"l":delta=-vLabel.width/2;break;case"r":delta=vLabel.width/2}if(delta&&(sum+=reverseSep?delta:-delta),delta=0,sum+=(vLabel.dummy?edgeSep:nodeSep)/2,sum+=(wLabel.dummy?edgeSep:nodeSep)/2,sum+=wLabel.width/2,has.A(wLabel,"labelpos"))switch(wLabel.labelpos.toLowerCase()){case"l":delta=wLabel.width/2;break;case"r":delta=-wLabel.width/2}return delta&&(sum+=reverseSep?delta:-delta),delta=0,sum}}(graphLabel.nodesep,graphLabel.edgesep,reverseSep);return forEach.A(layering,function(layer){var u;forEach.A(layer,function(v){var vRoot=root[v];if(blockGraph.setNode(vRoot),u){var uRoot=root[u],prevMax=blockGraph.edge(uRoot,vRoot);blockGraph.setEdge(uRoot,vRoot,Math.max(sepFn(g,v,u),prevMax||0))}u=v})}),blockGraph}(g,layering,root,reverseSep),borderType=reverseSep?"borderLeft":"borderRight";function iterate(setXsFunc,nextNodesFunc){for(var stack=blockG.nodes(),elem=stack.pop(),visited={};elem;)visited[elem]?setXsFunc(elem):(visited[elem]=!0,stack.push(elem),stack=stack.concat(nextNodesFunc(elem))),elem=stack.pop()}return iterate(function pass1(elem){xs[elem]=blockG.inEdges(elem).reduce(function(acc,e){return Math.max(acc,xs[e.v]+blockG.edge(e))},0)},blockG.predecessors.bind(blockG)),iterate(function pass2(elem){var min=blockG.outEdges(elem).reduce(function(acc,e){return Math.min(acc,xs[e.w]-blockG.edge(e))},Number.POSITIVE_INFINITY),node=g.node(elem);min!==Number.POSITIVE_INFINITY&&node.borderType!==borderType&&(xs[elem]=Math.max(xs[elem],min))},blockG.successors.bind(blockG)),forEach.A(align,function(v){xs[v]=xs[root[v]]}),xs}function positionX(g){var adjustedLayering,layering=buildLayerMatrix(g),conflicts=merge.A(findType1Conflicts(g,layering),function findType2Conflicts(g,layering){var conflicts={};function scan(south,southPos,southEnd,prevNorthBorder,nextNorthBorder){var v;forEach.A(range.A(southPos,southEnd),function(i){v=south[i],g.node(v).dummy&&forEach.A(g.predecessors(v),function(u){var uNode=g.node(u);uNode.dummy&&(uNode.order<prevNorthBorder||uNode.order>nextNorthBorder)&&addConflict(conflicts,u,v)})})}return reduce.A(layering,function visitLayer(north,south){var nextNorthPos,prevNorthPos=-1,southPos=0;return forEach.A(south,function(v,southLookahead){if("border"===g.node(v).dummy){var predecessors=g.predecessors(v);predecessors.length&&(nextNorthPos=g.node(predecessors[0]).order,scan(south,southPos,southLookahead,prevNorthPos,nextNorthPos),southPos=southLookahead,prevNorthPos=nextNorthPos)}scan(south,southPos,south.length,nextNorthPos,north.length)}),south}),conflicts}(g,layering)),xss={};forEach.A(["u","d"],function(vert){adjustedLayering="u"===vert?layering:values.A(layering).reverse(),forEach.A(["l","r"],function(horiz){"r"===horiz&&(adjustedLayering=map.A(adjustedLayering,function(inner){return values.A(inner).reverse()}));var neighborFn=("u"===vert?g.predecessors:g.successors).bind(g),align=function verticalAlignment(g,layering,conflicts,neighborFn){var root={},align={},pos={};return forEach.A(layering,function(layer){forEach.A(layer,function(v,order){root[v]=v,align[v]=v,pos[v]=order})}),forEach.A(layering,function(layer){var prevIdx=-1;forEach.A(layer,function(v){var ws=neighborFn(v);if(ws.length){ws=sortBy.A(ws,function(w){return pos[w]});for(var mp=(ws.length-1)/2,i=Math.floor(mp),il=Math.ceil(mp);i<=il;++i){var w=ws[i];align[v]===v&&prevIdx<pos[w]&&!hasConflict(conflicts,v,w)&&(align[w]=v,align[v]=root[v]=root[w],prevIdx=pos[w])}}})}),{root,align}}(0,adjustedLayering,conflicts,neighborFn),xs=horizontalCompaction(g,adjustedLayering,align.root,align.align,"r"===horiz);"r"===horiz&&(xs=mapValues.A(xs,function(x){return-x})),xss[vert+horiz]=xs})});var smallestWidth=function findSmallestWidthAlignment(g,xss){return minBy.A(values.A(xss),function(xs){var max=Number.NEGATIVE_INFINITY,min=Number.POSITIVE_INFINITY;return forIn.A(xs,function(x,v){var halfWidth=function width(g,v){return g.node(v).width}(g,v)/2;max=Math.max(x+halfWidth,max),min=Math.min(x-halfWidth,min)}),max-min})}(g,xss);return function alignCoordinates(xss,alignTo){var alignToVals=values.A(alignTo),alignToMin=lodash_es_min.A(alignToVals),alignToMax=max.A(alignToVals);forEach.A(["u","d"],function(vert){forEach.A(["l","r"],function(horiz){var delta,alignment=vert+horiz,xs=xss[alignment];if(xs!==alignTo){var xsVals=values.A(xs);(delta="l"===horiz?alignToMin-lodash_es_min.A(xsVals):alignToMax-max.A(xsVals))&&(xss[alignment]=mapValues.A(xs,function(x){return x+delta}))}})})}(xss,smallestWidth),function balance(xss,align){return mapValues.A(xss.ul,function(ignore,v){if(align)return xss[align.toLowerCase()][v];var xs=sortBy.A(map.A(xss,v));return(xs[1]+xs[2])/2})}(xss,g.graph().align)}function position(g){(function positionY(g){var layering=buildLayerMatrix(g),rankSep=g.graph().ranksep,prevY=0;forEach.A(layering,function(layer){var maxHeight=max.A(map.A(layer,function(v){return g.node(v).height}));forEach.A(layer,function(v){g.node(v).y=prevY+maxHeight/2}),prevY+=maxHeight+rankSep})})(g=asNonCompoundGraph(g)),forOwn.A(positionX(g),function(x,v){g.node(v).x=x})}function layout(g,opts){var time=opts&&opts.debugTiming?util_time:notime;time("layout",function(){var layoutGraph=time("  buildLayoutGraph",function(){return function buildLayoutGraph(inputGraph){var g=new graphlib.T({multigraph:!0,compound:!0}),graph=canonicalize(inputGraph.graph());return g.setGraph(merge.A({},graphDefaults,selectNumberAttrs(graph,graphNumAttrs),pick.A(graph,graphAttrs))),forEach.A(inputGraph.nodes(),function(v){var node=canonicalize(inputGraph.node(v));g.setNode(v,defaults.A(selectNumberAttrs(node,nodeNumAttrs),nodeDefaults)),g.setParent(v,inputGraph.parent(v))}),forEach.A(inputGraph.edges(),function(e){var edge=canonicalize(inputGraph.edge(e));g.setEdge(e,merge.A({},edgeDefaults,selectNumberAttrs(edge,edgeNumAttrs),pick.A(edge,edgeAttrs)))}),g}(g)});time("  runLayout",function(){!function runLayout(g,time){time("    makeSpaceForEdgeLabels",function(){!function makeSpaceForEdgeLabels(g){var graph=g.graph();graph.ranksep/=2,forEach.A(g.edges(),function(e){var edge=g.edge(e);edge.minlen*=2,"c"!==edge.labelpos.toLowerCase()&&("TB"===graph.rankdir||"BT"===graph.rankdir?edge.width+=edge.labeloffset:edge.height+=edge.labeloffset)})}(g)}),time("    removeSelfEdges",function(){!function removeSelfEdges(g){forEach.A(g.edges(),function(e){if(e.v===e.w){var node=g.node(e.v);node.selfEdges||(node.selfEdges=[]),node.selfEdges.push({e,label:g.edge(e)}),g.removeEdge(e)}})}(g)}),time("    acyclic",function(){run(g)}),time("    nestingGraph.run",function(){nesting_graph_run(g)}),time("    rank",function(){rank(asNonCompoundGraph(g))}),time("    injectEdgeLabelProxies",function(){!function injectEdgeLabelProxies(g){forEach.A(g.edges(),function(e){var edge=g.edge(e);if(edge.width&&edge.height){var v=g.node(e.v),label={rank:(g.node(e.w).rank-v.rank)/2+v.rank,e};addDummyNode(g,"edge-proxy",label,"_ep")}})}(g)}),time("    removeEmptyRanks",function(){!function removeEmptyRanks(g){var offset=lodash_es_min.A(map.A(g.nodes(),function(v){return g.node(v).rank})),layers=[];forEach.A(g.nodes(),function(v){var rank=g.node(v).rank-offset;layers[rank]||(layers[rank]=[]),layers[rank].push(v)});var delta=0,nodeRankFactor=g.graph().nodeRankFactor;forEach.A(layers,function(vs,i){isUndefined.A(vs)&&i%nodeRankFactor!==0?--delta:delta&&forEach.A(vs,function(v){g.node(v).rank+=delta})})}(g)}),time("    nestingGraph.cleanup",function(){!function cleanup(g){var graphLabel=g.graph();g.removeNode(graphLabel.nestingRoot),delete graphLabel.nestingRoot,forEach.A(g.edges(),function(e){g.edge(e).nestingEdge&&g.removeEdge(e)})}(g)}),time("    normalizeRanks",function(){!function normalizeRanks(g){var min=lodash_es_min.A(map.A(g.nodes(),function(v){return g.node(v).rank}));forEach.A(g.nodes(),function(v){var node=g.node(v);has.A(node,"rank")&&(node.rank-=min)})}(g)}),time("    assignRankMinMax",function(){!function assignRankMinMax(g){var maxRank=0;forEach.A(g.nodes(),function(v){var node=g.node(v);node.borderTop&&(node.minRank=g.node(node.borderTop).rank,node.maxRank=g.node(node.borderBottom).rank,maxRank=max.A(maxRank,node.maxRank))}),g.graph().maxRank=maxRank}(g)}),time("    removeEdgeLabelProxies",function(){!function removeEdgeLabelProxies(g){forEach.A(g.nodes(),function(v){var node=g.node(v);"edge-proxy"===node.dummy&&(g.edge(node.e).labelRank=node.rank,g.removeNode(v))})}(g)}),time("    normalize.run",function(){normalize_run(g)}),time("    parentDummyChains",function(){parentDummyChains(g)}),time("    addBorderSegments",function(){!function addBorderSegments(g){forEach.A(g.children(),function dfs(v){var children=g.children(v),node=g.node(v);if(children.length&&forEach.A(children,dfs),has.A(node,"minRank")){node.borderLeft=[],node.borderRight=[];for(var rank=node.minRank,maxRank=node.maxRank+1;rank<maxRank;++rank)add_border_segments_addBorderNode(g,"borderLeft","_bl",v,node,rank),add_border_segments_addBorderNode(g,"borderRight","_br",v,node,rank)}})}(g)}),time("    order",function(){order(g)}),time("    insertSelfEdges",function(){!function insertSelfEdges(g){var layers=buildLayerMatrix(g);forEach.A(layers,function(layer){var orderShift=0;forEach.A(layer,function(v,i){var node=g.node(v);node.order=i+orderShift,forEach.A(node.selfEdges,function(selfEdge){addDummyNode(g,"selfedge",{width:selfEdge.label.width,height:selfEdge.label.height,rank:node.rank,order:i+ ++orderShift,e:selfEdge.e,label:selfEdge.label},"_se")}),delete node.selfEdges})})}(g)}),time("    adjustCoordinateSystem",function(){!function adjust(g){var rankDir=g.graph().rankdir.toLowerCase();"lr"!==rankDir&&"rl"!==rankDir||swapWidthHeight(g)}(g)}),time("    position",function(){position(g)}),time("    positionSelfEdges",function(){!function positionSelfEdges(g){forEach.A(g.nodes(),function(v){var node=g.node(v);if("selfedge"===node.dummy){var selfNode=g.node(node.e.v),x=selfNode.x+selfNode.width/2,y=selfNode.y,dx=node.x-x,dy=selfNode.height/2;g.setEdge(node.e,node.label),g.removeNode(v),node.label.points=[{x:x+2*dx/3,y:y-dy},{x:x+5*dx/6,y:y-dy},{x:x+dx,y},{x:x+5*dx/6,y:y+dy},{x:x+2*dx/3,y:y+dy}],node.label.x=node.x,node.label.y=node.y}})}(g)}),time("    removeBorderNodes",function(){!function removeBorderNodes(g){forEach.A(g.nodes(),function(v){if(g.children(v).length){var node=g.node(v),t=g.node(node.borderTop),b=g.node(node.borderBottom),l=g.node(lodash_es_last.A(node.borderLeft)),r=g.node(lodash_es_last.A(node.borderRight));node.width=Math.abs(r.x-l.x),node.height=Math.abs(b.y-t.y),node.x=l.x+node.width/2,node.y=t.y+node.height/2}}),forEach.A(g.nodes(),function(v){"border"===g.node(v).dummy&&g.removeNode(v)})}(g)}),time("    normalize.undo",function(){!function normalize_undo(g){forEach.A(g.graph().dummyChains,function(v){var w,node=g.node(v),origLabel=node.edgeLabel;for(g.setEdge(node.edgeObj,origLabel);node.dummy;)w=g.successors(v)[0],g.removeNode(v),origLabel.points.push({x:node.x,y:node.y}),"edge-label"===node.dummy&&(origLabel.x=node.x,origLabel.y=node.y,origLabel.width=node.width,origLabel.height=node.height),v=w,node=g.node(v)})}(g)}),time("    fixupEdgeLabelCoords",function(){!function fixupEdgeLabelCoords(g){forEach.A(g.edges(),function(e){var edge=g.edge(e);if(has.A(edge,"x"))switch("l"!==edge.labelpos&&"r"!==edge.labelpos||(edge.width-=edge.labeloffset),edge.labelpos){case"l":edge.x-=edge.width/2+edge.labeloffset;break;case"r":edge.x+=edge.width/2+edge.labeloffset}})}(g)}),time("    undoCoordinateSystem",function(){coordinate_system_undo(g)}),time("    translateGraph",function(){!function translateGraph(g){var minX=Number.POSITIVE_INFINITY,maxX=0,minY=Number.POSITIVE_INFINITY,maxY=0,graphLabel=g.graph(),marginX=graphLabel.marginx||0,marginY=graphLabel.marginy||0;function getExtremes(attrs){var x=attrs.x,y=attrs.y,w=attrs.width,h=attrs.height;minX=Math.min(minX,x-w/2),maxX=Math.max(maxX,x+w/2),minY=Math.min(minY,y-h/2),maxY=Math.max(maxY,y+h/2)}forEach.A(g.nodes(),function(v){getExtremes(g.node(v))}),forEach.A(g.edges(),function(e){var edge=g.edge(e);has.A(edge,"x")&&getExtremes(edge)}),minX-=marginX,minY-=marginY,forEach.A(g.nodes(),function(v){var node=g.node(v);node.x-=minX,node.y-=minY}),forEach.A(g.edges(),function(e){var edge=g.edge(e);forEach.A(edge.points,function(p){p.x-=minX,p.y-=minY}),has.A(edge,"x")&&(edge.x-=minX),has.A(edge,"y")&&(edge.y-=minY)}),graphLabel.width=maxX-minX+marginX,graphLabel.height=maxY-minY+marginY}(g)}),time("    assignNodeIntersects",function(){!function assignNodeIntersects(g){forEach.A(g.edges(),function(e){var p1,p2,edge=g.edge(e),nodeV=g.node(e.v),nodeW=g.node(e.w);edge.points?(p1=edge.points[0],p2=edge.points[edge.points.length-1]):(edge.points=[],p1=nodeW,p2=nodeV),edge.points.unshift(intersectRect(nodeV,p1)),edge.points.push(intersectRect(nodeW,p2))})}(g)}),time("    reversePoints",function(){!function reversePointsForReversedEdges(g){forEach.A(g.edges(),function(e){var edge=g.edge(e);edge.reversed&&edge.points.reverse()})}(g)}),time("    acyclic.undo",function(){!function undo(g){forEach.A(g.edges(),function(e){var label=g.edge(e);if(label.reversed){g.removeEdge(e);var forwardName=label.forwardName;delete label.reversed,delete label.forwardName,g.setEdge(e.w,e.v,label,forwardName)}})}(g)})}(layoutGraph,time)}),time("  updateInputGraph",function(){!function updateInputGraph(inputGraph,layoutGraph){forEach.A(inputGraph.nodes(),function(v){var inputLabel=inputGraph.node(v),layoutLabel=layoutGraph.node(v);inputLabel&&(inputLabel.x=layoutLabel.x,inputLabel.y=layoutLabel.y,layoutGraph.children(v).length&&(inputLabel.width=layoutLabel.width,inputLabel.height=layoutLabel.height))}),forEach.A(inputGraph.edges(),function(e){var inputLabel=inputGraph.edge(e),layoutLabel=layoutGraph.edge(e);inputLabel.points=layoutLabel.points,has.A(layoutLabel,"x")&&(inputLabel.x=layoutLabel.x,inputLabel.y=layoutLabel.y)}),inputGraph.graph().width=layoutGraph.graph().width,inputGraph.graph().height=layoutGraph.graph().height}(g,layoutGraph)})})}var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function selectNumberAttrs(obj,attrs){return mapValues.A(pick.A(obj,attrs),Number)}function canonicalize(attrs){var newAttrs={};return forEach.A(attrs,function(v,k){newAttrs[k.toLowerCase()]=v}),newAttrs}},"./node_modules/@excalidraw/mermaid-to-excalidraw/node_modules/dagre-d3-es/src/graphlib/graph.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>Graph});var lodash_es__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/forEach.js"),lodash_es__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/constant.js"),lodash_es__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash-es/filter.js"),lodash_es__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash-es/has.js"),lodash_es__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lodash-es/isEmpty.js"),lodash_es__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/lodash-es/isFunction.js"),lodash_es__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/lodash-es/isUndefined.js"),lodash_es__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/lodash-es/keys.js"),lodash_es__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/lodash-es/reduce.js"),lodash_es__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/lodash-es/union.js"),lodash_es__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/lodash-es/values.js");class Graph{constructor(opts={}){this._isDirected=!lodash_es__WEBPACK_IMPORTED_MODULE_3__.A(opts,"directed")||opts.directed,this._isMultigraph=!!lodash_es__WEBPACK_IMPORTED_MODULE_3__.A(opts,"multigraph")&&opts.multigraph,this._isCompound=!!lodash_es__WEBPACK_IMPORTED_MODULE_3__.A(opts,"compound")&&opts.compound,this._label=void 0,this._defaultNodeLabelFn=lodash_es__WEBPACK_IMPORTED_MODULE_1__.A(void 0),this._defaultEdgeLabelFn=lodash_es__WEBPACK_IMPORTED_MODULE_1__.A(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(label){return this._label=label,this}graph(){return this._label}setDefaultNodeLabel(newDefault){return lodash_es__WEBPACK_IMPORTED_MODULE_5__.A(newDefault)||(newDefault=lodash_es__WEBPACK_IMPORTED_MODULE_1__.A(newDefault)),this._defaultNodeLabelFn=newDefault,this}nodeCount(){return this._nodeCount}nodes(){return lodash_es__WEBPACK_IMPORTED_MODULE_7__.A(this._nodes)}sources(){var self=this;return lodash_es__WEBPACK_IMPORTED_MODULE_2__.A(this.nodes(),function(v){return lodash_es__WEBPACK_IMPORTED_MODULE_4__.A(self._in[v])})}sinks(){var self=this;return lodash_es__WEBPACK_IMPORTED_MODULE_2__.A(this.nodes(),function(v){return lodash_es__WEBPACK_IMPORTED_MODULE_4__.A(self._out[v])})}setNodes(vs,value){var args=arguments,self=this;return lodash_es__WEBPACK_IMPORTED_MODULE_0__.A(vs,function(v){args.length>1?self.setNode(v,value):self.setNode(v)}),this}setNode(v,value){return lodash_es__WEBPACK_IMPORTED_MODULE_3__.A(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=value),this):(this._nodes[v]=arguments.length>1?value:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]="\0",this._children[v]={},this._children["\0"][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)}node(v){return this._nodes[v]}hasNode(v){return lodash_es__WEBPACK_IMPORTED_MODULE_3__.A(this._nodes,v)}removeNode(v){var self=this;if(lodash_es__WEBPACK_IMPORTED_MODULE_3__.A(this._nodes,v)){var removeEdge=function(e){self.removeEdge(self._edgeObjs[e])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],lodash_es__WEBPACK_IMPORTED_MODULE_0__.A(this.children(v),function(child){self.setParent(child)}),delete this._children[v]),lodash_es__WEBPACK_IMPORTED_MODULE_0__.A(lodash_es__WEBPACK_IMPORTED_MODULE_7__.A(this._in[v]),removeEdge),delete this._in[v],delete this._preds[v],lodash_es__WEBPACK_IMPORTED_MODULE_0__.A(lodash_es__WEBPACK_IMPORTED_MODULE_7__.A(this._out[v]),removeEdge),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this}setParent(v,parent){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(lodash_es__WEBPACK_IMPORTED_MODULE_6__.A(parent))parent="\0";else{for(var ancestor=parent+="";!lodash_es__WEBPACK_IMPORTED_MODULE_6__.A(ancestor);ancestor=this.parent(ancestor))if(ancestor===v)throw new Error("Setting "+parent+" as parent of "+v+" would create a cycle");this.setNode(parent)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=parent,this._children[parent][v]=!0,this}_removeFromParentsChildList(v){delete this._children[this._parent[v]][v]}parent(v){if(this._isCompound){var parent=this._parent[v];if("\0"!==parent)return parent}}children(v){if(lodash_es__WEBPACK_IMPORTED_MODULE_6__.A(v)&&(v="\0"),this._isCompound){var children=this._children[v];if(children)return lodash_es__WEBPACK_IMPORTED_MODULE_7__.A(children)}else{if("\0"===v)return this.nodes();if(this.hasNode(v))return[]}}predecessors(v){var predsV=this._preds[v];if(predsV)return lodash_es__WEBPACK_IMPORTED_MODULE_7__.A(predsV)}successors(v){var sucsV=this._sucs[v];if(sucsV)return lodash_es__WEBPACK_IMPORTED_MODULE_7__.A(sucsV)}neighbors(v){var preds=this.predecessors(v);if(preds)return lodash_es__WEBPACK_IMPORTED_MODULE_9__.A(preds,this.successors(v))}isLeaf(v){return 0===(this.isDirected()?this.successors(v):this.neighbors(v)).length}filterNodes(filter){var copy=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});copy.setGraph(this.graph());var self=this;lodash_es__WEBPACK_IMPORTED_MODULE_0__.A(this._nodes,function(value,v){filter(v)&&copy.setNode(v,value)}),lodash_es__WEBPACK_IMPORTED_MODULE_0__.A(this._edgeObjs,function(e){copy.hasNode(e.v)&&copy.hasNode(e.w)&&copy.setEdge(e,self.edge(e))});var parents={};function findParent(v){var parent=self.parent(v);return void 0===parent||copy.hasNode(parent)?(parents[v]=parent,parent):parent in parents?parents[parent]:findParent(parent)}return this._isCompound&&lodash_es__WEBPACK_IMPORTED_MODULE_0__.A(copy.nodes(),function(v){copy.setParent(v,findParent(v))}),copy}setDefaultEdgeLabel(newDefault){return lodash_es__WEBPACK_IMPORTED_MODULE_5__.A(newDefault)||(newDefault=lodash_es__WEBPACK_IMPORTED_MODULE_1__.A(newDefault)),this._defaultEdgeLabelFn=newDefault,this}edgeCount(){return this._edgeCount}edges(){return lodash_es__WEBPACK_IMPORTED_MODULE_10__.A(this._edgeObjs)}setPath(vs,value){var self=this,args=arguments;return lodash_es__WEBPACK_IMPORTED_MODULE_8__.A(vs,function(v,w){return args.length>1?self.setEdge(v,w,value):self.setEdge(v,w),w}),this}setEdge(){var v,w,name,value,valueSpecified=!1,arg0=arguments[0];"object"==typeof arg0&&null!==arg0&&"v"in arg0?(v=arg0.v,w=arg0.w,name=arg0.name,2===arguments.length&&(value=arguments[1],valueSpecified=!0)):(v=arg0,w=arguments[1],name=arguments[3],arguments.length>2&&(value=arguments[2],valueSpecified=!0)),v=""+v,w=""+w,lodash_es__WEBPACK_IMPORTED_MODULE_6__.A(name)||(name=""+name);var e=edgeArgsToId(this._isDirected,v,w,name);if(lodash_es__WEBPACK_IMPORTED_MODULE_3__.A(this._edgeLabels,e))return valueSpecified&&(this._edgeLabels[e]=value),this;if(!lodash_es__WEBPACK_IMPORTED_MODULE_6__.A(name)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(w),this._edgeLabels[e]=valueSpecified?value:this._defaultEdgeLabelFn(v,w,name);var edgeObj=function edgeArgsToObj(isDirected,v_,w_,name){var v=""+v_,w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w,w=tmp}var edgeObj={v,w};name&&(edgeObj.name=name);return edgeObj}(this._isDirected,v,w,name);return v=edgeObj.v,w=edgeObj.w,Object.freeze(edgeObj),this._edgeObjs[e]=edgeObj,incrementOrInitEntry(this._preds[w],v),incrementOrInitEntry(this._sucs[v],w),this._in[w][e]=edgeObj,this._out[v][e]=edgeObj,this._edgeCount++,this}edge(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return this._edgeLabels[e]}hasEdge(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return lodash_es__WEBPACK_IMPORTED_MODULE_3__.A(this._edgeLabels,e)}removeEdge(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name),edge=this._edgeObjs[e];return edge&&(v=edge.v,w=edge.w,delete this._edgeLabels[e],delete this._edgeObjs[e],decrementOrRemoveEntry(this._preds[w],v),decrementOrRemoveEntry(this._sucs[v],w),delete this._in[w][e],delete this._out[v][e],this._edgeCount--),this}inEdges(v,u){var inV=this._in[v];if(inV){var edges=lodash_es__WEBPACK_IMPORTED_MODULE_10__.A(inV);return u?lodash_es__WEBPACK_IMPORTED_MODULE_2__.A(edges,function(edge){return edge.v===u}):edges}}outEdges(v,w){var outV=this._out[v];if(outV){var edges=lodash_es__WEBPACK_IMPORTED_MODULE_10__.A(outV);return w?lodash_es__WEBPACK_IMPORTED_MODULE_2__.A(edges,function(edge){return edge.w===w}):edges}}nodeEdges(v,w){var inEdges=this.inEdges(v,w);if(inEdges)return inEdges.concat(this.outEdges(v,w))}}function incrementOrInitEntry(map,k){map[k]?map[k]++:map[k]=1}function decrementOrRemoveEntry(map,k){--map[k]||delete map[k]}function edgeArgsToId(isDirected,v_,w_,name){var v=""+v_,w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w,w=tmp}return v+""+w+""+(lodash_es__WEBPACK_IMPORTED_MODULE_6__.A(name)?"\0":name)}function edgeObjToId(isDirected,edgeObj){return edgeArgsToId(isDirected,edgeObj.v,edgeObj.w,edgeObj.name)}Graph.prototype._nodeCount=0,Graph.prototype._edgeCount=0},"./node_modules/@excalidraw/mermaid-to-excalidraw/node_modules/dagre-d3-es/src/graphlib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>_graph_js__WEBPACK_IMPORTED_MODULE_0__.T});var _graph_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@excalidraw/mermaid-to-excalidraw/node_modules/dagre-d3-es/src/graphlib/graph.js")},"./node_modules/lodash-es/isSymbol.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseGetTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_baseGetTag.js"),_isObjectLike_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/isObjectLike.js");const __WEBPACK_DEFAULT_EXPORT__=function isSymbol(value){return"symbol"==typeof value||(0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_1__.A)(value)&&"[object Symbol]"==(0,_baseGetTag_js__WEBPACK_IMPORTED_MODULE_0__.A)(value)}},"./node_modules/lodash-es/now.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _root_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_root.js");const __WEBPACK_DEFAULT_EXPORT__=function(){return _root_js__WEBPACK_IMPORTED_MODULE_0__.A.Date.now()}},"./node_modules/lodash-es/toNumber.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>lodash_es_toNumber});var reWhitespace=/\s/;const _trimmedEndIndex=function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index};var reTrimStart=/^\s+/;const _baseTrim=function baseTrim(string){return string?string.slice(0,_trimmedEndIndex(string)+1).replace(reTrimStart,""):string};var isObject=__webpack_require__("./node_modules/lodash-es/isObject.js"),isSymbol=__webpack_require__("./node_modules/lodash-es/isSymbol.js"),reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;const lodash_es_toNumber=function toNumber(value){if("number"==typeof value)return value;if((0,isSymbol.A)(value))return NaN;if((0,isObject.A)(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=(0,isObject.A)(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=_baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}}}]);