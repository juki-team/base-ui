"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[8410],{"./src/components/organisms/worksheet/WorksheetAsSlides.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WorksheetAsSlides:()=>WorksheetAsSlides});var _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_hooks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/hooks/index.ts"),_settings__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/settings/index.ts"),_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/stores/user/useUserStore.ts"),_mdMath_viewer_MdMath__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/organisms/mdMath/viewer/MdMath.tsx"),_sheets_WorksheetNode__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/organisms/worksheet/sheets/WorksheetNode.tsx");const WorksheetAsSlides=props=>{const{worksheet:{content,quiz:{enable:quizEnable},key:worksheetKey,slides},resultsUserKey,readOnly=!1,page}=props,userNickname=(0,_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_4__.k)(state=>state.user.nickname),companyKey=(0,_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_4__.k)(state=>state.company.key),userIsLogged=(0,_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_4__.k)(state=>state.user.isLogged),{data:userResultsData,mutate:userResultsMutate,isLoading:userResultsIsLoading,isValidating:userResultsIsValidating}=(0,_hooks__WEBPACK_IMPORTED_MODULE_2__.Ls)(worksheetKey&&quizEnable&&userIsLogged?_settings__WEBPACK_IMPORTED_MODULE_3__.Z.API_V1.worksheet.getSubmissionsUser({params:{key:worksheetKey,userKey:resultsUserKey||(0,_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Lwn)(userNickname,companyKey)}}).url:null),userResults=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({data:null!=userResultsData&&userResultsData.success?userResultsData.content:void 0,isLoading:userResultsIsLoading,isValidating:userResultsIsValidating,mutate:userResultsMutate}),[userResultsData,userResultsIsLoading,userResultsIsValidating,userResultsMutate]),sheetsInPages=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.bs0)(content),[content]);if("number"==typeof page&&page>=0&&page<sheetsInPages.length){const sheet=sheetsInPages[page];return[[react__WEBPACK_IMPORTED_MODULE_1__.createElement("section",{"data-auto-animate":!0,style:{overflow:"hidden auto",maxHeight:"100%"},"data-background-image":slides.titleBackgroundImage},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_mdMath_viewer_MdMath__WEBPACK_IMPORTED_MODULE_5__.s,{source:sheet.header.title}))],sheet.content.map((chunk,index)=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("section",{"data-auto-animate":!0,style:{overflow:"hidden auto",maxHeight:"100%"},"data-background-image":slides.backgroundImage},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_sheets_WorksheetNode__WEBPACK_IMPORTED_MODULE_6__.B,{key:chunk.id,sheet:sheet.content,userResults,readOnly,isSolvable:quizEnable,worksheetKey,asSlides:!0,index,length:sheet.content.length})))].flat()}return sheetsInPages.map(sheet=>[[react__WEBPACK_IMPORTED_MODULE_1__.createElement("section",{"data-auto-animate":!0,style:{overflow:"hidden auto",maxHeight:"100%"},"data-background-image":slides.titleBackgroundImage},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_mdMath_viewer_MdMath__WEBPACK_IMPORTED_MODULE_5__.s,{source:sheet.header.title}))],sheet.content.map((chunk,index)=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("section",{"data-auto-animate":!0,style:{overflow:"hidden auto",maxHeight:"100%"},"data-background-image":slides.backgroundImage},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_sheets_WorksheetNode__WEBPACK_IMPORTED_MODULE_6__.B,{key:chunk.id,sheet:sheet.content,userResults,readOnly,isSolvable:quizEnable,worksheetKey,asSlides:!0,index,length:sheet.content.length})))]).flat(2)}}}]);