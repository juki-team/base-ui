"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[826,1258],{"./src/components/molecules/CodeEditor/CodeEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CodeEditor:()=>CodeEditor});var _codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@codemirror/autocomplete/dist/index.js"),_codemirror_lang_cpp__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@codemirror/lang-cpp/dist/index.js"),_codemirror_lang_html__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@codemirror/lang-html/dist/index.js"),_codemirror_lang_java__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@codemirror/lang-java/dist/index.js"),_codemirror_lang_javascript__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@codemirror/lang-javascript/dist/index.js"),_codemirror_lang_json__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@codemirror/lang-json/dist/index.js"),_codemirror_lang_markdown__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@codemirror/lang-markdown/dist/index.js"),_codemirror_lang_python__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@codemirror/lang-python/dist/index.js"),_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),_uiw_react_codemirror__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@uiw/react-codemirror/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react_resize_detector__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react-resize-detector/build/index.esm.js"),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const CodeEditorCmp=props=>{const{sourceCode,language,theme,readOnly=!1,onChange,tabSize=4,fontSize=14}=props,extensions=[(0,_codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_5__.yU)()];switch(language){case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.ICPC_CPP:case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.CPP:case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.CPP11:case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.CPP14:case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.CPP17:case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.ICPC_C:case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.C:case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.ARDUINO:extensions.push((0,_codemirror_lang_cpp__WEBPACK_IMPORTED_MODULE_6__.I)());break;case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.JAVA:extensions.push((0,_codemirror_lang_java__WEBPACK_IMPORTED_MODULE_7__.J)());break;case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.JAVASCRIPT:extensions.push((0,_codemirror_lang_javascript__WEBPACK_IMPORTED_MODULE_8__.Q2)());break;case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.JSON:extensions.push((0,_codemirror_lang_json__WEBPACK_IMPORTED_MODULE_9__.Pq)());break;case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.MARKDOWN:extensions.push((0,_codemirror_lang_markdown__WEBPACK_IMPORTED_MODULE_10__.wD)());break;case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.ICPC_PYTHON:case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.PYTHON:case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.PYTHON3:extensions.push((0,_codemirror_lang_python__WEBPACK_IMPORTED_MODULE_11__.Hg)());break;case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.HTML:extensions.push((0,_codemirror_lang_html__WEBPACK_IMPORTED_MODULE_12__.qy)({autoCloseTags:!0,matchClosingTags:!0}));case _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.A3Q.TEXT:}const{height=0,ref}=(0,react_resize_detector__WEBPACK_IMPORTED_MODULE_13__.u)(_constants__WEBPACK_IMPORTED_MODULE_3__.fV);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{fontSize:"".concat(fontSize,"px"),width:"100%",height:"100%"},ref,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_uiw_react_codemirror__WEBPACK_IMPORTED_MODULE_1__.Ay,{readOnly,value:sourceCode,height:height+"px",extensions,onChange:value=>null==onChange?void 0:onChange({sourceCode:value}),theme:theme===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Sxu.DARK?"dark":"light",basicSetup:{tabSize}})})},CodeEditor=(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(CodeEditorCmp);try{CodeEditor.displayName="CodeEditor",CodeEditor.__docgenInfo={description:"",displayName:"CodeEditor",props:{language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"T"}},sourceCode:{defaultValue:null,description:"",name:"sourceCode",required:!0,type:{name:"string"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"CodeEditorOnChangeType<T>"}},isRunning:{defaultValue:null,description:"",name:"isRunning",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"LIGHT"'},{value:'"DARK"'}]}},tabSize:{defaultValue:null,description:"",name:"tabSize",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/molecules/CodeEditor/CodeEditor.tsx#CodeEditor"]={docgenInfo:CodeEditor.__docgenInfo,name:"CodeEditor",path:"src/components/molecules/CodeEditor/CodeEditor.tsx#CodeEditor"})}catch(__react_docgen_typescript_loader_error){}},"./src/constants/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fn:()=>DEFAULT_DATA_VIEWER_PROPS,GO:()=>EMPTY_USER,Ik:()=>EMPTY_COMPANY,cl:()=>ALPHANUMERIC_DASH_UNDERSCORE_REGEX,fV:()=>RESIZE_DETECTOR_PROPS,hZ:()=>SCROLL_WIDTH,rg:()=>DAYS_2,sX:()=>LEAST_ONE_UPPERCASE_LOWERCASE_NUMBER_REGEX,xp:()=>PAGE_SIZE_OPTIONS});var _Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/types/index.ts");const DAYS_2=_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.yn8.map((name=>name.substring(0,2))),SCROLL_WIDTH=8,ALPHANUMERIC_DASH_UNDERSCORE_REGEX=/^[a-z0-9\-_]+$/i,LEAST_ONE_UPPERCASE_LOWERCASE_NUMBER_REGEX=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[\w~@#$%^&*+=`|{}:;!.?"()-_]{8,}$/,EMPTY_COMPANY={name:"",imageUrl:"",contactEmail:"contact@juki.app",contactCellPhoneNumber:"+519 79153358",contactTelegram:"https://t.me/OscarGauss",key:"",codeEditorRunEnabled:!0},RESIZE_DETECTOR_PROPS={refreshRate:200,refreshMode:"debounce"},EMPTY_USER={nickname:"",imageUrl:"https://images.juki.pub/c/juki-image-profile.svg",settings:{[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.LANGUAGE]:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.TMK.ES,[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.THEME]:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Sxu.LIGHT,[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.DATA_VIEW_MODE]:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.pln.ROWS,[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.MENU_VIEW_MODE]:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.MDi.VERTICAL,[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.NEWSLETTER_SUBSCRIPTION]:!0},permissions:(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.A)({},_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.jKP),isLogged:!1,sessionId:""},PAGE_SIZE_OPTIONS=[25,50,100],DEFAULT_DATA_VIEWER_PROPS={getPageQueryParam:name=>(name?name+".":name)+_types__WEBPACK_IMPORTED_MODULE_1__.rs.PAGE_TABLE,getPageSizeQueryParam:name=>(name?name+".":name)+_types__WEBPACK_IMPORTED_MODULE_1__.rs.PAGE_SIZE_TABLE,getSortQueryParam:name=>(name?name+".":name)+_types__WEBPACK_IMPORTED_MODULE_1__.rs.SORT_TABLE,getFilterQueryParam:name=>(name?name+".":name)+_types__WEBPACK_IMPORTED_MODULE_1__.rs.FILTER_TABLE,getViewModeQueryParam:name=>(name?name+".":name)+_types__WEBPACK_IMPORTED_MODULE_1__.rs.VIEW_MODE_TABLE}},"./src/contexts/JukiLastPathProvider/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>LastPathContextRef,V:()=>LastPathContextFn});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const LastPathContextFn=initialLastPath=>(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({pushPath:()=>null,lastPath:initialLastPath}),LastPathContextRef={current:void 0}},"./src/contexts/JukiPageProvider/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>PageContext});const PageContext=(0,__webpack_require__("./node_modules/react/index.js").createContext)({isOnline:!0,isPageVisible:!0,isPageFocus:!0})},"./src/contexts/JukiRouterProvider/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>RouterContext});const RouterContext=(0,__webpack_require__("./node_modules/react/index.js").createContext)({searchParams:new URLSearchParams(""),appendSearchParams:()=>null,deleteSearchParams:()=>null,setSearchParams:()=>null,routeParams:{},pushRoute:()=>null,replaceRoute:()=>null,reloadRoute:()=>null,isLoadingRoute:!1,pathname:""})},"./src/contexts/JukiTasksProvider/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>TasksContext});const TasksContext=(0,__webpack_require__("./node_modules/react/index.js").createContext)({submissions:{},unListenSubmission:()=>null,listenSubmission:()=>null})},"./src/contexts/JukiTasksProvider/useJukiTask.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>useJukiTask});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/contexts/JukiTasksProvider/context.ts");const useJukiTask=()=>{const{listenSubmission,unListenSubmission,submissions}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_1__.s);return{listenSubmission,unListenSubmission,submissions}}},"./src/contexts/JukiUserProvider/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>UserContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/index.ts");const UserContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({user:_constants__WEBPACK_IMPORTED_MODULE_1__.GO,company:_constants__WEBPACK_IMPORTED_MODULE_1__.Ik,setUser:()=>null,isLoading:!0,mutate:null,device:{label:"",isMobile:!1,isBrowser:!1,type:"",osLabel:""}})},"./src/hooks/custom.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$$:()=>useInterval,ZC:()=>usePrevious,_N:()=>useKeyPress,c7:()=>useOutsideAlerter});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useInterval(callback,delay){const savedCallback=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(void 0);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{savedCallback.current=callback}),[callback]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(delay){let id=setInterval((function tick(){savedCallback.current&&savedCallback.current()}),delay);return()=>clearInterval(id)}return()=>null}),[delay])}function useOutsideAlerter(clickOutside,ref){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{function handleClickOutside(event){ref.current&&!ref.current.contains(event.target)&&clickOutside(event)}return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[clickOutside,ref])}function usePrevious(value,initialValue){const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(initialValue);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{ref.current=value}),[value]),ref.current}function useKeyPress(handleKeyPress){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(document.addEventListener("keydown",handleKeyPress),()=>{document.removeEventListener("keydown",handleKeyPress)})),[handleKeyPress])}},"./src/hooks/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ge:()=>useDataViewerRequester,Wj:()=>useDebounceEffect,sp:()=>useEntityDiff,Ls:()=>useFetcher.L,Xk:()=>useHandleState.X,Eq:()=>useJukiNotification.Eq,_R:()=>useJukiPage,uY:()=>useJukiRouter.u,p1:()=>useJukiUI.p,Mg:()=>useJukiUser.M,FA:()=>useMemoizedArray,c7:()=>custom.c7,ZC:()=>custom.ZC,pD:()=>useRunnerServicesWakeUp,Cu:()=>useSWR.C,Fo:()=>useSessionStorage,fA:()=>useSound.f,ID:()=>useStableState});var custom=__webpack_require__("./src/hooks/custom.ts"),esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react=__webpack_require__("./node_modules/react/index.js"),useFetcher=__webpack_require__("./src/hooks/useFetcher.ts"),useJukiUser=__webpack_require__("./src/hooks/useJukiUser.tsx");const useDataViewerRequester=(getUrl,options)=>{const setLoaderStatusRef=(0,react.useRef)(null),{user:{nickname,sessionId}}=(0,useJukiUser.M)(),[url,setUrl]=(0,react.useState)(void 0),{data,error,isLoading,mutate,isValidating}=(0,useFetcher.L)(url,options),getUrlRef=(0,react.useRef)(getUrl),reloadRef=(0,react.useRef)(null);getUrlRef.current=getUrl;const request=(0,react.useCallback)((async _ref=>{var _getUrlRef$current;let{pagination,filter,sort}=_ref;const newUrl=null===(_getUrlRef$current=getUrlRef.current)||void 0===_getUrlRef$current?void 0:_getUrlRef$current.call(getUrlRef,{pagination:pagination||{page:0,pageSize:16},filter,sort});url!==newUrl?setUrl(newUrl):await mutate()}),[mutate,url]);return(0,react.useEffect)((()=>{mutate()}),[mutate,nickname,sessionId]),(0,react.useEffect)((()=>{var _setLoaderStatusRef$c,_setLoaderStatusRef$c2;isLoading||isValidating?null===(_setLoaderStatusRef$c=setLoaderStatusRef.current)||void 0===_setLoaderStatusRef$c||_setLoaderStatusRef$c.call(setLoaderStatusRef,esm.nW6.LOADING):null===(_setLoaderStatusRef$c2=setLoaderStatusRef.current)||void 0===_setLoaderStatusRef$c2||_setLoaderStatusRef$c2.call(setLoaderStatusRef,esm.nW6.NONE)}),[isLoading,isValidating]),{data,error,isLoading,isValidating,request,setLoaderStatusRef:(0,react.useCallback)((setLoaderStatus=>setLoaderStatusRef.current=setLoaderStatus),[]),reload:(0,react.useCallback)((()=>{var _reloadRef$current;return null===(_reloadRef$current=reloadRef.current)||void 0===_reloadRef$current?void 0:_reloadRef$current.call(reloadRef)}),[]),reloadRef:(0,react.useCallback)((reload=>reloadRef.current=reload),[])}};function useDebounceEffect(fn,waitTime,deps){(0,react.useEffect)((()=>{const t=setTimeout((()=>{fn.apply(void 0,deps)}),waitTime);return()=>{clearTimeout(t)}}),deps)}var objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),helpers=__webpack_require__("./src/helpers/index.ts"),settings=__webpack_require__("./src/settings/index.ts"),context=__webpack_require__("./src/contexts/JukiPageProvider/context.ts");const useJukiPage=()=>{const{isOnline,isPageFocus,isPageVisible}=(0,react.useContext)(context.N);return{isOnline,isPageFocus,isPageVisible}},_excluded=["url"],intervalRef={current:void 0},useRunnerServicesWakeUp=()=>{const{isOnline,isPageFocus,isPageVisible}=useJukiPage();(0,react.useEffect)((()=>{const fun=async(isPageVisible,isOnline)=>{if(isPageVisible&&isOnline){const _jukiApiSocketManager=settings.ug.API_V1.system.runnerServicesWakeUp(),{url}=_jukiApiSocketManager,options=(0,objectWithoutProperties.A)(_jukiApiSocketManager,_excluded),response=(0,helpers.Hu)(await(0,helpers.zb)(url,options));(0,esm._lX)("runner services wake up requested",response)}};return fun(isPageVisible,isOnline),clearInterval(intervalRef.current),intervalRef.current=setInterval(fun,6e4,isPageVisible,isOnline),()=>{clearInterval(intervalRef.current)}}),[isOnline,isPageFocus,isPageVisible])};var diff=__webpack_require__("./node_modules/deep-object-diff/mjs/diff.js"),T=__webpack_require__("./src/components/atoms/T/T.tsx"),CodeEditor=__webpack_require__("./src/components/molecules/CodeEditor/CodeEditor.tsx"),useJukiNotification=__webpack_require__("./src/hooks/useJukiNotification.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const useEntityDiff=(initialEntity,enable)=>{const{addWarningNotification}=(0,useJukiNotification.Eq)(),lastEntity=(0,react.useRef)(initialEntity),initialEntityString=JSON.stringify(initialEntity);enable||(lastEntity.current=initialEntity),(0,react.useEffect)((()=>{if(enable&&initialEntityString!==JSON.stringify(lastEntity.current)){const initialEntity=JSON.parse(initialEntityString),text=JSON.stringify((0,diff.A)(lastEntity.current,initialEntity),null,2),height=text.split("\n").length;addWarningNotification((0,jsx_runtime.jsxs)("div",{className:"jk-notification-message-body",children:[(0,jsx_runtime.jsx)(T.T,{className:"tt-se",children:"something changed, your changes may overwrite others' changes, we suggest you reload the page."}),"Â ",(0,jsx_runtime.jsx)(T.T,{className:"tt-se",children:"differences_colon"}),(0,jsx_runtime.jsx)("div",{style:{height:24*height+8+"px",color:"initial"},children:(0,jsx_runtime.jsx)(CodeEditor.CodeEditor,{sourceCode:text,language:esm.A3Q.JSON,readOnly:!0})})]})),lastEntity.current=initialEntity}}),[initialEntityString,enable,addWarningNotification])};var useHandleState=__webpack_require__("./src/hooks/useHandleState.ts"),useJukiRouter=__webpack_require__("./src/hooks/useJukiRouter.tsx"),useJukiUI=__webpack_require__("./src/hooks/useJukiUI.tsx");__webpack_require__("./src/hooks/useLastPath.ts");const useMemoizedArray=externalArray=>{const prevArrayRef=(0,react.useRef)(externalArray);return(0,react.useMemo)((()=>{if(prevArrayRef.current===externalArray)return prevArrayRef.current;if(prevArrayRef.current.length!==externalArray.length)return prevArrayRef.current=externalArray,externalArray;for(let i=0;i<externalArray.length;i+=1)if(externalArray[i]!==prevArrayRef.current[i])return prevArrayRef.current=externalArray,externalArray;return prevArrayRef.current}),[externalArray])},useStableState=(initialStableState,deps)=>{const[state,setState]=(0,react.useState)(initialStableState),initialStableStateString=(0,esm.on3)(initialStableState)?JSON.stringify(initialStableState):"",stateRef=(0,react.useRef)("");return stateRef.current=(0,esm.on3)(state)?JSON.stringify(state):"",(0,react.useEffect)((()=>{stateRef.current!==initialStableStateString&&(0,esm.UWh)(initialStableStateString)&&setState(JSON.parse(initialStableStateString))}),[initialStableStateString,...deps||[]]),[state,setState]},useSessionStorage=(key,initialState)=>{const[state,_setState]=useStableState(null!==initialState?initialState:sessionStorage.getItem(key)||"",[key]);return[state,(0,react.useCallback)((value=>{sessionStorage.setItem(key,value),_setState(value)}),[_setState,key]),(0,react.useCallback)((()=>{sessionStorage.removeItem(key),_setState("")}),[_setState,key])]};var useSWR=__webpack_require__("./src/hooks/useSWR.ts"),useSound=__webpack_require__("./src/hooks/useSound.ts");__webpack_require__("./src/hooks/useWidthResizer.ts"),__webpack_require__("./src/contexts/JukiTasksProvider/useJukiTask.ts")},"./src/hooks/useFetcher.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>useFetcher});var _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),swr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/swr/dist/core/index.mjs"),_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/index.ts"),_settings__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/settings/index.ts"),_useJukiUser__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/hooks/useJukiUser.tsx");const fetcherWithToken=_ref=>{let[url,token]=_ref;return(0,_helpers__WEBPACK_IMPORTED_MODULE_3__.zb)(url,{token,method:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.aGj.GET})},useFetcher=(url,config)=>{const token=_settings__WEBPACK_IMPORTED_MODULE_4__.ug.getToken(),{user:{sessionId}}=(0,_useJukiUser__WEBPACK_IMPORTED_MODULE_5__.M)(),{data,error,mutate,isValidating,isLoading}=(0,swr__WEBPACK_IMPORTED_MODULE_2__.Ay)("string"==typeof url?[url,token,sessionId]:null,fetcherWithToken,config);return{data:(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>data?(0,_helpers__WEBPACK_IMPORTED_MODULE_3__.Hu)(data):void 0),[data]),error,isLoading,mutate,isValidating}}},"./src/hooks/useJukiRouter.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>useJukiRouter});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_JukiRouterProvider_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/contexts/JukiRouterProvider/context.ts"),_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/index.ts"),_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/types/index.ts");const useJukiRouter=()=>{const{searchParams,appendSearchParams,deleteSearchParams,setSearchParams,routeParams,pushRoute:_pushRoute,replaceRoute,reloadRoute,isLoadingRoute,pathname}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_JukiRouterProvider_context__WEBPACK_IMPORTED_MODULE_1__.z),pushRoute=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((url=>{let sp,pathname;if("string"==typeof url){const[p,s]=url.split("?");pathname=p,sp=new URLSearchParams(s)}else{var _url$searchParams;pathname=url.pathname,sp=(0,_helpers__WEBPACK_IMPORTED_MODULE_2__.b$)(null!==(_url$searchParams=url.searchParams)&&void 0!==_url$searchParams?_url$searchParams:new URLSearchParams)}const token=searchParams.get(_types__WEBPACK_IMPORTED_MODULE_3__.rs.TOKEN);token&&sp.set(_types__WEBPACK_IMPORTED_MODULE_3__.rs.TOKEN,token);const company=searchParams.get(_types__WEBPACK_IMPORTED_MODULE_3__.rs.COMPANY);company&&sp.set(_types__WEBPACK_IMPORTED_MODULE_3__.rs.COMPANY,company),_pushRoute({pathname,searchParams:sp})}),[searchParams,_pushRoute]);return{searchParams,appendSearchParams,deleteSearchParams,setSearchParams,routeParams,pushRoute,replaceRoute,reloadRoute,isLoadingRoute,pathname}}},"./src/hooks/useJukiUser.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>useJukiUser,l:()=>useJukiUserSettings});var _Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_components_atoms_T__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/T/index.ts"),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/index.ts"),_contexts_JukiUserProvider_context__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/contexts/JukiUserProvider/context.ts"),_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/helpers/index.ts"),_settings__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/settings/index.ts"),_useJukiNotification__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/hooks/useJukiNotification.tsx"),_useSWR__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/hooks/useSWR.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["params","body","onSuccess"],_excluded2=["url"],_excluded3=["body","onSuccess"],_excluded4=["url"],_excluded5=["params","body"],_excluded6=["url"],_excluded7=["params","body"],_excluded8=["url"],_excluded9=["params","body"],_excluded10=["url"],_excluded11=["body"],_excluded12=["url"],_excluded13=["params"],_excluded14=["url"],_excluded15=["onError","onFinally"],_excluded16=["url"],_excluded17=["params"],_excluded18=["url"],_excluded19=["params","body"],_excluded20=["url"],useJukiUser=()=>{const{user,isLoading,setUser,mutate,company,device}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_contexts_JukiUserProvider_context__WEBPACK_IMPORTED_MODULE_4__.R),{notifyResponse,addErrorNotification}=(0,_useJukiNotification__WEBPACK_IMPORTED_MODULE_7__.Eq)(),{matchMutate}=(0,_useSWR__WEBPACK_IMPORTED_MODULE_8__.C)(),refreshAllRequest=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async()=>{await matchMutate(new RegExp("^".concat(_settings__WEBPACK_IMPORTED_MODULE_6__.ug.SERVICE_API_URL),"g"))}),[matchMutate]),doRequest=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref=>{let{url,options,setLoader,onSuccess,onError,onFinally}=_ref;null==setLoader||setLoader(_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.nW6.LOADING);const response=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.Hu)(await(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.zb)(url,options));notifyResponse(response,setLoader)?await(null==onSuccess?void 0:onSuccess(response)):await(null==onError?void 0:onError(response)),null==onFinally||onFinally(response)}),[notifyResponse]),signIn=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref2=>{let{params,body,onSuccess}=_ref2,props=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_ref2,_excluded);const _jukiApiSocketManager=_settings__WEBPACK_IMPORTED_MODULE_6__.ug.API_V1.auth.signIn({body,params}),{url}=_jukiApiSocketManager,options=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_jukiApiSocketManager,_excluded2);await doRequest((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({url,options,onSuccess:async response=>{_helpers__WEBPACK_IMPORTED_MODULE_5__.WW.setItem(_settings__WEBPACK_IMPORTED_MODULE_6__.ug.TOKEN_NAME,response.content.user.sessionId),setUser((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({},response.content.user),{},{isLogged:!0})),await refreshAllRequest(),await(null==onSuccess?void 0:onSuccess(response))}},props))}),[doRequest,refreshAllRequest,setUser]),signUp=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref3=>{let{body,onSuccess}=_ref3,props=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_ref3,_excluded3);const _jukiApiSocketManager2=_settings__WEBPACK_IMPORTED_MODULE_6__.ug.API_V1.auth.signUp({body}),{url}=_jukiApiSocketManager2,options=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_jukiApiSocketManager2,_excluded4);await doRequest((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({url,options,onSuccess:async response=>{_helpers__WEBPACK_IMPORTED_MODULE_5__.WW.setItem(_settings__WEBPACK_IMPORTED_MODULE_6__.ug.TOKEN_NAME,response.content.user.sessionId),setUser((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({},response.content.user),{},{isLogged:!0})),await refreshAllRequest(),await(null==onSuccess?void 0:onSuccess(response))}},props))}),[doRequest,refreshAllRequest,setUser]),createUser=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref4=>{let{params,body}=_ref4,props=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_ref4,_excluded5);const _jukiApiSocketManager3=_settings__WEBPACK_IMPORTED_MODULE_6__.ug.API_V1.auth.createUser({params,body}),{url}=_jukiApiSocketManager3,options=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_jukiApiSocketManager3,_excluded6);await doRequest((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({url,options},props))}),[doRequest]),updateUserProfileData=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref5=>{let{params,body}=_ref5,props=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_ref5,_excluded7);const _jukiApiSocketManager4=_settings__WEBPACK_IMPORTED_MODULE_6__.ug.API_V1.user.updateProfileData({params,body}),{url}=_jukiApiSocketManager4,options=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_jukiApiSocketManager4,_excluded8);await doRequest((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({url,options},props))}),[doRequest]),updateUserProfileImage=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref6=>{let{params,body}=_ref6,props=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_ref6,_excluded9);const _jukiApiSocketManager5=_settings__WEBPACK_IMPORTED_MODULE_6__.ug.API_V1.user.updateProfileImage({params,body}),{url}=_jukiApiSocketManager5,options=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_jukiApiSocketManager5,_excluded10);await doRequest((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({url,options},props))}),[doRequest]),updatePassword=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref7=>{let{body}=_ref7,props=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_ref7,_excluded11);const _jukiApiSocketManager6=_settings__WEBPACK_IMPORTED_MODULE_6__.ug.API_V1.auth.updatePassword({params:{nickname:user.nickname,companyKey:company.key},body}),{url}=_jukiApiSocketManager6,options=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_jukiApiSocketManager6,_excluded12);await doRequest((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({url,options},props))}),[company.key,doRequest,user.nickname]),resetUserPassword=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref8=>{let{params:{companyKey,nickname}}=_ref8,props=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_ref8,_excluded13);const _jukiApiSocketManager7=_settings__WEBPACK_IMPORTED_MODULE_6__.ug.API_V1.auth.resetPassword({params:{companyKey,nickname}}),{url}=_jukiApiSocketManager7,options=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_jukiApiSocketManager7,_excluded14);await doRequest((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({url,options},props))}),[doRequest]),logout=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref9=>{let{onError,onFinally}=_ref9,props=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_ref9,_excluded15);const _jukiApiSocketManager8=_settings__WEBPACK_IMPORTED_MODULE_6__.ug.API_V1.auth.signOut(),{url}=_jukiApiSocketManager8,options=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_jukiApiSocketManager8,_excluded16);await doRequest((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({url,options,onError:async response=>{addErrorNotification((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_atoms_T__WEBPACK_IMPORTED_MODULE_2__.T,{className:"tt-se",children:"force Logout"})),await(null==onError?void 0:onError(response))},onFinally:async response=>{_helpers__WEBPACK_IMPORTED_MODULE_5__.WW.removeItem(_settings__WEBPACK_IMPORTED_MODULE_6__.ug.TOKEN_NAME),setUser(_constants__WEBPACK_IMPORTED_MODULE_3__.GO),await refreshAllRequest(),await(null==onFinally?void 0:onFinally(response))}},props))}),[addErrorNotification,doRequest,refreshAllRequest,setUser]),deleteUserSession=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref10=>{let{params}=_ref10,props=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_ref10,_excluded17);const _jukiApiSocketManager9=_settings__WEBPACK_IMPORTED_MODULE_6__.ug.API_V1.user.deleteSession({params}),{url}=_jukiApiSocketManager9,options=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_jukiApiSocketManager9,_excluded18);await doRequest((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({url,options},props))}),[doRequest]),updateUserPreferences=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async _ref11=>{let{params,body}=_ref11,props=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_ref11,_excluded19);const _jukiApiSocketManager10=_settings__WEBPACK_IMPORTED_MODULE_6__.ug.API_V1.user.updatePreferences({params,body}),{url}=_jukiApiSocketManager10,options=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__.A)(_jukiApiSocketManager10,_excluded20);await doRequest((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({url,options},props))}),[doRequest]);return{company,user,setUser,isLoading,mutatePing:mutate,refreshAllRequest,signIn,signUp,logout,updatePassword,device,createUser,updateUserProfileData,updateUserProfileImage,resetUserPassword,deleteUserSession,updateUserPreferences}},useJukiUserSettings=()=>{const i18n=_settings__WEBPACK_IMPORTED_MODULE_6__.mg.getI18n(),{updateUserPreferences,setUser,user:{isLogged,settings,nickname},mutatePing}=useJukiUser(),[loader,setLoader]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.nW6.NONE),setSettings=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async settingsToUpdate=>{var _i18n$changeLanguage;const newSettings=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({},settings);for(const{key,value}of settingsToUpdate)key===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.LANGUAGE&&(newSettings[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.LANGUAGE]=value),key===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.THEME&&(newSettings[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.THEME]=value),key===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.DATA_VIEW_MODE&&(newSettings[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.DATA_VIEW_MODE]=value),key===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.MENU_VIEW_MODE&&(newSettings[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.MENU_VIEW_MODE]=value),key===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.NEWSLETTER_SUBSCRIPTION&&(newSettings[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.NEWSLETTER_SUBSCRIPTION]=value);if(isLogged)await updateUserPreferences({params:{nickname},body:(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({},newSettings),setLoader,onSuccess:async()=>{null==setLoader||setLoader(_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.nW6.LOADING),await mutatePing(),null==setLoader||setLoader(_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.nW6.SUCCESS)}});else{for(const{key,value}of settingsToUpdate)_helpers__WEBPACK_IMPORTED_MODULE_5__.WW.setItem(key,value+"");setUser((prevState=>(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({},prevState),{},{settings:newSettings})))}null===(_i18n$changeLanguage=i18n.changeLanguage)||void 0===_i18n$changeLanguage||_i18n$changeLanguage.call(i18n,newSettings[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.LANGUAGE])}),[i18n,isLogged,mutatePing,nickname,setUser,settings,updateUserPreferences]),loading=loader===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.nW6.LOADING;return(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.A)({},settings),{},{loading,setSettings})}},"./src/hooks/useLastPath.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>useLastPath});var _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_contexts_JukiLastPathProvider_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/contexts/JukiLastPathProvider/context.ts");__webpack_require__("./src/hooks/useJukiRouter.tsx");const defaultContext=()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({pushPath:()=>null,lastPath:{}}),useLastPath=()=>{_contexts_JukiLastPathProvider_context__WEBPACK_IMPORTED_MODULE_2__.A.current||(0,_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.OPF)("last path context not initialized");const{lastPath,pushPath}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_contexts_JukiLastPathProvider_context__WEBPACK_IMPORTED_MODULE_2__.A.current||defaultContext());return{lastPath,pushPath}}},"./src/hooks/useSWR.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>useSWR});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),swr__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/swr/dist/core/index.mjs"),_settings__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/settings/index.ts");const useSWR=()=>{const{cache,mutate}=(0,swr__WEBPACK_IMPORTED_MODULE_1__.iX)(),token=_settings__WEBPACK_IMPORTED_MODULE_2__.ug.getToken(),matchMutate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(matcher){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];if(!(cache instanceof Map))throw new Error("matchMutate requires the cache provider to be a Map instance");const keys=[];for(const key of cache.keys())matcher.test(key)&&keys.push(key);const mutations=keys.map((key=>mutate(key,...args)));return Promise.all(mutations)}),[cache,mutate]);return{mutate:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((url=>mutate([url,token])),[mutate,token]),matchMutate}}},"./src/hooks/useSound.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>useSound});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_organisms_Notifications_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/organisms/Notifications/context.tsx"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/types/index.ts");const useSound=()=>{const{sounds}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_components_organisms_Notifications_context__WEBPACK_IMPORTED_MODULE_1__.j);return{playClick:()=>null==sounds?void 0:sounds[_types__WEBPACK_IMPORTED_MODULE_2__.AB.CLICK].play(),playSuccess:()=>null==sounds?void 0:sounds[_types__WEBPACK_IMPORTED_MODULE_2__.AB.SUCCESS].play(),playError:()=>null==sounds?void 0:sounds[_types__WEBPACK_IMPORTED_MODULE_2__.AB.ERROR].play(),playNotification:()=>null==sounds?void 0:sounds[_types__WEBPACK_IMPORTED_MODULE_2__.AB.NOTIFICATION].play(),playWarning:()=>null==sounds?void 0:sounds[_types__WEBPACK_IMPORTED_MODULE_2__.AB.WARNING].play(),playMessage:()=>null==sounds?void 0:sounds[_types__WEBPACK_IMPORTED_MODULE_2__.AB.MESSAGE].play(),playPop:()=>null==sounds?void 0:sounds[_types__WEBPACK_IMPORTED_MODULE_2__.AB.POP].play(),playBell:()=>null==sounds?void 0:sounds[_types__WEBPACK_IMPORTED_MODULE_2__.AB.BELL].play()}}},"./src/hooks/useWidthResizer.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>useWidthResizer});var _Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_resize_detector__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-resize-detector/build/index.esm.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/index.ts"),_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/index.ts");const useWidthResizer=_ref=>{let{onOverflow,unOverflow,trigger,targetRef}=_ref;const{width=0}=(0,react_resize_detector__WEBPACK_IMPORTED_MODULE_3__.u)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.A)({targetRef},_constants__WEBPACK_IMPORTED_MODULE_1__.fV)),[now,setNow]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),widthRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setTimeout((()=>{var _targetRef$current2,_targetRef$current3,_targetRef$current;if(width&&targetRef.current)if((0,_helpers__WEBPACK_IMPORTED_MODULE_2__.G9)(targetRef))widthRef.current=null===(_targetRef$current=targetRef.current)||void 0===_targetRef$current?void 0:_targetRef$current.clientWidth,onOverflow();else if((null===(_targetRef$current2=targetRef.current)||void 0===_targetRef$current2?void 0:_targetRef$current2.scrollWidth)===(null===(_targetRef$current3=targetRef.current)||void 0===_targetRef$current3?void 0:_targetRef$current3.clientWidth)){var _targetRef$current4;(null===(_targetRef$current4=targetRef.current)||void 0===_targetRef$current4?void 0:_targetRef$current4.clientWidth)>widthRef.current&&unOverflow()}}),0)}),[width,onOverflow,unOverflow,trigger,targetRef,now]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const handleTrigger=()=>setNow(Date.now());return window.addEventListener("resize",handleTrigger),()=>{window.removeEventListener("resize",handleTrigger)}}),[width,onOverflow,unOverflow,trigger,targetRef])}}}]);