"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[711],{"./src/components/organisms/_layz_/SubmitView/SubmitView.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>SubmitView});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),settings=__webpack_require__("./src/settings/index.ts"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),molecules=__webpack_require__("./src/components/molecules/index.ts"),PageNotFound=__webpack_require__("./src/components/organisms/PageNotFound/PageNotFound.tsx"),esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),enums=__webpack_require__("./src/enums/index.ts"),helpers=__webpack_require__("./src/components/helpers/index.ts"),submission=__webpack_require__("./src/components/helpers/submission.ts"),useUserStore=__webpack_require__("./src/stores/user/useUserStore.ts"),useFetcher=__webpack_require__("./src/components/hooks/useFetcher.ts"),useJukiUI=__webpack_require__("./src/components/hooks/useJukiUI.tsx"),server=__webpack_require__("./src/components/server/index.ts"),UserChip=__webpack_require__("./src/components/organisms/UserChip/UserChip.tsx"),diff2html=__webpack_require__("./node_modules/diff2html/lib-esm/diff2html.js"),types=__webpack_require__("./node_modules/diff2html/lib/types.js"),react=__webpack_require__("./node_modules/react/index.js"),useI18nStore=__webpack_require__("./src/stores/i18n/useI18nStore.ts"),SubmissionMemory=__webpack_require__("./src/components/organisms/_layz_/SubmitView/commons/SubmissionMemory.tsx"),SubmissionTime=__webpack_require__("./src/components/organisms/_layz_/SubmitView/commons/SubmissionTime.tsx"),SubmissionVerdict=__webpack_require__("./src/components/organisms/_layz_/SubmitView/commons/SubmissionVerdict.tsx");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DiffViewButton(param){var diffInput=param.diffInput,croppedDiff=param.croppedDiff,isProblemEditor=param.isProblemEditor,_useState=_sliced_to_array((0,react.useState)(!1),2),isOpen=_useState[0],setIsOpen=_useState[1],_useState1=_sliced_to_array((0,react.useState)(""),2),diff=_useState1[0],setDiff=_useState1[1],userPreferredTheme=(0,useUserStore.k)(function(state){return state.user.settings[esm.mZ_.THEME]}),t=(0,useI18nStore.T)(function(state){return state.i18n.t});(0,react.useEffect)(function(){if(isOpen)if(/\$\/.*\.out/.test(diffInput)||/\$\/.*\.judge.out/.test(diffInput)){var diff=diffInput;isProblemEditor||(diff=function hideTestKey(input,text){return input.replace(/\$\S+\.out/,"$/".concat(text,".out")).replace(/\$\S+\.judge\.out/g,"$/".concat(text,".judge.out"))}(diffInput,t("file")));var diffHtml=diff2html.qy(diff,{drawFileList:!1,matching:"words",renderNothingWhenEmpty:!1,colorScheme:userPreferredTheme===esm.Sxu.DARK?types.d7.DARK:types.d7.LIGHT,outputFormat:"side-by-side"});setDiff(diffHtml)}else setDiff(diffInput)},[diffInput,userPreferredTheme,isOpen,isProblemEditor,t]);var left=diffInput.length-diffInput.indexOf("No newline at end of file")>26;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.$n,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":"view diff",icon:(0,jsx_runtime.jsx)(server.ITR,{}),size:"tiny",type:"light",onClick:function(){return setIsOpen(!0)}}),(0,jsx_runtime.jsx)(atoms.aF,{isOpen,onClose:function(){return setIsOpen(!1)},closeIcon:!0,expand:!0,children:(0,jsx_runtime.jsxs)("div",{className:"jk-col stretch gap jk-pg-lg diff-body-modal",children:[(0,jsx_runtime.jsx)("div",{children:croppedDiff&&(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se cr-er fw-bd",children:"only the first 1000 characters of the difference are being displayed"})}),(0,jsx_runtime.jsx)("div",{className:"wh-100",dangerouslySetInnerHTML:{__html:diff}}),diffInput.includes("No newline at end of file")&&(0,jsx_runtime.jsxs)("div",{className:"jk-row block center",children:[(0,jsx_runtime.jsx)("div",{className:"bc-er cr-we",children:left&&(0,jsx_runtime.jsx)(atoms.T,{children:"no newline at end of file"})}),(0,jsx_runtime.jsx)("div",{className:"bc-er cr-we",children:!left&&(0,jsx_runtime.jsx)(atoms.T,{children:"no newline at end of file"})})]})]})})]})}function SubmissionGroupInfo(props){var groupKey=props.groupKey,problemScoringMode=props.problemScoringMode,timeUsed=props.timeUsed,memoryUsed=props.memoryUsed,verdict=props.verdict,points=props.points,testCases=props.testCases,submitId=props.submitId,isProblemEditor=props.isProblemEditor,viewPortSize=(0,useJukiUI.p)().viewPortSize,rowHeight="sm"===viewPortSize||"md"===viewPortSize?70:40,testCasesString=JSON.stringify(testCases),renderRow=(0,react.useCallback)(function(index){var _testCase_points,testCase=JSON.parse(testCasesString)[index];return testCase?(0,jsx_runtime.jsxs)("div",{className:"jk-row extend block gap jk-table-inline-row",style:{borderBottom:"1px solid var(--t-color-gray-5)",height:"100%",padding:0},children:[isProblemEditor?(0,jsx_runtime.jsx)("div",{"data-tooltip-id":"jk-tooltip","data-tooltip-content":testCase.testCaseKey,"data-tooltip-t-class-name":"ws-np",className:"jk-row",style:{flex:.4},children:index+1}):(0,jsx_runtime.jsx)("div",{className:"jk-row",style:{flex:.4},children:index+1}),(0,jsx_runtime.jsxs)("div",{className:"jk-row gap center nowrap",style:{flex:2},children:[(0,jsx_runtime.jsx)(SubmissionVerdict.y,{verdict:testCase.verdict,submitId}),testCase.diff&&(0,jsx_runtime.jsx)(DiffViewButton,{croppedDiff:testCase.croppedDiff,diffInput:testCase.diff.replaceAll(testCase.testCaseKey+".judge.out","A").replaceAll(testCase.testCaseKey+".out","B"),isProblemEditor})]}),problemScoringMode===esm.MEM.PARTIAL&&(0,jsx_runtime.jsx)("div",{className:"jk-row",children:null===(_testCase_points=testCase.points)||void 0===_testCase_points?void 0:_testCase_points.toFixed(3)}),(0,jsx_runtime.jsx)("div",{className:"jk-row center ws-np nowrap",children:(0,jsx_runtime.jsx)(SubmissionTime.u,{verdict:testCase.verdict,timeUsed:testCase.timeUsed})}),(0,jsx_runtime.jsx)("div",{className:"jk-row center ws-np nowrap",children:(0,jsx_runtime.jsx)(SubmissionMemory.m,{verdict:testCase.verdict,memoryUsed:testCase.memoryUsed})}),(0,jsx_runtime.jsx)("div",{className:(0,helpers.xW)("jk-row center gap",{"cr-er fw-bd":0!==(null==testCase?void 0:testCase.exitCode)}),children:testCase.exitCode})]},index):null},[isProblemEditor,problemScoringMode,submitId,testCasesString]);return(0,jsx_runtime.jsx)(atoms.SD,{header:function(param){var isOpen=param.isOpen,toggle=param.toggle;return(0,jsx_runtime.jsxs)("div",{className:(0,helpers.xW)("jk-row extend block gap jk-table-inline-row jk-pg-md group-info",{"fw-br":isOpen}),children:[(0,jsx_runtime.jsxs)("div",{className:"jk-row left nowrap",children:[!!testCases.length&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(server.Hd_,{onClick:toggle,rotate:isOpen?0:180,className:"link"})," "]}),+groupKey?problemScoringMode===esm.MEM.SUBTASK?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se ws-np",children:"subtask"})," ",groupKey]}):problemScoringMode===esm.MEM.PARTIAL?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se ws-np",children:"group"})," ",groupKey]}):(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"test cases"}):(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"sample cases"})]}),(0,jsx_runtime.jsx)("div",{className:"jk-row center gap nowrap",style:{flex:3},children:(0,jsx_runtime.jsx)(SubmissionVerdict.y,{verdict,points,submitId})}),(problemScoringMode===esm.MEM.SUBTASK||problemScoringMode===esm.MEM.PARTIAL)&&(0,jsx_runtime.jsx)("div",{className:"jk-row center",children:+points.toFixed(4)}),(0,jsx_runtime.jsx)("div",{className:"jk-row center",children:(0,jsx_runtime.jsx)(SubmissionTime.u,{timeUsed,verdict})}),(0,jsx_runtime.jsx)("div",{className:"jk-row center",children:(0,jsx_runtime.jsx)(SubmissionMemory.m,{verdict,memoryUsed})})]})},className:"wh-100 tx-s",children:(0,jsx_runtime.jsxs)("div",{className:(0,helpers.xW)("jk-row extend group-info-details"),children:[(0,jsx_runtime.jsxs)("div",{className:(0,helpers.xW)("jk-row extend block gap jk-table-inline-row fw-bd"),children:[(0,jsx_runtime.jsx)("div",{className:"jk-row",style:{flex:.4},children:(0,jsx_runtime.jsx)(atoms.T,{children:"#"})}),(0,jsx_runtime.jsx)("div",{className:"jk-row center gap",style:{flex:2},children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"verdict"})}),problemScoringMode===esm.MEM.PARTIAL&&(0,jsx_runtime.jsx)("div",{className:"jk-row center gap",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"points"})}),(0,jsx_runtime.jsx)("div",{className:"jk-row center gap",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"time"})}),(0,jsx_runtime.jsx)("div",{className:"jk-row center gap",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"memory"})}),(0,jsx_runtime.jsx)("div",{className:"jk-row center gap",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"exit code"})})]}),(0,jsx_runtime.jsx)("div",{style:{width:"100%",height:rowHeight*Math.min(testCases.length,3)+1},className:(0,helpers.xW)({"top-bottom-inset-shadow":testCases.length>3}),children:(0,jsx_runtime.jsx)(atoms.$0,{size:testCases.length,rowHeight,renderRow})})]})})}SubmissionGroupInfo.__docgenInfo={description:"",methods:[],displayName:"SubmissionGroupInfo",props:{isProblemEditor:{required:!0,tsType:{name:"boolean"},description:""},groupKey:{required:!0,tsType:{name:"number"},description:""},problemScoringMode:{required:!0,tsType:{name:"ProblemScoringMode"},description:""},timeUsed:{required:!0,tsType:{name:"number"},description:""},memoryUsed:{required:!0,tsType:{name:"number"},description:""},verdict:{required:!0,tsType:{name:"ProblemVerdict"},description:""},points:{required:!0,tsType:{name:"number"},description:""},testCases:{required:!0,tsType:{name:"Array",elements:[{name:"TestCaseResultType"}],raw:"TestCaseResultType[]"},description:""},submitId:{required:!0,tsType:{name:"string"},description:""}}};var SubmissionListenerVerdict=__webpack_require__("./src/components/organisms/_layz_/SubmitView/commons/SubmissionListenerVerdict.tsx");function SubmitViewContent_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SubmitViewContent_sliced_to_array(arr,i){return function SubmitViewContent_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function SubmitViewContent_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||SubmitViewContent_unsupported_iterable_to_array(arr,i)||function SubmitViewContent_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return SubmitViewContent_array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||SubmitViewContent_unsupported_iterable_to_array(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SubmitViewContent_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return SubmitViewContent_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SubmitViewContent_array_like_to_array(o,minLen):void 0}}var DisplayGridData=function(param){var data=param.data;return(0,jsx_runtime.jsx)("div",{className:"jk-table-grid wh-100",children:data.map(function(param){var title=param.title,content=param.content;return(0,jsx_runtime.jsxs)("div",{className:"jk-col bc-we jk-pg-xsm jk-br-ie",children:[(0,jsx_runtime.jsx)("div",{children:title}),(0,jsx_runtime.jsx)("div",{children:content})]})})})},SubmitViewContent=function(param){var _data_contents_find,submit=param.submit,runId=submit.runId,submitId=submit.submitId,_submit_problem=submit.problem,isManager=_submit_problem.isManager,isAdministrator=_submit_problem.isAdministrator,problemScoringMode=_submit_problem.scoringMode,problemKey=_submit_problem.key,_submit_user=submit.user,nickname=_submit_user.nickname,canViewSourceCode=_submit_user.canViewSourceCode,language=submit.language,sourceCode=submit.sourceCode,memoryUsed=submit.memoryUsed,timeUsed=submit.timeUsed,verdict=submit.verdict,points=submit.points,status=submit.status,timestamp=submit.timestamp,testCaseResults=submit.testCaseResults,verdictByGroups=submit.verdictByGroups,compilationResult=submit.compilationResult,judgmentTime=submit.judgmentTime,contest=submit.contest,isProblemEditor=isManager||isAdministrator,date=new Date(timestamp),testCasesByGroup={};(testCaseResults||[]).forEach(function(testCase){var group=testCase.group?problemScoringMode===esm.MEM.SUBTASK?testCase.group:1:0;testCasesByGroup[group]?testCasesByGroup[group].push(testCase):testCasesByGroup[group]=[testCase]});var compilationFailed=verdict!==esm.npq.NONE&&verdict!==esm.npq.PENDING&&!1===(null==compilationResult?void 0:compilationResult.success),Link=(0,useJukiUI.p)().components.Link,userCompanyKey=(0,useUserStore.k)(function(state){return state.company.key}),origin=(0,helpers._0)(submit.problem.company.key,userCompanyKey),isLeetCode=submit.problem.judge.key===esm.IhU.LEETCODE,data=(0,useFetcher.L)(settings.Z.API_V1.judge.getSummaryList().url).data,getSubmissionUrl=(null==data?void 0:data.success)?null===(_data_contents_find=data.contents.find(function(param){return param.key===esm.IhU.LEETCODE}))||void 0===_data_contents_find?void 0:_data_contents_find.getSubmissionUrl:"",externalUrl=new Function("problemKey","submissionId","username","submissionRunId",getSubmissionUrl||"return ''")(problemKey,submitId,nickname,runId);return(0,jsx_runtime.jsxs)("div",{className:"jk-col stretch gap wh-100",children:[(0,jsx_runtime.jsx)(atoms.SD,{header:function(param){var _CODE_LANGUAGE_language,isOpen=param.isOpen,toggle=param.toggle;return(0,jsx_runtime.jsx)(DisplayGridData,{data:[{title:(0,jsx_runtime.jsx)(atoms.T,{className:"fw-bd tt-se",children:"nickname"}),content:(0,jsx_runtime.jsx)(UserChip.A,{imageUrl:submit.user.imageUrl,nickname:submit.user.nickname})},{title:(0,jsx_runtime.jsx)(atoms.T,{className:"fw-bd tt-se",children:"problem"}),content:contest?(0,jsx_runtime.jsx)(Link,{href:settings.L.JUDGE(origin).contests.view({key:contest.key,tab:enums.i$.PROBLEMS,subTab:contest.problemIndex}),target:origin?"_blank":void 0,className:"link",children:(0,jsx_runtime.jsx)("div",{children:submit.problem.key})}):(0,jsx_runtime.jsx)(Link,{href:settings.L.JUDGE(origin).problems.view({key:submit.problem.key}),target:origin?"_blank":void 0,className:"link",children:(0,jsx_runtime.jsx)("div",{children:submit.problem.key})})},{title:(0,jsx_runtime.jsx)(atoms.T,{className:"fw-bd tt-se",children:"language"}),content:(0,jsx_runtime.jsx)("div",{className:"jk-row",children:(null===(_CODE_LANGUAGE_language=esm.fO_[language])||void 0===_CODE_LANGUAGE_language?void 0:_CODE_LANGUAGE_language.label)||language})},{title:(0,jsx_runtime.jsx)(atoms.T,{className:"fw-bd tt-se",children:"verdict"}),content:(0,jsx_runtime.jsxs)("div",{className:"jk-row gap center",children:[(0,jsx_runtime.jsx)(SubmissionListenerVerdict.g,{verdict,points,status,submitId}),compilationFailed&&(0,jsx_runtime.jsx)(server.Hd_,{onClick:toggle,rotate:isOpen?0:180,className:"link"})]})}].concat(_to_consumable_array((0,submission.J)(verdict)?[{title:(0,jsx_runtime.jsx)(atoms.T,{className:"fw-bd tt-se",children:"time used"}),content:(0,jsx_runtime.jsx)(SubmissionTime.u,{timeUsed,verdict})},{title:(0,jsx_runtime.jsx)(atoms.T,{className:"fw-bd tt-se",children:"memory used"}),content:(0,jsx_runtime.jsx)(SubmissionMemory.m,{memoryUsed,verdict})}]:[]),[{title:(0,jsx_runtime.jsx)(atoms.T,{className:"fw-bd tt-se",children:"date"}),content:(0,jsx_runtime.jsx)(atoms.cL,{date,twoLines:!0})}],_to_consumable_array(isProblemEditor?[{title:(0,jsx_runtime.jsx)(atoms.T,{className:"fw-bd tt-se",children:judgmentTime>0?"judgment time":"judging"}),content:(0,jsx_runtime.jsxs)("div",{className:"jk-row",children:["~ ",judgmentTime>0?(0,jsx_runtime.jsx)(molecules.M4,{currentTimestamp:judgmentTime,interval:0,literal:!0,type:"seconds"}):(0,jsx_runtime.jsx)(molecules.M4,{currentTimestamp:Date.now()- -judgmentTime,interval:1e3,literal:!0,type:"seconds"})]})},{title:(0,jsx_runtime.jsx)(atoms.T,{className:"fw-bd tt-se",children:"actions"}),content:(0,jsx_runtime.jsx)(molecules.n6,{submissionId:submit.submitId})}]:[]))})},startsShowing:compilationFailed,className:"wh-100",children:!!(null==compilationResult?void 0:compilationResult.err)&&(0,jsx_runtime.jsx)("div",{className:"submission-stderr-content jk-text-stderr tx-t bc-er cr-we jk-pg-xsm",children:null==compilationResult?void 0:compilationResult.err})}),(verdictByGroups&&!!Object.keys(verdictByGroups).length||testCasesByGroup&&!!Object.keys(testCasesByGroup).length)&&(0,jsx_runtime.jsxs)("div",{className:"wh-100",children:[(0,jsx_runtime.jsx)("div",{className:"tx-l fw-bd cr-pd",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:problemScoringMode===esm.MEM.SUBTASK?"information by subtasks":problemScoringMode===esm.MEM.PARTIAL?"information by groups":"sample and test case information"})}),(0,jsx_runtime.jsx)("div",{className:"jk-col gap",children:(0,jsx_runtime.jsxs)("div",{className:"jk-row extend block gap jk-table-inline-header",children:[(0,jsx_runtime.jsx)("div",{className:"jk-row",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:problemScoringMode===esm.MEM.SUBTASK?"groups":""})}),(0,jsx_runtime.jsx)("div",{className:"jk-row",style:{flex:3},children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"verdict"})}),(problemScoringMode===esm.MEM.SUBTASK||problemScoringMode===esm.MEM.PARTIAL)&&(0,jsx_runtime.jsx)("div",{className:"jk-row",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"points"})}),(0,jsx_runtime.jsx)("div",{className:"jk-row",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"time"})}),(0,jsx_runtime.jsx)("div",{className:"jk-row",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"memory"})})]})}),verdictByGroups&&Object.keys(verdictByGroups).length?(0,jsx_runtime.jsx)("div",{className:"jk-col jk-br-ie",children:Object.entries(verdictByGroups).map(function(param){var _param=SubmitViewContent_sliced_to_array(param,2),groupKey=_param[0],result=_param[1];return(0,jsx_runtime.jsx)(SubmissionGroupInfo,{groupKey:+groupKey,isProblemEditor,problemScoringMode,memoryUsed:result.memoryUsed,verdict:result.verdict,timeUsed:result.timeUsed,points:result.points,testCases:testCasesByGroup[result.group]||[],submitId},groupKey)})}):(0,jsx_runtime.jsx)("div",{className:"jk-col jk-br-ie",children:Object.entries(testCasesByGroup).map(function(param){var _param=SubmitViewContent_sliced_to_array(param,2),groupKey=_param[0],result=_param[1];return(0,jsx_runtime.jsx)(SubmissionGroupInfo,{groupKey:+groupKey,isProblemEditor,problemScoringMode,memoryUsed:0,verdict,timeUsed:0,points:problemScoringMode===esm.MEM.PARTIAL?+result.reduce(function(sum,testCase){return sum+testCase.points},0).toFixed(3):0,testCases:result,submitId},groupKey)})})]}),!!canViewSourceCode&&!isLeetCode&&(0,jsx_runtime.jsxs)("div",{className:"jk-col stretch wh-100",children:[(0,jsx_runtime.jsx)("div",{className:"tx-l fw-bd cr-pd",children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"source code"})}),(0,jsx_runtime.jsx)("div",{className:"submission-info-code-source",children:(0,jsx_runtime.jsx)(molecules.Cv,{code:sourceCode,language,lineNumbers:!0})})]}),isLeetCode&&(0,jsx_runtime.jsx)("div",{className:"jk-row wh-100",children:(0,jsx_runtime.jsx)(Link,{href:externalUrl,target:"_blank",children:(0,jsx_runtime.jsxs)(atoms.$n,{children:[(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"view submission on LeetCode"}),(0,jsx_runtime.jsx)(server.PHA,{})]})})})]})};function SubmitView(param){var submitId=param.submitId,triggerFetch=param.triggerFetch;return(0,jsx_runtime.jsx)(molecules.pW,{url:settings.Z.API_V1.submission.getData({params:{id:submitId}}).url,errorView:function(){return(0,jsx_runtime.jsxs)(PageNotFound.H,{children:[(0,jsx_runtime.jsx)("h3",{children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"submission not found"})}),(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"the submission does not exist or you do not have permissions to view it"})})]})},triggerFetch,children:function(param){var data=param.data;return(0,jsx_runtime.jsx)(SubmitViewContent,{submit:data.content})}})}SubmitViewContent.__docgenInfo={description:"",methods:[],displayName:"SubmitViewContent",props:{submit:{required:!0,tsType:{name:"SubmissionDataResponseDTO"},description:""}}},SubmitView.__docgenInfo={description:"",methods:[],displayName:"SubmitView",props:{submitId:{required:!0,tsType:{name:"string"},description:""},triggerFetch:{required:!1,tsType:{name:"number"},description:""}}}}}]);