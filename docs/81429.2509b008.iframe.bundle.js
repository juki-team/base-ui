"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[69716,81429],{"./src/components/organisms/CodeRunnerEditor/CodeRunnerEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CodeRunnerEditor:()=>CodeRunnerEditor});var esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react=__webpack_require__("./node_modules/react/index.js"),useResizeDetector=__webpack_require__("./node_modules/react-resize-detector/build/useResizeDetector.js"),constants=__webpack_require__("./src/constants/index.ts"),helpers=__webpack_require__("./src/helpers/index.ts"),hooks=__webpack_require__("./src/hooks/index.ts"),useUserStore=__webpack_require__("./src/stores/user/useUserStore.ts"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),server=__webpack_require__("./src/components/atoms/server/index.ts"),molecules=__webpack_require__("./src/components/molecules/index.tsx"),useJukiNotification=__webpack_require__("./src/hooks/useJukiNotification.tsx"),settings=__webpack_require__("./src/settings/index.ts"),useWebsocketStore=__webpack_require__("./src/stores/websocket/useWebsocketStore.ts"),components_server=__webpack_require__("./src/components/server/index.ts");const _excluded=["url"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const Header=props=>{const{onChange,testCases,setShowSettings,leftOptions,centerOptions,rightOptions,setRunId,timeLimit,memoryLimit,expanded,setExpanded,isRunning,withoutRunCodeButton,headerRef,headerWidthContainer,twoRows,files,currentFileName}=props,{addErrorNotification}=(0,useJukiNotification.E)(),{width:widthLeftSection=0,ref:refLeftSection}=(0,useResizeDetector.A)(constants.fV),{width:widthRightSection=0,ref:refRightSection}=(0,useResizeDetector.A)(constants.fV),setLoaderRef=(0,react.useRef)(void 0),isConnected=(0,useWebsocketStore.q)(state=>state.isConnected),connectionId=(0,useWebsocketStore.q)(state=>state.connectionId),websocket=(0,useWebsocketStore.q)(state=>state.websocket),currentFile=files[currentFileName];(0,react.useEffect)(()=>{var _setLoaderRef$current,_setLoaderRef$current2;isRunning?null===(_setLoaderRef$current=setLoaderRef.current)||void 0===_setLoaderRef$current||_setLoaderRef$current.call(setLoaderRef,esm.nW6.LOADING):null===(_setLoaderRef$current2=setLoaderRef.current)||void 0===_setLoaderRef$current2||_setLoaderRef$current2.call(setLoaderRef,esm.nW6.NONE)},[isRunning]);const withLabels=headerWidthContainer>(withoutRunCodeButton?570:620),widthCenterContainer=headerWidthContainer-widthLeftSection-widthRightSection;return react.createElement("div",{className:(0,helpers.xW)("options-header-content jk-row jk-pg-xsm",{"two-rows":twoRows}),ref:headerRef},react.createElement("div",{className:(0,helpers.xW)("cr-th jk-row gap left",{"jk-col left gap":twoRows,"jk-row gap left":!twoRows}),ref:refLeftSection},!withoutRunCodeButton&&react.createElement(react.Fragment,null,react.createElement(molecules.mT,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":isConnected?twoRows||withLabels?"":"run":"run the editor is not available yet",size:twoRows||withLabels?"tiny":"small",type:"primary",expand:twoRows,icon:react.createElement(components_server.Bq3,null),onClick:async setStatus=>{const clean=status=>{const newTestCases={};for(const testKey in testCases)newTestCases[testKey]=_objectSpread({},testCases[testKey]),newTestCases[testKey].log="0\n0\n0\n",newTestCases[testKey].out="",newTestCases[testKey].err="",newTestCases[testKey].status=status;null==onChange||onChange({onTestCasesChange:()=>newTestCases})};setStatus(esm.nW6.LOADING),clean(esm.aeR.RECEIVED);try{var _request$content;const _jukiApiManager$API_V=settings.Z.API_V1.code.run({body:{files:[...Object.values(files).map(_ref=>{let{language,source,name}=_ref;return{language,source,fullFileName:name,isInput:!1,isEntryPoint:name===currentFileName,toCompile:name===currentFileName}}),...Object.values(testCases).map(testCase=>({fullFileName:"".concat(testCase.key,".in"),language:esm.aFm.TEXT,source:testCase.in,isInput:!0,isEntryPoint:!1,toCompile:!1}))],timeLimit,memoryLimit,connectionId}}),{url}=_jukiApiManager$API_V,options=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_jukiApiManager$API_V,_excluded),request=(0,helpers.Hu)(await(0,helpers.zb)(url,options));null!=request&&request.success&&null!=request&&null!==(_request$content=request.content)&&void 0!==_request$content&&_request$content.runId?(setRunId(request.content.runId),setStatus(esm.nW6.SUCCESS)):(addErrorNotification(null==request?void 0:request.message),setRunId(""),clean(esm.aeR.NONE),(0,esm.OPF)("run code request failed",{request}),setStatus(esm.nW6.ERROR))}catch(error){(0,esm.OPF)("error on run code",{error}),clean(esm.aeR.NONE),setStatus(esm.nW6.ERROR)}},setLoaderStatusRef:setLoader=>setLoaderRef.current=setLoader,disabled:!isConnected||!currentFile},(twoRows||withLabels)&&react.createElement(atoms.T,{className:"tt-se"},"run")),!isConnected&&react.createElement(molecules.mT,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":"offline, click to try to reconnect",className:"jk-row bc-er",onClick:async setLoader=>{setLoader(esm.nW6.LOADING),websocket.getReadyState()!==WebSocket.OPEN&&await websocket.reconnect(),setLoader(esm.nW6.NONE)},icon:react.createElement(components_server.IJR,null),size:"small"})),leftOptions({widthContainer:widthCenterContainer,withLabels,twoRows})),react.createElement("div",{className:"jk-row flex-1",style:{width:widthCenterContainer}},centerOptions({widthContainer:widthCenterContainer,withLabels,twoRows})),react.createElement("div",{className:(0,helpers.xW)("jk-row gap cr-th",{"jk-col gap":twoRows,"jk-row right gap":!twoRows}),ref:refRightSection},react.createElement(atoms.$n,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":twoRows||withLabels?"":"settings","data-tooltip-place":"bottom-end",size:twoRows||withLabels?"tiny":"small",type:"light",onClick:()=>setShowSettings(!0),icon:react.createElement(components_server.Zes,null)},(twoRows||withLabels)&&react.createElement(atoms.T,{className:"tt-se"},"settings")),null!==expanded&&react.createElement(atoms.$n,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":twoRows||withLabels?"":expanded?"back":"expand","data-tooltip-place":"bottom-end",size:twoRows||withLabels?"tiny":"small",type:"light",onClick:()=>setExpanded(prevState=>!prevState),icon:expanded?react.createElement(components_server.z7w,null):react.createElement(components_server.P7m,null)},(twoRows||withLabels)&&react.createElement(atoms.T,{className:"tt-se"},expanded?"back":"expand")),rightOptions({withLabels,twoRows})))};Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{languages:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: T, label: string }",signature:{properties:[{key:"value",value:{name:"T",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"{ value: T, label: string }[]"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: CodeRunnerEditorPropertiesType<T>) => void",signature:{arguments:[{type:{name:"intersection",raw:"CodeEditorPropertiesType<T> & {\n  onTestCasesChange?: (testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType,\n  codeRunStatus?: SubmissionRunStatus,\n  fileName?: string,\n  newFileName?: true,\n  fileNameEdited?: [ string, string ],\n  fileNameDeleted?: string,\n}",elements:[{name:"signature",type:"object",raw:"{\n  isRunning?: boolean,\n  source?: string,\n  language?: T,\n  theme?: Theme,\n  // keyMap?: CodeEditorKeyMap,\n  tabSize?: number,\n  fontSize?: number,\n  triggerFocus?: number,\n}",signature:{properties:[{key:"isRunning",value:{name:"boolean",required:!1}},{key:"source",value:{name:"string",required:!1}},{key:"language",value:{name:"T",required:!1}},{key:"theme",value:{name:"Theme",required:!1}},{key:"tabSize",value:{name:"number",required:!1}},{key:"fontSize",value:{name:"number",required:!1}},{key:"triggerFocus",value:{name:"number",required:!1}}]}},{name:"signature",type:"object",raw:"{\n  onTestCasesChange?: (testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType,\n  codeRunStatus?: SubmissionRunStatus,\n  fileName?: string,\n  newFileName?: true,\n  fileNameEdited?: [ string, string ],\n  fileNameDeleted?: string,\n}",signature:{properties:[{key:"onTestCasesChange",value:{name:"signature",type:"function",raw:"(testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType",signature:{arguments:[{type:{name:"CodeEditorTestCasesType"},name:"testCases"}],return:{name:"CodeEditorTestCasesType"}},required:!1}},{key:"codeRunStatus",value:{name:"SubmissionRunStatus",required:!1}},{key:"fileName",value:{name:"string",required:!1}},{key:"newFileName",value:{name:"literal",value:"true",required:!1}},{key:"fileNameEdited",value:{name:"tuple",raw:"[ string, string ]",elements:[{name:"string"},{name:"string"}],required:!1}},{key:"fileNameDeleted",value:{name:"string",required:!1}}]}}]},name:"props"}],return:{name:"void"}}},description:""},testCases:{required:!0,tsType:{name:"CodeEditorTestCasesType"},description:""},setShowSettings:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"boolean"}],raw:"SetStateAction<boolean>"}],raw:"Dispatch<SetStateAction<boolean>>"},description:""},runId:{required:!0,tsType:{name:"string"},description:""},setRunId:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"string"}],raw:"SetStateAction<string>"}],raw:"Dispatch<SetStateAction<string>>"},description:""},leftOptions:{required:!0,tsType:{name:"signature",type:"function",raw:"(props: { widthContainer: number, withLabels: boolean, twoRows: boolean }) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ widthContainer: number, withLabels: boolean, twoRows: boolean }",signature:{properties:[{key:"widthContainer",value:{name:"number",required:!0}},{key:"withLabels",value:{name:"boolean",required:!0}},{key:"twoRows",value:{name:"boolean",required:!0}}]}},name:"props"}],return:{name:"ReactNode"}}},description:""},centerOptions:{required:!0,tsType:{name:"signature",type:"function",raw:"(props: { widthContainer: number, withLabels: boolean, twoRows: boolean }) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ widthContainer: number, withLabels: boolean, twoRows: boolean }",signature:{properties:[{key:"widthContainer",value:{name:"number",required:!0}},{key:"withLabels",value:{name:"boolean",required:!0}},{key:"twoRows",value:{name:"boolean",required:!0}}]}},name:"props"}],return:{name:"ReactNode"}}},description:""},rightOptions:{required:!0,tsType:{name:"signature",type:"function",raw:"(props: { withLabels: boolean, twoRows: boolean }) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ withLabels: boolean, twoRows: boolean }",signature:{properties:[{key:"withLabels",value:{name:"boolean",required:!0}},{key:"twoRows",value:{name:"boolean",required:!0}}]}},name:"props"}],return:{name:"ReactNode"}}},description:""},timeLimit:{required:!0,tsType:{name:"number"},description:""},memoryLimit:{required:!0,tsType:{name:"number"},description:""},expanded:{required:!0,tsType:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}]},description:""},setExpanded:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"boolean"}],raw:"SetStateAction<boolean>"}],raw:"Dispatch<SetStateAction<boolean>>"},description:""},isRunning:{required:!0,tsType:{name:"boolean"},description:""},withoutRunCodeButton:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""},headerRef:{required:!0,tsType:{name:"UseResizeDetectorReturn['ref']",raw:"UseResizeDetectorReturn<any>['ref']"},description:""},headerWidthContainer:{required:!0,tsType:{name:"number"},description:""},twoRows:{required:!0,tsType:{name:"boolean"},description:""},files:{required:!0,tsType:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>"},description:""},currentFileName:{required:!0,tsType:{name:"string"},description:""}}};const SettingsModal_excluded=["onChange","tabSize","fontSize"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SettingsModal=_ref=>{let{onChange,tabSize,fontSize}=_ref,modalProps=function SettingsModal_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function SettingsModal_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,SettingsModal_excluded);return react.createElement(atoms.aF,_extends({className:"editor-settings-modal jk-pg-lg"},modalProps),react.createElement("div",{className:"jk-col stretch gap jk-pg-sm-tb"},react.createElement("h3",null,react.createElement(atoms.T,{className:"tt-se"},"code editor settings")),react.createElement("div",{className:"jk-row left gap"},react.createElement("label",{className:"tt-se"},react.createElement(atoms.T,null,"choose your tab size"),": "),react.createElement(atoms.l6,{options:constants.KX.map(keyMap=>({value:keyMap,label:keyMap+""})),selectedOption:{value:tabSize},onChange:_ref2=>{let{value}=_ref2;return null==onChange?void 0:onChange({tabSize:value})}})),react.createElement("div",{className:"jk-row left gap"},react.createElement("label",{className:"tt-se"},react.createElement(atoms.T,null,"choose your font size"),": "),react.createElement(atoms.l6,{options:constants.iU.map(keyMap=>({value:keyMap,label:keyMap+""})),selectedOption:{value:fontSize},onChange:_ref3=>{let{value}=_ref3;return null==onChange?void 0:onChange({fontSize:value})}}))))};SettingsModal.__docgenInfo={description:"",methods:[],displayName:"SettingsModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"T"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: CodeRunnerEditorPropertiesType<T>) => void",signature:{arguments:[{type:{name:"intersection",raw:"CodeEditorPropertiesType<T> & {\n  onTestCasesChange?: (testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType,\n  codeRunStatus?: SubmissionRunStatus,\n  fileName?: string,\n  newFileName?: true,\n  fileNameEdited?: [ string, string ],\n  fileNameDeleted?: string,\n}",elements:[{name:"signature",type:"object",raw:"{\n  isRunning?: boolean,\n  source?: string,\n  language?: T,\n  theme?: Theme,\n  // keyMap?: CodeEditorKeyMap,\n  tabSize?: number,\n  fontSize?: number,\n  triggerFocus?: number,\n}",signature:{properties:[{key:"isRunning",value:{name:"boolean",required:!1}},{key:"source",value:{name:"string",required:!1}},{key:"language",value:{name:"T",required:!1}},{key:"theme",value:{name:"Theme",required:!1}},{key:"tabSize",value:{name:"number",required:!1}},{key:"fontSize",value:{name:"number",required:!1}},{key:"triggerFocus",value:{name:"number",required:!1}}]}},{name:"signature",type:"object",raw:"{\n  onTestCasesChange?: (testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType,\n  codeRunStatus?: SubmissionRunStatus,\n  fileName?: string,\n  newFileName?: true,\n  fileNameEdited?: [ string, string ],\n  fileNameDeleted?: string,\n}",signature:{properties:[{key:"onTestCasesChange",value:{name:"signature",type:"function",raw:"(testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType",signature:{arguments:[{type:{name:"CodeEditorTestCasesType"},name:"testCases"}],return:{name:"CodeEditorTestCasesType"}},required:!1}},{key:"codeRunStatus",value:{name:"SubmissionRunStatus",required:!1}},{key:"fileName",value:{name:"string",required:!1}},{key:"newFileName",value:{name:"literal",value:"true",required:!1}},{key:"fileNameEdited",value:{name:"tuple",raw:"[ string, string ]",elements:[{name:"string"},{name:"string"}],required:!1}},{key:"fileNameDeleted",value:{name:"string",required:!1}}]}}]},name:"props"}],return:{name:"void"}}},description:""},tabSize:{required:!0,tsType:{name:"number"},description:""},fontSize:{required:!0,tsType:{name:"number"},description:""}}};var types=__webpack_require__("./src/types/index.ts"),ProblemVerdictTag=__webpack_require__("./src/components/organisms/ProblemVerdictTag/ProblemVerdictTag.tsx");const otherLimits=[esm.aeR.COMPILING,esm.aeR.COMPILED,esm.aeR.COMPILATION_ERROR],LogInfo=_ref=>{let{testCase,timeLimit,memoryLimit}=_ref;const{timeUsed,timeLimitExceeded,memoryUsed,memoryLimitExceeded,exitCode,runtimeError}=(0,esm.E6g)(testCase,otherLimits.includes(testCase.status)?10*esm.OYE:timeLimit,otherLimits.includes(testCase.status)?1048576:memoryLimit);if(testCase.status===esm.aeR.COMPILATION_ERROR)return react.createElement("div",{className:"border-bottom-highlight-light"},react.createElement("div",{className:"jk-pg-xsm cr-g2 jk-row gap left tx-t",style:{lineHeight:1}},react.createElement("span",{className:(0,helpers.xW)("tt-se cr-er")},react.createElement(atoms.T,null,"compilation error"))));const re=runtimeError&&!timeLimitExceeded&&!memoryLimitExceeded;return react.createElement("div",{className:"border-bottom-highlight-light"},react.createElement("div",{className:"jk-pg-xsm cr-g2 jk-row-col gap left tx-t",style:{lineHeight:1}},react.createElement("div",{className:(0,helpers.xW)("jk-br-ie",{"cr-we bc-el":timeLimitExceeded,"bc-hl":!timeLimitExceeded}),style:{padding:"1px 2px"}},timeLimitExceeded?react.createElement(atoms.T,{className:"tt-se"},"time limit exceeded"):react.createElement(atoms.T,{className:"tt-se"},"time used")," ",timeUsed," ",react.createElement(atoms.T,null,"ms")),react.createElement("div",{className:(0,helpers.xW)("jk-br-ie",{"cr-we bc-el":memoryLimitExceeded,"bc-hl":!memoryLimitExceeded}),style:{padding:"1px 2px"}},memoryLimitExceeded?react.createElement(atoms.T,{className:"tt-se"},"memory limit exceeded"):react.createElement(atoms.T,{className:"tt-se"},"memory used")," ",memoryUsed," ",react.createElement(atoms.T,null,"KB")),react.createElement("div",{className:(0,helpers.xW)("jk-br-ie",{"cr-we bc-el":re,"bc-hl":!re}),style:{padding:"1px 2px"}},re?react.createElement(atoms.T,{className:"tt-se"},"runtime error"):react.createElement(atoms.T,{className:"tt-se"},"exit code")," ",exitCode)))};function TestCases_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function TestCases_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?TestCases_ownKeys(Object(t),!0).forEach(function(r){TestCases_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):TestCases_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function TestCases_defineProperty(e,r,t){return(r=function TestCases_toPropertyKey(t){var i=function TestCases_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}LogInfo.__docgenInfo={description:"",methods:[],displayName:"LogInfo",props:{testCase:{required:!0,tsType:{name:"SubmissionTestCaseType"},description:""},timeLimit:{required:!0,tsType:{name:"number"},description:""},memoryLimit:{required:!0,tsType:{name:"number"},description:""}}};const AddCaseButton=_ref=>{let{onChange,testCasesValues,sample=!1}=_ref;const{addNotification}=(0,useJukiNotification.E)();return react.createElement("div",{"data-tooltip-id":"jk-tooltip","data-tooltip-content":"add ".concat(sample?"sample":"custom sample"," case"),"data-tooltip-place":"left",className:"jk-button light small only-icon jk-br-ie"},react.createElement(components_server.REV,{size:"small",onClick:()=>{const customCases=testCasesValues.filter(testCaseValue=>!testCaseValue.sample),noCustomCases=testCasesValues.filter(testCaseValue=>testCaseValue.sample),cases=sample?noCustomCases:customCases;if(cases.length<(sample?30:16)){const key=globalThis.crypto.randomUUID(),index=(0,esm.Bc3)(cases.map(testCaseValue=>testCaseValue.index));null==onChange||onChange({onTestCasesChange:testCases=>{var _noCustomCases$0$with,_noCustomCases$;return TestCases_objectSpread(TestCases_objectSpread({},testCases),{},{[key]:{key,index,in:"",out:"",testOut:"",withPE:null===(_noCustomCases$0$with=null==noCustomCases||null===(_noCustomCases$=noCustomCases[0])||void 0===_noCustomCases$?void 0:_noCustomCases$.withPE)||void 0===_noCustomCases$0$with||_noCustomCases$0$with,err:"",log:"",hidden:!1,sample,status:esm.aeR.NONE,messageTimestamp:0}})}})}else addNotification({type:types.NotificationType.QUIET,message:react.createElement(atoms.T,null,"maximum test cases achieved")})}}))},TestCases=props=>{var _testCasesValues$;const{testCases={},onChange,timeLimit,memoryLimit,direction,enableAddSampleCases,enableAddCustomSampleCases}=props,testCasesValues=Object.values(testCases).sort((a,b)=>"*"===a.key?-1:"*"===b.key?1:a.sample!==b.sample?+b.sample-+a.sample:a.index-b.index),[testCaseKey,setTestCaseKey]=(0,react.useState)((null===(_testCasesValues$=testCasesValues[0])||void 0===_testCasesValues$?void 0:_testCasesValues$.key)||"*");(0,react.useEffect)(()=>{const testCasesValues=Object.values(testCases);testCasesValues.length&&(testCasesValues.some(testCase=>testCase.key===testCaseKey)||setTestCaseKey(testCasesValues[0].key))},[testCaseKey,testCases]);const[outputTab,setOutputTab]=(0,react.useState)("output"),[inputTab,setInputTab]=(0,react.useState)("input"),test=testCases[testCaseKey],status=null==test?void 0:test.status;(0,react.useEffect)(()=>{setOutputTab(status&&[esm.aeR.FAILED,esm.aeR.COMPILATION_ERROR,esm.aeR.FAILED_TEST_CASE].includes(status)?"error":"output")},[status]);const loaderAndInfo=(null==test?void 0:test.status)===esm.aeR.RECEIVED||(null==test?void 0:test.status)===esm.aeR.COMPILING||(null==test?void 0:test.status)===esm.aeR.RUNNING_TEST_CASES||(null==test?void 0:test.status)===esm.aeR.RUNNING_TEST_CASE?react.createElement("div",{className:"jk-overlay jk-overlay-backdrop jk-row center pn-ae",style:{background:"transparent",position:"absolute"}},react.createElement("div",{className:"jk-row",style:{alignItems:"baseline"}},react.createElement(atoms.T,null,esm.ok5[null==test?void 0:test.status].label)," ",react.createElement("div",{className:"dot-flashing"}))):!(null==test||!test.log)&&react.createElement(LogInfo,{testCase:test,timeLimit,memoryLimit}),outputTabs={};null!=test&&test.testOut&&(outputTabs["test-output"]={key:"test-output",header:react.createElement("div",{className:"jk-row gap left nowrap"},react.createElement(atoms.T,{className:(0,helpers.xW)("tt-se tx-s")},"expected output"),(null==test?void 0:test.withPE)&&react.createElement("div",{"data-tooltip-id":"jk-tooltip","data-tooltip-content":"".concat((null==test?void 0:test.testOut.lastIndexOf("\n"))===(null==test?void 0:test.testOut.length)-1?"":"no ","newline at end of file"),className:"jk-row"},react.createElement(components_server.xK3,{circle:!0,size:"small"}))),body:react.createElement("div",{className:"ht-100 jk-col stretch nowrap"},react.createElement("div",{className:"jk-pg-xsm ow-ao flex-1"},react.createElement("span",{className:"jk-text-stdout"},null==test?void 0:test.testOut)))}),outputTabs.output={key:"output",header:react.createElement(atoms.T,{className:(0,helpers.xW)("tt-se tx-s",{"cr-er":!!test&&(0,esm.E6g)(test,timeLimit,memoryLimit).failed})},"your output"),body:react.createElement("div",{className:"ht-100 jk-col stretch nowrap pn-re"},loaderAndInfo,react.createElement("div",{className:"jk-pg-xsm ow-ao flex-1"},react.createElement("span",{className:"jk-text-stdout"},null==test?void 0:test.out)))},outputTabs.error={key:"error",header:react.createElement(atoms.T,{className:(0,helpers.xW)("tt-se tx-s",{"cr-er":!!test&&(0,esm.E6g)(test,timeLimit,memoryLimit).failed||!(null==test||!test.err)})},"error"),body:react.createElement("div",{className:"ht-100 jk-col stretch nowrap pn-re"},loaderAndInfo,react.createElement("div",{className:"jk-pg-xsm ow-ao flex-1"},react.createElement("span",{className:"jk-text-stderr tx-t bc-er cr-we jk-pg-xsm"},null==test?void 0:test.err)))};const inputTabs={input:{key:"input",header:react.createElement(atoms.T,{className:"tt-se tx-s"},"input"),body:(null!=test&&test.sample?enableAddSampleCases:enableAddCustomSampleCases)&&onChange?react.createElement(atoms.fs,{style:{height:"calc(100% - 4px)",overflow:"auto",width:"calc(100% - 4px)",margin:2},className:"tx-s flex-1",value:null==test?void 0:test.in,disabled:!test,onChange:test?value=>onChange({onTestCasesChange:testCases=>TestCases_objectSpread(TestCases_objectSpread({},testCases),{},{[null==test?void 0:test.key]:TestCases_objectSpread(TestCases_objectSpread({},test),{},{in:value})})}):void 0}):react.createElement("div",{className:(0,helpers.xW)("flex-1 ow-ao jk-pg-xsm")},react.createElement("span",{className:"jk-text-stdout"},null==test?void 0:test.in))}};return null!=test&&test.sample&&enableAddSampleCases&&(inputTabs.output={key:"output",header:react.createElement(atoms.T,{className:"tt-se tx-s"},"output"),body:onChange?react.createElement(atoms.fs,{style:{height:"calc(100% - 4px)",overflow:"auto",width:"calc(100% - 4px)",margin:2},className:"tx-s flex-1",value:null==test?void 0:test.testOut,onChange:value=>onChange({onTestCasesChange:testCases=>TestCases_objectSpread(TestCases_objectSpread({},testCases),{},{[null==test?void 0:test.key]:TestCases_objectSpread(TestCases_objectSpread({},test),{},{testOut:value})})})}):react.createElement("div",{className:"flex-1 ow-ao jk-pg-xsm"},react.createElement("span",{className:"jk-text-stdout"},null==test?void 0:test.testOut))},inputTabs.settings={key:"settings",header:react.createElement(atoms.T,{className:"tt-se tx-s"},"settings"),body:react.createElement("div",{className:"jk-col gap jk-pg-sm"},react.createElement(atoms.JN,{size:"small",checked:null==test?void 0:test.hidden,leftLabel:react.createElement(atoms.T,{className:"tt-se tx-s"},"no hidden"),rightLabel:react.createElement(atoms.T,{className:"tt-se tx-s"},"hidden"),onChange:onChange?hidden=>onChange({onTestCasesChange:testCases=>TestCases_objectSpread(TestCases_objectSpread({},testCases),{},{[null==test?void 0:test.key]:TestCases_objectSpread(TestCases_objectSpread({},test),{},{hidden})})}):void 0}),react.createElement(atoms.JN,{size:"small",checked:null==test?void 0:test.withPE,leftLabel:react.createElement(atoms.T,{className:"tt-se tx-s"},"without PE"),rightLabel:react.createElement(atoms.T,{className:"tt-se tx-s"},"with PE"),onChange:onChange?withPE=>onChange({onTestCasesChange:testCases=>TestCases_objectSpread(TestCases_objectSpread({},testCases),{},{[null==test?void 0:test.key]:TestCases_objectSpread(TestCases_objectSpread({},test),{},{withPE})})}):void 0}))}),react.createElement("div",{className:"jk-code-mirror-editor-test-cases jk-row stretch nowrap"},react.createElement("div",{className:"jk-col nowrap stretch top tx-t border-right-highlight-light test-cases-header ow-ao"},react.createElement("div",{className:"jk-row ta-cr fw-bd jk-pg-xsm-tb border-bottom-highlight-light"},react.createElement(atoms.T,{className:"tt-se",style:{width:48}},"test cases")),testCasesValues.map(testCase=>react.createElement("div",{key:testCase.key,"data-tooltip-id":"jk-tooltip","data-tooltip-content":"".concat(testCase.sample?"sample":"custom sample"," case"),"data-tooltip-place":"left",onClick:()=>setTestCaseKey(testCase.key),className:(0,helpers.xW)("jk-row center hoverable jk-pg-xsm",{"bc-hl":testCase.key===testCaseKey})},"*"===testCase.key?react.createElement(atoms.T,{style:{width:48},className:"tt-se ta-cr"},"default"):react.createElement(react.Fragment,null,react.createElement(atoms.T,{className:"tt-se"},testCase.sample?"s.":"c.")," ",testCase.index+1),(testCase.sample?enableAddSampleCases:enableAddCustomSampleCases)&&"*"!==testCase.key&&react.createElement(react.Fragment,null," ",react.createElement(components_server.d7y,{size:"small",className:"clickable br-50-pc","data-tooltip-id":"jk-tooltip","data-tooltip-content":"delete case","data-tooltip-place":"right",onClick:()=>{null==onChange||onChange({onTestCasesChange:testCases=>{const newTestCases=TestCases_objectSpread({},testCases);return delete newTestCases[testCase.key],newTestCases}})}})),testCase.testOut&&(testCase.status===esm.aeR.EXECUTED_TEST_CASE||testCase.status===esm.aeR.FAILED_TEST_CASE)&&react.createElement(react.Fragment,null," ",react.createElement(ProblemVerdictTag.ProblemVerdictTag,{verdict:(0,esm.gBd)(testCase,timeLimit,memoryLimit).verdict,small:!0})))),enableAddSampleCases&&onChange&&react.createElement("div",{className:"jk-row jk-pg-xsm-t border-top-highlight-light"},react.createElement(AddCaseButton,{onChange,testCasesValues,testCases,sample:!0})),enableAddCustomSampleCases&&onChange&&react.createElement("div",{className:"jk-row jk-pg-xsm-t border-top-highlight-light"},react.createElement(AddCaseButton,{onChange,testCasesValues,testCases}))),!enableAddSampleCases&&null!=test&&test.hidden?react.createElement("div",{className:"jk-row center ht-100 flex-1"},react.createElement(atoms.T,{className:"tt-se jk-tag bc-il"},"test input hidden")):react.createElement(molecules.vh,{direction:"row"===direction?"column":"row",className:"flex-1 ow-hn"},react.createElement("div",{className:"jk-col extend stretch nowrap"},react.createElement(molecules.gv,{tabs:inputTabs,selectedTabKey:inputTab,onChange:setInputTab,className:"border-bottom-highlight-light"}),react.createElement("div",{className:"flex-1 wh-100 pn-re ow-hn"},react.createElement(molecules.QD,{tabs:inputTabs,selectedTabKey:inputTab}))),react.createElement("div",{className:"jk-col stretch test-cases-output-stderr"},react.createElement(molecules.gv,{tabs:outputTabs,selectedTabKey:outputTab,onChange:setOutputTab,className:"border-bottom-highlight-light"}),react.createElement("div",{className:"flex-1 wh-100 pn-re ow-hn"},react.createElement(molecules.QD,{tabs:outputTabs,selectedTabKey:outputTab})))))};function CodeRunnerEditor_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function CodeRunnerEditor_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CodeRunnerEditor_ownKeys(Object(t),!0).forEach(function(r){CodeRunnerEditor_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CodeRunnerEditor_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function CodeRunnerEditor_defineProperty(e,r,t){return(r=function CodeRunnerEditor_toPropertyKey(t){var i=function CodeRunnerEditor_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}TestCases.__docgenInfo={description:"",methods:[],displayName:"TestCases",props:{testCases:{required:!1,tsType:{name:"CodeEditorTestCasesType"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: CodeRunnerEditorPropertiesType<T>) => void",signature:{arguments:[{type:{name:"intersection",raw:"CodeEditorPropertiesType<T> & {\n  onTestCasesChange?: (testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType,\n  codeRunStatus?: SubmissionRunStatus,\n  fileName?: string,\n  newFileName?: true,\n  fileNameEdited?: [ string, string ],\n  fileNameDeleted?: string,\n}",elements:[{name:"signature",type:"object",raw:"{\n  isRunning?: boolean,\n  source?: string,\n  language?: T,\n  theme?: Theme,\n  // keyMap?: CodeEditorKeyMap,\n  tabSize?: number,\n  fontSize?: number,\n  triggerFocus?: number,\n}",signature:{properties:[{key:"isRunning",value:{name:"boolean",required:!1}},{key:"source",value:{name:"string",required:!1}},{key:"language",value:{name:"T",required:!1}},{key:"theme",value:{name:"Theme",required:!1}},{key:"tabSize",value:{name:"number",required:!1}},{key:"fontSize",value:{name:"number",required:!1}},{key:"triggerFocus",value:{name:"number",required:!1}}]}},{name:"signature",type:"object",raw:"{\n  onTestCasesChange?: (testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType,\n  codeRunStatus?: SubmissionRunStatus,\n  fileName?: string,\n  newFileName?: true,\n  fileNameEdited?: [ string, string ],\n  fileNameDeleted?: string,\n}",signature:{properties:[{key:"onTestCasesChange",value:{name:"signature",type:"function",raw:"(testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType",signature:{arguments:[{type:{name:"CodeEditorTestCasesType"},name:"testCases"}],return:{name:"CodeEditorTestCasesType"}},required:!1}},{key:"codeRunStatus",value:{name:"SubmissionRunStatus",required:!1}},{key:"fileName",value:{name:"string",required:!1}},{key:"newFileName",value:{name:"literal",value:"true",required:!1}},{key:"fileNameEdited",value:{name:"tuple",raw:"[ string, string ]",elements:[{name:"string"},{name:"string"}],required:!1}},{key:"fileNameDeleted",value:{name:"string",required:!1}}]}}]},name:"props"}],return:{name:"void"}}},description:""},timeLimit:{required:!0,tsType:{name:"number"},description:""},memoryLimit:{required:!0,tsType:{name:"number"},description:""},direction:{required:!0,tsType:{name:"union",raw:"'row' | 'column'",elements:[{name:"literal",value:"'row'"},{name:"literal",value:"'column'"}]},description:""},enableAddSampleCases:{required:!0,tsType:{name:"boolean"},description:""},enableAddCustomSampleCases:{required:!0,tsType:{name:"boolean"},description:""},isRunning:{required:!0,tsType:{name:"boolean"},description:""}}};const CodeRunnerEditor=props=>{var _files$currentFileNam;const{readOnly,languages=constants.Wx.map(lang=>{var _CODE_LANGUAGE$lang;return{value:lang,label:(null===(_CODE_LANGUAGE$lang=esm.fO_[lang])||void 0===_CODE_LANGUAGE$lang?void 0:_CODE_LANGUAGE$lang.label)||lang}}),onChange:_onChange,leftButtons,centerButtons,rightButtons,testCases,tabSize=4,fontSize=14,timeLimit=esm.OYE,memoryLimit=1048576,expandPosition,className,enableAddCustomSampleCases,enableAddSampleCases,withoutRunCodeButton,onlyCodeEditor,files,currentFileName,triggerFocus}=props,{source="",language=esm.aFm.TEXT}=null!==(_files$currentFileNam=null==files?void 0:files[currentFileName])&&void 0!==_files$currentFileNam?_files$currentFileNam:{};(0,hooks.nM)();const onChangeRef=(0,react.useRef)(_onChange);onChangeRef.current=readOnly?void 0:_onChange;const[isRunning,setIsRunning]=(0,react.useState)(!1),[runId,setRunId]=(0,react.useState)(""),sessionId=(0,useUserStore.k)(state=>state.user.sessionId),preferredTheme=(0,useUserStore.k)(state=>state.user.settings[esm.mZ_.THEME]),[showSettings,setShowSettings]=(0,react.useState)(!1),[direction,setDirection]=(0,react.useState)("row"),[expanded,setExpanded]=(0,react.useState)(!1),[openFileName,setOpenFileName]=(0,react.useState)(""),[fileNameEdit,setFileNameEdit]=(0,react.useState)(""),[fileNameDelete,setFileNameDelete]=(0,react.useState)(""),{viewPortSize}=(0,hooks.p1)(),{width:headerWidthContainer=0,ref:headerRef}=(0,useResizeDetector.A)(constants.fV),[viewFiles,setViewFiles]=(0,react.useState)(!1),websocket=(0,hooks.qI)(store=>store.websocket);(0,react.useEffect)(()=>{if(!runId)return;const event={event:esm.ad3.SUBSCRIBE_CODE_RUN_STATUS,sessionId,runId};return websocket.subscribe(event,data=>{var _data$log2,_data$log3,_data$log4,_onChangeRef$current2,_onChangeRef$current3,_onChangeRef$current4;if((0,esm.Tm$)(data)){var _data$log,_onChangeRef$current5;const fillTestCases=(status,err,out,log)=>{var _onChangeRef$current;null===(_onChangeRef$current=onChangeRef.current)||void 0===_onChangeRef$current||_onChangeRef$current.call(onChangeRef,{onTestCasesChange:prevState=>{const newTestCases=CodeRunnerEditor_objectSpread({},prevState);for(const testKey in newTestCases){var _prevState$testKey;null!==(_prevState$testKey=prevState[testKey])&&void 0!==_prevState$testKey&&_prevState$testKey.messageTimestamp&&prevState[testKey].messageTimestamp>data.messageTimestamp||(newTestCases[testKey]=CodeRunnerEditor_objectSpread(CodeRunnerEditor_objectSpread({},newTestCases[testKey]),{},{status,err,out,log,messageTimestamp:data.messageTimestamp}))}return newTestCases}})},status=data.status||esm.aeR.NONE,inputKey=null==data||null===(_data$log=data.log)||void 0===_data$log?void 0:_data$log.inputKey;switch(status){case esm.aeR.RECEIVED:case esm.aeR.FAILED:case esm.aeR.COMPILING:case esm.aeR.COMPILED:case esm.aeR.COMPILATION_ERROR:fillTestCases(status,(null===(_data$log2=data.log)||void 0===_data$log2?void 0:_data$log2.err)||"",(null===(_data$log3=data.log)||void 0===_data$log3?void 0:_data$log3.out)||"",(null===(_data$log4=data.log)||void 0===_data$log4?void 0:_data$log4.log)||"");break;case esm.aeR.RUNNING_TEST_CASE:case esm.aeR.EXECUTED_TEST_CASE:case esm.aeR.FAILED_TEST_CASE:null===(_onChangeRef$current2=onChangeRef.current)||void 0===_onChangeRef$current2||_onChangeRef$current2.call(onChangeRef,{onTestCasesChange:prevState=>{const newTestCases=CodeRunnerEditor_objectSpread({},prevState);if(inputKey&&newTestCases[inputKey]){var _data$log5,_data$log6,_data$log7,_prevState$testCase$k;const testCase=CodeRunnerEditor_objectSpread(CodeRunnerEditor_objectSpread({},newTestCases[inputKey]),{},{status,out:(null===(_data$log5=data.log)||void 0===_data$log5?void 0:_data$log5.out)||"",log:(null===(_data$log6=data.log)||void 0===_data$log6?void 0:_data$log6.log)||"",err:(null===(_data$log7=data.log)||void 0===_data$log7?void 0:_data$log7.err)||"",messageTimestamp:data.messageTimestamp});return null!==(_prevState$testCase$k=prevState[testCase.key])&&void 0!==_prevState$testCase$k&&_prevState$testCase$k.messageTimestamp&&prevState[testCase.key].messageTimestamp>testCase.messageTimestamp?prevState:CodeRunnerEditor_objectSpread(CodeRunnerEditor_objectSpread({},prevState),{},{[testCase.key]:testCase})}return prevState}})}switch(status){case esm.aeR.RECEIVED:setIsRunning(!0),null===(_onChangeRef$current3=onChangeRef.current)||void 0===_onChangeRef$current3||_onChangeRef$current3.call(onChangeRef,{isRunning:!0});break;case esm.aeR.FAILED:case esm.aeR.COMPILATION_ERROR:case esm.aeR.COMPLETED:setIsRunning(!1),null===(_onChangeRef$current4=onChangeRef.current)||void 0===_onChangeRef$current4||_onChangeRef$current4.call(onChangeRef,{isRunning:!1})}null===(_onChangeRef$current5=onChangeRef.current)||void 0===_onChangeRef$current5||_onChangeRef$current5.call(onChangeRef,{codeRunStatus:status})}}),()=>{websocket.unsubscribeAll(event)}},[runId,sessionId,websocket]);const codeEditorOnChange=(0,react.useCallback)(props=>{var _onChangeRef$current6;null===(_onChangeRef$current6=onChangeRef.current)||void 0===_onChangeRef$current6||_onChangeRef$current6.call(onChangeRef,CodeRunnerEditor_objectSpread(CodeRunnerEditor_objectSpread({},props),{},{isRunning:!1})),setIsRunning(!1)},[]),isMobileViewPort="sm"===viewPortSize,firstChild=(0,react.useMemo)(()=>{var _languages$find,_languages$find2;return react.createElement("div",{className:(0,helpers.xW)("jk-col nowrap left stretch ht-100",{"wh-100":!!onlyCodeEditor})},react.createElement("div",{className:"jk-row stretch jk-pg-xsm left"},readOnly?react.createElement("div",{className:"jk-tag bc-io"},((null===(_languages$find=languages.find(lang=>lang.value===language))||void 0===_languages$find?void 0:_languages$find.label)||language)+""):react.createElement(atoms.l6,{className:"languages-selector tx-s",options:languages.map(language=>({value:language.value,label:(language.label||language.value)+""})),selectedOption:{value:language,label:((null===(_languages$find2=languages.find(lang=>lang.value===language))||void 0===_languages$find2?void 0:_languages$find2.label)||language)+""},onChange:_ref=>{let{value}=_ref;return codeEditorOnChange({language:value})}})),react.createElement("div",{className:"editor-layout flex-1"},react.createElement(molecules.BY,{theme:preferredTheme,onChange:codeEditorOnChange,language,readOnly,source,tabSize,fontSize,triggerFocus})))},[preferredTheme,codeEditorOnChange,language,readOnly,source,tabSize,fontSize,languages,onlyCodeEditor]),withTestCases=!!testCases,twoRows=headerWidthContainer<(withoutRunCodeButton?340:420),closableSecondPane=(0,react.useMemo)(()=>withTestCases?{align:"right",expandLabel:react.createElement(atoms.T,{className:"label tx-t"},"test cases")}:void 0,[withTestCases]),closableFirstPane=(0,react.useMemo)(()=>withTestCases&&isMobileViewPort?{align:"right",expandLabel:react.createElement(atoms.T,{className:"label tx-t"},"code editor")}:void 0,[withTestCases,isMobileViewPort]),secondChild=(0,react.useMemo)(()=>react.createElement(TestCases,{testCases,onChange:onChangeRef.current,timeLimit,memoryLimit,direction,enableAddSampleCases:!readOnly&&!!enableAddSampleCases,enableAddCustomSampleCases:!readOnly&&!!enableAddCustomSampleCases,isRunning}),[testCases,timeLimit,memoryLimit,direction,readOnly,enableAddSampleCases,enableAddCustomSampleCases,isRunning]),onChange=()=>{var _onChangeRef$current7;null===(_onChangeRef$current7=onChangeRef.current)||void 0===_onChangeRef$current7||_onChangeRef$current7.call(onChangeRef,{fileNameEdited:[openFileName,fileNameEdit]}),setOpenFileName("")},body=react.createElement("div",{className:(0,helpers.xW)("jk-code-mirror-editor-layout jk-border-radius-inline jk-col nowrap stretch bc-we ht-100 wh-100 pn-re",{"elevation-1":expanded},className),style:{overflow:expanded?"hidden":void 0}},react.createElement(molecules.kF,{primary:{label:react.createElement(atoms.T,{className:"tt-se"},"delete"),onClick:()=>{var _onChangeRef$current8;null===(_onChangeRef$current8=onChangeRef.current)||void 0===_onChangeRef$current8||_onChangeRef$current8.call(onChangeRef,{fileNameDeleted:fileNameDelete}),setFileNameDelete("")}},title:react.createElement(atoms.T,{className:"tt-se"},"warning"),isOpen:!!fileNameDelete,onClose:()=>setFileNameDelete("")},react.createElement("div",{className:"jk-col gap"},react.createElement(atoms.T,{className:"tt-se"},"are you sure you want to delete the file?"),react.createElement("div",{className:"jk-tag bc-hl"},fileNameDelete),react.createElement(atoms.T,{className:"tt-se"},"it can't be undone"))),react.createElement(atoms.aF,{isOpen:!!openFileName,onClose:()=>setOpenFileName("")},react.createElement("div",{className:"jk-pg jk-col gap stretch"},react.createElement(atoms.pd,{label:react.createElement(atoms.T,{className:"tt-se"},"new name"),labelPlacement:"top",value:fileNameEdit,onChange:setFileNameEdit,onEnter:onChange,expand:!0}),react.createElement("div",{className:"jk-row gap right"},react.createElement(atoms.$n,{type:"light",onClick:()=>setOpenFileName("")},react.createElement(atoms.T,{className:"tt-se"},"cancel")),react.createElement(atoms.$n,{onClick:onChange},react.createElement(atoms.T,{className:"tt-se"},"change"))))),react.createElement(SettingsModal,{isOpen:showSettings,onClose:()=>setShowSettings(!1),onChange:onChangeRef.current,tabSize,fontSize}),react.createElement(Header,{headerRef,headerWidthContainer,twoRows,languages,testCases:testCases||{},leftOptions:_ref2=>{let{widthContainer,twoRows,withLabels}=_ref2;return null==leftButtons?void 0:leftButtons({isRunning,testCases:testCases||{},widthContainer,twoRows,withLabels,files,currentFileName})},centerOptions:_ref3=>{let{widthContainer,twoRows,withLabels}=_ref3;return null==centerButtons?void 0:centerButtons({isRunning,testCases:testCases||{},widthContainer,twoRows,withLabels,files,currentFileName})},rightOptions:_ref4=>{let{twoRows,withLabels}=_ref4;return null==rightButtons?void 0:rightButtons({isRunning,testCases:testCases||{},twoRows,withLabels,files,currentFileName})},setShowSettings,runId,setRunId,onChange:onChangeRef.current,timeLimit,memoryLimit,expanded:expandPosition?expanded:null,setExpanded,isRunning,withoutRunCodeButton:!!withoutRunCodeButton,readOnly:!!readOnly,files,currentFileName}),react.createElement("div",{className:"flex-1 ow-hn jk-row nowrap stretch"},react.createElement("div",{className:"jk-col top stretch nowrap",style:{width:viewFiles?128:32,minWidth:viewFiles?128:32,maxWidth:viewFiles?128:32,borderRight:"1px solid var(--t-color-highlight-light)"}},react.createElement("div",{className:"jk-row fw-bd jk-pg-xsm-tb bc-hl left hoverable",onClick:()=>setViewFiles(!viewFiles),style:{paddingLeft:4}},viewFiles?react.createElement(server.A60,null):react.createElement(server.flY,null),viewFiles&&react.createElement(atoms.T,{className:"tt-se"},"files")),react.createElement("div",{className:"jk-divider vertical tiny",style:{height:1}}),react.createElement("div",{className:"jk-col top stretch gap nowrap ow-ao"},react.createElement("div",{className:"jk-col stretch"},Object.entries(files).sort((_ref5,_ref6)=>{let[_,a]=_ref5,[__,b]=_ref6;return a.index-b.index}).map((_ref7,index)=>{let[name]=_ref7;return react.createElement("div",{className:(0,helpers.xW)("tx-t jk-pg-xsm jk-col nowrap left stretch",{"bc-pl cr-we":name===currentFileName,hoverable:name!==currentFileName}),onClick:name!==currentFileName?()=>{var _onChangeRef$current9;return null===(_onChangeRef$current9=onChangeRef.current)||void 0===_onChangeRef$current9?void 0:_onChangeRef$current9.call(onChangeRef,{fileName:name})}:void 0},viewFiles?react.createElement(react.Fragment,null,name,react.createElement("div",{className:"jk-row gap space-between"},react.createElement(server.tM$,{letter:(index+1)%10+"",letterSize:12,size:"tiny"}),react.createElement("div",{className:"jk-row gap"},react.createElement(server.qUP,{className:(0,helpers.xW)({"cr-pl":name!==currentFileName}),size:"tiny",filledCircle:name!==currentFileName?"var(--t-color-white)":"var(--t-color-primary)",onClick:()=>{setOpenFileName(name),setFileNameEdit(name)}}),react.createElement(server.d7y,{className:(0,helpers.xW)({"cr-pl":name!==currentFileName}),size:"tiny",filledCircle:name!==currentFileName?"var(--t-color-white)":"var(--t-color-primary)",onClick:()=>setFileNameDelete(name)})))):react.createElement(server.tM$,{letter:(index+1)%10+"",letterSize:12,size:"small"}))})),react.createElement("div",{className:"jk-row"},react.createElement(atoms.$n,{size:"small",icon:react.createElement(server.REV,null),disabled:readOnly,onClick:()=>{var _onChangeRef$current0;return null===(_onChangeRef$current0=onChangeRef.current)||void 0===_onChangeRef$current0?void 0:_onChangeRef$current0.call(onChangeRef,{newFileName:!0})}})))),react.createElement("div",{className:"jk-row",style:{width:"calc(100% - ".concat(viewFiles?128:32,"px)")}},0===Object.keys(files).length?react.createElement("div",{className:"jk-col gap jk-pg"},react.createElement(atoms.T,{className:"tt-se"},"there are no files in the editor, create a new file to start using the editor"),react.createElement(atoms.$n,{onClick:()=>{var _onChangeRef$current1;return null===(_onChangeRef$current1=onChangeRef.current)||void 0===_onChangeRef$current1?void 0:_onChangeRef$current1.call(onChangeRef,{newFileName:!0})}},react.createElement(atoms.T,null,"create a new file"))):onlyCodeEditor?firstChild:react.createElement(molecules.vh,{direction,minSize:80,onlyFirstPane:!testCases,closableSecondPane,closableFirstPane,toggleable:!0,onChangeDirection:setDirection,onePanelAtATime:isMobileViewPort,className:"ht-100"},firstChild,secondChild))));return expanded?react.createElement(atoms.ZL,null,react.createElement("div",{className:"jk-overlay jk-overlay-backdrop"},react.createElement("div",{style:CodeRunnerEditor_objectSpread({position:"absolute"},expandPosition),className:"jk-code-mirror-editor-expanded-layout"},body))):body};CodeRunnerEditor.__docgenInfo={description:"",methods:[],displayName:"CodeRunnerEditor",props:{triggerFocus:{required:!1,tsType:{name:"number"},description:""},files:{required:!0,tsType:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>"},description:""},currentFileName:{required:!0,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: CodeRunnerEditorPropertiesType<T>) => void",signature:{arguments:[{type:{name:"intersection",raw:"CodeEditorPropertiesType<T> & {\n  onTestCasesChange?: (testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType,\n  codeRunStatus?: SubmissionRunStatus,\n  fileName?: string,\n  newFileName?: true,\n  fileNameEdited?: [ string, string ],\n  fileNameDeleted?: string,\n}",elements:[{name:"signature",type:"object",raw:"{\n  isRunning?: boolean,\n  source?: string,\n  language?: T,\n  theme?: Theme,\n  // keyMap?: CodeEditorKeyMap,\n  tabSize?: number,\n  fontSize?: number,\n  triggerFocus?: number,\n}",signature:{properties:[{key:"isRunning",value:{name:"boolean",required:!1}},{key:"source",value:{name:"string",required:!1}},{key:"language",value:{name:"T",required:!1}},{key:"theme",value:{name:"Theme",required:!1}},{key:"tabSize",value:{name:"number",required:!1}},{key:"fontSize",value:{name:"number",required:!1}},{key:"triggerFocus",value:{name:"number",required:!1}}]}},{name:"signature",type:"object",raw:"{\n  onTestCasesChange?: (testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType,\n  codeRunStatus?: SubmissionRunStatus,\n  fileName?: string,\n  newFileName?: true,\n  fileNameEdited?: [ string, string ],\n  fileNameDeleted?: string,\n}",signature:{properties:[{key:"onTestCasesChange",value:{name:"signature",type:"function",raw:"(testCases: CodeEditorTestCasesType) => CodeEditorTestCasesType",signature:{arguments:[{type:{name:"CodeEditorTestCasesType"},name:"testCases"}],return:{name:"CodeEditorTestCasesType"}},required:!1}},{key:"codeRunStatus",value:{name:"SubmissionRunStatus",required:!1}},{key:"fileName",value:{name:"string",required:!1}},{key:"newFileName",value:{name:"literal",value:"true",required:!1}},{key:"fileNameEdited",value:{name:"tuple",raw:"[ string, string ]",elements:[{name:"string"},{name:"string"}],required:!1}},{key:"fileNameDeleted",value:{name:"string",required:!1}}]}}]},name:"props"}],return:{name:"void"}}},description:""},languages:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: T, label: string }",signature:{properties:[{key:"value",value:{name:"T",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"{ value: T, label: string }[]"},description:""},className:{required:!1,tsType:{name:"string"},description:""},testCases:{required:!1,tsType:{name:"CodeEditorTestCasesType"},description:""},leftButtons:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: CodeEditorCenterButtonsPropertiesType<T>) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  widthContainer: number\n  isRunning: boolean,\n  testCases: CodeEditorTestCasesType,\n  withLabels: boolean,\n  twoRows: boolean,\n  files: CodeEditorFiles<T>,\n  currentFileName: string,\n}",signature:{properties:[{key:"widthContainer",value:{name:"number",required:!0}},{key:"isRunning",value:{name:"boolean",required:!0}},{key:"testCases",value:{name:"CodeEditorTestCasesType",required:!0}},{key:"withLabels",value:{name:"boolean",required:!0}},{key:"twoRows",value:{name:"boolean",required:!0}},{key:"files",value:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>",required:!0}},{key:"currentFileName",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"ReactNode"}}},description:""},centerButtons:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: CodeEditorCenterButtonsPropertiesType<T>) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  widthContainer: number\n  isRunning: boolean,\n  testCases: CodeEditorTestCasesType,\n  withLabels: boolean,\n  twoRows: boolean,\n  files: CodeEditorFiles<T>,\n  currentFileName: string,\n}",signature:{properties:[{key:"widthContainer",value:{name:"number",required:!0}},{key:"isRunning",value:{name:"boolean",required:!0}},{key:"testCases",value:{name:"CodeEditorTestCasesType",required:!0}},{key:"withLabels",value:{name:"boolean",required:!0}},{key:"twoRows",value:{name:"boolean",required:!0}},{key:"files",value:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>",required:!0}},{key:"currentFileName",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"ReactNode"}}},description:""},rightButtons:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: Omit<CodeEditorCenterButtonsPropertiesType<T>, 'widthContainer'>) => ReactNode",signature:{arguments:[{type:{name:"Omit",elements:[{name:"signature",type:"object",raw:"{\n  widthContainer: number\n  isRunning: boolean,\n  testCases: CodeEditorTestCasesType,\n  withLabels: boolean,\n  twoRows: boolean,\n  files: CodeEditorFiles<T>,\n  currentFileName: string,\n}",signature:{properties:[{key:"widthContainer",value:{name:"number",required:!0}},{key:"isRunning",value:{name:"boolean",required:!0}},{key:"testCases",value:{name:"CodeEditorTestCasesType",required:!0}},{key:"withLabels",value:{name:"boolean",required:!0}},{key:"twoRows",value:{name:"boolean",required:!0}},{key:"files",value:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>",required:!0}},{key:"currentFileName",value:{name:"string",required:!0}}]}},{name:"literal",value:"'widthContainer'"}],raw:"Omit<CodeEditorCenterButtonsPropertiesType<T>, 'widthContainer'>"},name:"props"}],return:{name:"ReactNode"}}},description:""},timeLimit:{required:!1,tsType:{name:"number"},description:""},memoryLimit:{required:!1,tsType:{name:"number"},description:""},expandPosition:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  top: string | number,\n  left: string | number,\n  width: string | number,\n  height: string | number,\n}",signature:{properties:[{key:"top",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"left",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"width",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"height",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}},description:""},enableAddSampleCases:{required:!1,tsType:{name:"boolean"},description:""},enableAddCustomSampleCases:{required:!1,tsType:{name:"boolean"},description:""},withoutRunCodeButton:{required:!1,tsType:{name:"boolean"},description:""},onlyCodeEditor:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit"]}},"./src/components/organisms/ProblemVerdictTag/ProblemVerdictTag.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ProblemVerdictTag:()=>ProblemVerdictTag});var _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/stores/user/useUserStore.ts");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const ProblemVerdictTag=_ref=>{var _PROBLEM_VERDICT$verd,_PROBLEM_VERDICT$verd2;let{verdict,small}=_ref;const addDark=(0,_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_2__.k)(state=>state.user.settings[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.mZ_.THEME])===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Sxu.DARK?"CC":"";return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{"data-tooltip-id":"jk-tooltip","data-tooltip-content":null===(_PROBLEM_VERDICT$verd=_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.K7p[verdict])||void 0===_PROBLEM_VERDICT$verd?void 0:_PROBLEM_VERDICT$verd.label,className:"jk-tag tx-t",style:_objectSpread({backgroundColor:(null===(_PROBLEM_VERDICT$verd2=_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.K7p[verdict])||void 0===_PROBLEM_VERDICT$verd2?void 0:_PROBLEM_VERDICT$verd2.color)+addDark},small?{lineHeight:1,padding:"2px 4px"}:{})},verdict)};ProblemVerdictTag.__docgenInfo={description:"",methods:[],displayName:"ProblemVerdictTag",props:{verdict:{required:!0,tsType:{name:"ProblemVerdict"},description:""},small:{required:!1,tsType:{name:"boolean"},description:""}}}}}]);