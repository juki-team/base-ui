"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[1801,2155],{"./src/components/molecules/Tabs/TabsInline.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{TabsInline:()=>TabsInline,TabsInlineBody:()=>TabsInlineBody});var motion_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/motion/dist/es/framer-motion/dist/es/render/components/motion/proxy.mjs"),motion_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/motion/dist/es/framer-motion/dist/es/components/AnimatePresence/index.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/index.ts"),_hooks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/hooks/index.ts"),_hooks_useWidthResizer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/useWidthResizer.ts"),_atoms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/atoms/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const TabsInline=props=>{var _tabsArray$,_tabs;const{tabs,selectedTabKey:_selectedTabKey,onChange,extraNodes,extraNodesPlacement="right",className,tickStyle="line"}=props,tabsArray=Object.values(tabs),[selectedTabKey,setSelectedTabKey]=(0,_hooks__WEBPACK_IMPORTED_MODULE_2__.Xk)((null===(_tabsArray$=tabsArray[0])||void 0===_tabsArray$?void 0:_tabsArray$.key)||"",_selectedTabKey,onChange),tabsLength=tabsArray.length,[oneTabView,setOneTabView]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),selectedTabIndex=tabsArray.findIndex((_ref=>{let{key}=_ref;return key===selectedTabKey})),tabKeys=(0,_hooks__WEBPACK_IMPORTED_MODULE_2__.FA)(Object.keys(tabs)),[hover,setHover]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),refB=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),maxWidthWithArrows=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0),onOverflow=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{var _refB$current;null!==(_refB$current=refB.current)&&void 0!==_refB$current&&_refB$current.offsetWidth&&!oneTabView&&(setOneTabView(!0),maxWidthWithArrows.current=Math.max(maxWidthWithArrows.current,refB.current.offsetWidth))}),[refB,oneTabView]),unOverflow=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((async()=>{var _refB$current2;null!==(_refB$current2=refB.current)&&void 0!==_refB$current2&&_refB$current2.offsetWidth&&refB.current.offsetWidth>maxWidthWithArrows.current&&setOneTabView(!1)}),[refB]);(0,_hooks_useWidthResizer__WEBPACK_IMPORTED_MODULE_3__.W)({onOverflow,unOverflow,targetRef:refB,trigger:tabKeys});const displayedTabs=oneTabView?tabsArray[selectedTabIndex]?[tabsArray[selectedTabIndex]]:[]:tabsArray,layoutId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useId)(),layoutHoverId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useId)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:(0,_helpers__WEBPACK_IMPORTED_MODULE_1__.xW)("jk-row gap space-between nowrap jk-tabs-inline extend",className),children:["left"===extraNodesPlacement&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"jk-row gap nowrap",children:react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(null==extraNodes?void 0:extraNodes.map(((action,index)=>(0,_helpers__WEBPACK_IMPORTED_MODULE_1__._v)(action,{selectedTabKey},index))))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"jk-row left gap extend",style:{overflow:"auto"},ref:refB,children:[oneTabView&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_4__.EjP,{className:(0,_helpers__WEBPACK_IMPORTED_MODULE_1__.xW)("br-50-pc",{"appearance-secondary clickable elevation":selectedTabIndex-1>=0,"appearance-gray-5":!(selectedTabIndex-1>=0)}),style:{padding:2},onClick:selectedTabIndex-1>=0?()=>setSelectedTabKey(tabsArray[selectedTabIndex-1].key):void 0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:(0,_helpers__WEBPACK_IMPORTED_MODULE_1__.xW)("jk-row left stretch jk-tabs-headers-inline nowrap",{"block flex-1":oneTabView}),style:{position:"relative",overflow:"visible"},children:displayedTabs.map((_ref2=>{let{key,header}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{onClick:key===selectedTabKey?void 0:()=>setSelectedTabKey(key),className:(0,_helpers__WEBPACK_IMPORTED_MODULE_1__.xW)("jk-tabs-inline-tab jk-row nowrap",{"selected fw-bd":key===selectedTabKey,"one-tab-view":oneTabView,"cr-pt":key===selectedTabKey&&"background"===tickStyle}),onMouseEnter:()=>setHover(key),onMouseLeave:()=>setHover(""),children:["line"===tickStyle&&key===selectedTabKey&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(motion_react__WEBPACK_IMPORTED_MODULE_6__.P.div,{className:"selected-tab-tick",layoutId}),"background"===tickStyle&&key===selectedTabKey&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(motion_react__WEBPACK_IMPORTED_MODULE_6__.P.div,{className:"selected-tab-tick-back jk-br-ie",layoutId,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"selected-tab-tick-back-content",children:[" ",(0,_helpers__WEBPACK_IMPORTED_MODULE_1__._v)(header,{selectedTabKey})]})}),"background"===tickStyle&&key===hover&&key!==selectedTabKey&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(motion_react__WEBPACK_IMPORTED_MODULE_6__.P.div,{className:"selected-tab-tick-back-hover jk-br-ie",layoutId:layoutHoverId,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"selected-tab-tick-back-content",children:[" ",(0,_helpers__WEBPACK_IMPORTED_MODULE_1__._v)(header,{selectedTabKey})]})}),(0,_helpers__WEBPACK_IMPORTED_MODULE_1__._v)(header,{selectedTabKey})]},key)}))}),oneTabView&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_4__.afL,{className:(0,_helpers__WEBPACK_IMPORTED_MODULE_1__.xW)("br-50-pc",{"appearance-secondary clickable elevation":selectedTabIndex+1<tabsLength,"appearance-gray-5":!(selectedTabIndex+1<tabsLength)}),style:{padding:2},onClick:selectedTabIndex+1<tabsLength?()=>setSelectedTabKey(tabsArray[selectedTabIndex+1].key):void 0})]}),"right"===extraNodesPlacement&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"jk-row gap nowrap",children:react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(null==extraNodes?void 0:extraNodes.map(((action,index)=>(0,_helpers__WEBPACK_IMPORTED_MODULE_1__._v)(action,{selectedTabKey},index))))}),("bottomRight"===extraNodesPlacement||"bottomLeft"===extraNodesPlacement||"bottomCenter"===extraNodesPlacement)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"jk-col gap nowrap",style:{position:"absolute",bottom:"calc(var(--bottom-horizontal-menu-height, 0) + var(--pad-t))",right:"bottomRight"===extraNodesPlacement||"bottomCenter"===extraNodesPlacement?"var(--pad-t)":"",left:"bottomLeft"===extraNodesPlacement||"bottomCenter"===extraNodesPlacement?"var(--pad-t)":""},children:react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(null==extraNodes?void 0:extraNodes.map(((action,index)=>(0,_helpers__WEBPACK_IMPORTED_MODULE_1__._v)(action,{selectedTabKey},index))))})]}),!onChange&&(0,_helpers__WEBPACK_IMPORTED_MODULE_1__._v)(null===(_tabs=tabs[selectedTabKey])||void 0===_tabs?void 0:_tabs.body,{selectedTabKey})]})},variants={center:{zIndex:1,x:0},exit:direction=>({zIndex:0,x:direction<0?"100%":"-100%"})},TabsInlineBody=_ref3=>{let{tabs,selectedTabKey}=_ref3;const prevSelectedTabKey=(0,_hooks__WEBPACK_IMPORTED_MODULE_2__.ZC)(selectedTabKey),currentIndex=Object.keys(tabs).indexOf(selectedTabKey),fromLeft=Object.keys(tabs).indexOf(prevSelectedTabKey)<currentIndex,direction=fromLeft?1:-1;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(motion_react__WEBPACK_IMPORTED_MODULE_7__.N,{custom:direction,mode:"wait",children:Object.values(tabs).map((tab=>tab.key===selectedTabKey&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(motion_react__WEBPACK_IMPORTED_MODULE_6__.P.div,{layout:!0,initial:{x:fromLeft?"100%":"-100%"},variants,animate:"center",exit:"exit",style:{position:"absolute",width:"100%",height:"100%",overflow:"auto"},className:"jk-tabs-inline-body-motion-layout",children:(0,_helpers__WEBPACK_IMPORTED_MODULE_1__._v)(null==tab?void 0:tab.body,{selectedTabKey})},tab.key)))})};try{TabsInline.displayName="TabsInline",TabsInline.__docgenInfo={description:"",displayName:"TabsInline",props:{tabs:{defaultValue:null,description:"",name:"tabs",required:!0,type:{name:"TabsType<T>"}},selectedTabKey:{defaultValue:null,description:"",name:"selectedTabKey",required:!1,type:{name:"T"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((tabKey: T) => void)"}},extraNodes:{defaultValue:null,description:"",name:"extraNodes",required:!1,type:{name:"ReactNodeOrFunctionP1Type<{ selectedTabKey: T; }>[]"}},extraNodesPlacement:{defaultValue:null,description:"",name:"extraNodesPlacement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"bottomLeft"'},{value:'"bottomCenter"'},{value:'"bottomRight"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},tickStyle:{defaultValue:null,description:"",name:"tickStyle",required:!1,type:{name:"enum",value:[{value:'"line"'},{value:'"background"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/molecules/Tabs/TabsInline.tsx#TabsInline"]={docgenInfo:TabsInline.__docgenInfo,name:"TabsInline",path:"src/components/molecules/Tabs/TabsInline.tsx#TabsInline"})}catch(__react_docgen_typescript_loader_error){}try{TabsInlineBody.displayName="TabsInlineBody",TabsInlineBody.__docgenInfo={description:"",displayName:"TabsInlineBody",props:{tabs:{defaultValue:null,description:"",name:"tabs",required:!0,type:{name:"TabsType<T>"}},selectedTabKey:{defaultValue:null,description:"",name:"selectedTabKey",required:!0,type:{name:"T"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/molecules/Tabs/TabsInline.tsx#TabsInlineBody"]={docgenInfo:TabsInlineBody.__docgenInfo,name:"TabsInlineBody",path:"src/components/molecules/Tabs/TabsInline.tsx#TabsInlineBody"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/organisms/CodeRunnerEditor/CodeRunnerEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CodeRunnerEditor:()=>CodeRunnerEditor});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react=__webpack_require__("./node_modules/react/index.js"),index_esm=__webpack_require__("./node_modules/react-resize-detector/build/index.esm.js"),constants=__webpack_require__("./src/constants/index.ts"),helpers=__webpack_require__("./src/helpers/index.ts"),hooks=__webpack_require__("./src/hooks/index.ts"),useJukiUI=__webpack_require__("./src/hooks/useJukiUI.tsx"),useJukiUser=__webpack_require__("./src/hooks/useJukiUser.tsx"),settings=__webpack_require__("./src/settings/index.ts"),atoms=__webpack_require__("./src/components/atoms/index.ts"),molecules=__webpack_require__("./src/components/molecules/index.ts"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["url"],Header=props=>{var _languages$find,_languages$find2;const{languages,sourceCode,language,onChange,testCases,setShowSettings,centerOptions,rightOptions,setRunId,timeLimit,memoryLimit,expanded,setExpanded,isRunning,withoutRunCodeButton,readOnly,headerRef,headerWidthContainer,twoRows}=props,{addErrorNotification}=(0,hooks.Eq)(),{width:widthLeftSection=0,ref:refLeftSection}=(0,index_esm.u)(constants.fV),{width:widthRightSection=0,ref:refRightSection}=(0,index_esm.u)(constants.fV),setLoaderRef=(0,react.useRef)(void 0),[readyState,setReadyState]=(0,react.useState)(WebSocket.CLOSED),{user:{sessionId}}=(0,hooks.Mg)(),[timestamp,setTimestamp]=(0,react.useState)(0);(0,react.useEffect)((()=>{setReadyState(settings.ug.SOCKET.getReadyState())}),[sessionId,timestamp]),(0,react.useEffect)((()=>{var _setLoaderRef$current,_setLoaderRef$current2;isRunning?null===(_setLoaderRef$current=setLoaderRef.current)||void 0===_setLoaderRef$current||_setLoaderRef$current.call(setLoaderRef,esm.nW6.LOADING):null===(_setLoaderRef$current2=setLoaderRef.current)||void 0===_setLoaderRef$current2||_setLoaderRef$current2.call(setLoaderRef,esm.nW6.NONE)}),[isRunning]);const withLabels=headerWidthContainer>(withoutRunCodeButton?570:620),widthCenterContainer=headerWidthContainer-widthLeftSection-widthRightSection;return(0,jsx_runtime.jsxs)("div",{className:(0,helpers.xW)("options-header-content jk-row",{"two-rows":twoRows}),ref:headerRef,children:[(0,jsx_runtime.jsxs)("div",{className:(0,helpers.xW)("left-options cr-pd jk-row gap",{"jk-col left gap":twoRows}),ref:refLeftSection,children:[readOnly?(0,jsx_runtime.jsx)("div",{className:"jk-tag info",children:((null===(_languages$find=languages.find((lang=>lang.value===language)))||void 0===_languages$find?void 0:_languages$find.label)||language)+""}):(0,jsx_runtime.jsx)(atoms.l6P,{className:"languages-selector",options:languages.map((language=>({value:language.value,label:(language.label||language.value)+""}))),selectedOption:{value:language,label:((null===(_languages$find2=languages.find((lang=>lang.value===language)))||void 0===_languages$find2?void 0:_languages$find2.label)||language)+""},onChange:_ref=>{let{value}=_ref;return null==onChange?void 0:onChange({language:value})},extend:twoRows}),!withoutRunCodeButton&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(molecules.mT,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":readyState!==WebSocket.OPEN?"run the editor is not available yet":void 0,size:"tiny",type:"primary",expand:twoRows,icon:(0,jsx_runtime.jsx)(atoms.Bq3,{}),onClick:async setStatus=>{const clean=status=>{const newTestCases={};for(const testKey in testCases)newTestCases[testKey]=(0,objectSpread2.A)({},testCases[testKey]),newTestCases[testKey].out="",newTestCases[testKey].err="",newTestCases[testKey].status=status;null==onChange||onChange({onTestCasesChange:()=>newTestCases})};setStatus(esm.nW6.LOADING),clean(esm.aeR.RECEIVED);try{var _request$content;const _jukiApiSocketManager=settings.ug.API_V1.code.run({body:{language,source:sourceCode,inputs:Object.values(testCases).map((testCase=>({key:testCase.key,source:testCase.in}))),timeLimit,memoryLimit}}),{url}=_jukiApiSocketManager,options=(0,objectWithoutProperties.A)(_jukiApiSocketManager,_excluded),request=(0,helpers.Hu)(await(0,helpers.zb)(url,options));null!=request&&request.success&&null!=request&&null!==(_request$content=request.content)&&void 0!==_request$content&&_request$content.runId?(setRunId(request.content.runId),setStatus(esm.nW6.SUCCESS)):(addErrorNotification(null==request?void 0:request.message),setRunId(""),clean(esm.aeR.NONE),(0,esm.OPF)("run code request failed",{request}),setStatus(esm.nW6.ERROR))}catch(error){(0,esm.OPF)("error on run code",{error}),clean(esm.aeR.NONE),setStatus(esm.nW6.ERROR)}},setLoaderStatusRef:setLoader=>setLoaderRef.current=setLoader,disabled:readyState!==WebSocket.OPEN,children:(twoRows||withLabels)&&(0,jsx_runtime.jsx)(atoms.T,{children:"run"})}),!(readyState===WebSocket.OPEN)&&(0,jsx_runtime.jsx)(molecules.mT,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":"offline, click to try to reconnect",className:"jk-row bc-er",style:{"--button-background-color":"var(--t-color-error)"},onClick:async setLoader=>{setLoader(esm.nW6.LOADING),settings.ug.SOCKET.getReadyState()!==WebSocket.OPEN&&await settings.ug.SOCKET.start(),setTimestamp(Date.now()),setLoader(esm.nW6.NONE)},icon:(0,jsx_runtime.jsx)(atoms.IJR,{}),size:"small"})]})]}),(0,jsx_runtime.jsx)("div",{className:"center-options flex-1",style:{width:widthCenterContainer},children:centerOptions({widthContainer:widthCenterContainer,withLabels,twoRows})}),(0,jsx_runtime.jsxs)("div",{className:(0,helpers.xW)("jk-row gap right-options cr-pd",{"jk-col gap":twoRows}),ref:refRightSection,children:[(0,jsx_runtime.jsx)(atoms.$nd,{size:"tiny",type:"light",onClick:()=>setShowSettings(!0),icon:(0,jsx_runtime.jsx)(atoms.Zes,{}),children:(twoRows||withLabels)&&(0,jsx_runtime.jsx)(atoms.T,{children:"settings"})}),null!==expanded&&(0,jsx_runtime.jsx)(atoms.$nd,{size:"tiny",type:"light",onClick:()=>setExpanded((prevState=>!prevState)),icon:expanded?(0,jsx_runtime.jsx)(atoms.z7w,{}):(0,jsx_runtime.jsx)(atoms.P7m,{}),children:withLabels&&(0,jsx_runtime.jsx)(atoms.T,{children:expanded?"back":"expand"})}),rightOptions({withLabels,twoRows})]})]})};try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{sourceCode:{defaultValue:null,description:"",name:"sourceCode",required:!0,type:{name:"string"}},languages:{defaultValue:null,description:"",name:"languages",required:!0,type:{name:"{ value: T; label: string; }[]"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"T"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"CodeRunnerEditorOnChangeType<T>"}},testCases:{defaultValue:null,description:"",name:"testCases",required:!0,type:{name:"CodeEditorTestCasesType"}},setShowSettings:{defaultValue:null,description:"",name:"setShowSettings",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},runId:{defaultValue:null,description:"",name:"runId",required:!0,type:{name:"string"}},setRunId:{defaultValue:null,description:"",name:"setRunId",required:!0,type:{name:"Dispatch<SetStateAction<string>>"}},centerOptions:{defaultValue:null,description:"",name:"centerOptions",required:!0,type:{name:"(props: { widthContainer: number; withLabels: boolean; twoRows: boolean; }) => ReactNode"}},rightOptions:{defaultValue:null,description:"",name:"rightOptions",required:!0,type:{name:"(props: { withLabels: boolean; twoRows: boolean; }) => ReactNode"}},timeLimit:{defaultValue:null,description:"",name:"timeLimit",required:!0,type:{name:"number"}},memoryLimit:{defaultValue:null,description:"",name:"memoryLimit",required:!0,type:{name:"number"}},expanded:{defaultValue:null,description:"",name:"expanded",required:!0,type:{name:"boolean | null"}},setExpanded:{defaultValue:null,description:"",name:"setExpanded",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},isRunning:{defaultValue:null,description:"",name:"isRunning",required:!0,type:{name:"boolean"}},withoutRunCodeButton:{defaultValue:null,description:"",name:"withoutRunCodeButton",required:!0,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},headerRef:{defaultValue:null,description:"",name:"headerRef",required:!0,type:{name:"OnRefChangeType<any>"}},headerWidthContainer:{defaultValue:null,description:"",name:"headerWidthContainer",required:!0,type:{name:"number"}},twoRows:{defaultValue:null,description:"",name:"twoRows",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/organisms/CodeRunnerEditor/Header/index.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/components/organisms/CodeRunnerEditor/Header/index.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}const SettingsModal_excluded=["onChange","tabSize","fontSize"],SettingsModal=_ref=>{let{onChange,tabSize,fontSize}=_ref,modalProps=(0,objectWithoutProperties.A)(_ref,SettingsModal_excluded);return(0,jsx_runtime.jsx)(atoms.aFV,(0,objectSpread2.A)((0,objectSpread2.A)({className:"editor-settings-modal jk-pg-lg"},modalProps),{},{children:(0,jsx_runtime.jsxs)("div",{className:"jk-col stretch gap jk-pg-sm-tb",children:[(0,jsx_runtime.jsx)("h3",{children:(0,jsx_runtime.jsx)(atoms.T,{children:"code editor settings"})}),(0,jsx_runtime.jsxs)("div",{className:"jk-row left gap",children:[(0,jsx_runtime.jsxs)("label",{className:"tt-se",children:[(0,jsx_runtime.jsx)(atoms.T,{children:"choose your tab size"}),": "]}),(0,jsx_runtime.jsx)(atoms.l6P,{options:molecules.KX.map((keyMap=>({value:keyMap,label:keyMap+""}))),selectedOption:{value:tabSize},onChange:_ref2=>{let{value}=_ref2;return null==onChange?void 0:onChange({tabSize:value})}})]}),(0,jsx_runtime.jsxs)("div",{className:"jk-row left gap",children:[(0,jsx_runtime.jsxs)("label",{className:"tt-se",children:[(0,jsx_runtime.jsx)(atoms.T,{children:"choose your font size"}),": "]}),(0,jsx_runtime.jsx)(atoms.l6P,{options:molecules.iU.map((keyMap=>({value:keyMap,label:keyMap+""}))),selectedOption:{value:fontSize},onChange:_ref3=>{let{value}=_ref3;return null==onChange?void 0:onChange({fontSize:value})}})]})]})}))};try{SettingsModal.displayName="SettingsModal",SettingsModal.__docgenInfo={description:"",displayName:"SettingsModal",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"CodeRunnerEditorOnChangeType<T>"}},tabSize:{defaultValue:null,description:"",name:"tabSize",required:!0,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!0,type:{name:"number"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/organisms/CodeRunnerEditor/SettingsModal/index.tsx#SettingsModal"]={docgenInfo:SettingsModal.__docgenInfo,name:"SettingsModal",path:"src/components/organisms/CodeRunnerEditor/SettingsModal/index.tsx#SettingsModal"})}catch(__react_docgen_typescript_loader_error){}var useJukiNotification=__webpack_require__("./src/hooks/useJukiNotification.tsx"),TabsInline=__webpack_require__("./src/components/molecules/Tabs/TabsInline.tsx"),ProblemVerdictTag=__webpack_require__("./src/components/organisms/ProblemVerdictTag/index.ts"),types=__webpack_require__("./src/components/organisms/types.ts");const LogInfo=_ref=>{let{testCase,timeLimit,memoryLimit}=_ref;const{timeUsed,timeLimitExceeded,memoryUsed,memoryLimitExceeded,exitCode,runtimeError}=(0,esm.E6g)(testCase,timeLimit,memoryLimit);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:"content-log cr-g2",children:[(0,jsx_runtime.jsxs)("span",{className:(0,helpers.xW)("text-log tx-t tt-se",{"cr-er":timeLimitExceeded}),children:[timeLimitExceeded?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.T,{children:"time limit exceeded"})," (",timeUsed," ",(0,jsx_runtime.jsx)(atoms.T,{children:"ms"}),")"]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.T,{children:"used time"}),": ",timeUsed," ",(0,jsx_runtime.jsx)(atoms.T,{children:"ms"})]}),","]}),(0,jsx_runtime.jsxs)("span",{className:(0,helpers.xW)("text-log tx-t tt-se",{"cr-er":memoryLimitExceeded}),children:[memoryLimitExceeded?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.T,{children:"memory limit exceeded"})," (",memoryUsed," ",(0,jsx_runtime.jsx)(atoms.T,{children:"KB"}),")"]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.T,{children:"used memory"}),": ",memoryUsed," ",(0,jsx_runtime.jsx)(atoms.T,{children:"KB"})]}),","]}),(0,jsx_runtime.jsx)("span",{className:(0,helpers.xW)("text-log tx-t tt-se",{"cr-er":runtimeError}),children:!runtimeError||timeLimit||memoryLimit?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.T,{children:"exit code"}),": ",exitCode]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.T,{children:"runtime error"})," (",(0,jsx_runtime.jsx)(atoms.T,{children:"exit code"}),": ",exitCode,")"]})})]})})};try{LogInfo.displayName="LogInfo",LogInfo.__docgenInfo={description:"",displayName:"LogInfo",props:{testCase:{defaultValue:null,description:"",name:"testCase",required:!0,type:{name:"SubmissionTestCaseType"}},timeLimit:{defaultValue:null,description:"",name:"timeLimit",required:!0,type:{name:"number"}},memoryLimit:{defaultValue:null,description:"",name:"memoryLimit",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/organisms/CodeRunnerEditor/TestCases/LogInfo.tsx#LogInfo"]={docgenInfo:LogInfo.__docgenInfo,name:"LogInfo",path:"src/components/organisms/CodeRunnerEditor/TestCases/LogInfo.tsx#LogInfo"})}catch(__react_docgen_typescript_loader_error){}const AddCaseButton=_ref=>{let{onChange,testCasesValues,testCases,sample=!1}=_ref;const{addNotification}=(0,useJukiNotification.Eq)();return(0,jsx_runtime.jsx)("div",{"data-tooltip-t-class-name":"ws-np tt-se tx-s","data-tooltip-id":"jk-tooltip","data-tooltip-content":"add ".concat(sample?"sample":"custom sample"," case"),className:"jk-button light small only-icon",style:{margin:"6px"},children:(0,jsx_runtime.jsx)(atoms.REV,{size:"small",onClick:()=>{const customCases=testCasesValues.filter((testCaseValue=>!testCaseValue.sample)),noCustomCases=testCasesValues.filter((testCaseValue=>testCaseValue.sample)),cases=sample?noCustomCases:customCases;if(cases.length<(sample?30:15)){const key=crypto.randomUUID(),index=(0,esm.Bc3)(cases.map((testCaseValue=>testCaseValue.index)));null==onChange||onChange({onTestCasesChange:testCases=>{var _noCustomCases$0$with,_noCustomCases$;return(0,objectSpread2.A)((0,objectSpread2.A)({},testCases),{},{[key]:{key,index,in:"",out:"",testOut:"",withPE:null===(_noCustomCases$0$with=null==noCustomCases||null===(_noCustomCases$=noCustomCases[0])||void 0===_noCustomCases$?void 0:_noCustomCases$.withPE)||void 0===_noCustomCases$0$with||_noCustomCases$0$with,err:"",log:"",hidden:!1,sample,status:esm.aeR.NONE,messageTimestamp:0}})}})}else addNotification({type:types._.QUIET,message:(0,jsx_runtime.jsx)(atoms.T,{children:"maximum test cases achieved"})})}})})},TestCases=props=>{var _testCasesValues$,_testCases$testCaseKe,_testCases$testCaseKe2,_testCases$testCaseKe3,_testCases$testCaseKe4,_testCases$testCaseKe5,_testCases$testCaseKe6,_testCases$testCaseKe7,_testCases$testCaseKe8,_testCases$testCaseKe13,_testCases$testCaseKe14;const{testCases={},onChange,timeLimit,memoryLimit,direction,enableAddSampleCases,enableAddCustomSampleCases}=props,testCasesValues=Object.values(testCases).sort(((a,b)=>a.sample!==b.sample?+b.sample-+a.sample:a.index-b.index)),[testCaseKey,setTestCaseKey]=(0,react.useState)((null===(_testCasesValues$=testCasesValues[0])||void 0===_testCasesValues$?void 0:_testCasesValues$.key)||"");(0,react.useEffect)((()=>{const testCasesValues=Object.values(testCases);testCasesValues.length&&(testCasesValues.some((testCase=>testCase.key===testCaseKey))||setTestCaseKey(testCasesValues[0].key))}),[testCaseKey,testCases]);const inputTabs={};testCasesValues.filter((testCaseValue=>!testCaseValue.hidden)).forEach((testCaseValue=>{const headerLabel=testCaseValue.key===testCaseKey?(0,jsx_runtime.jsxs)("div",{className:"jk-row ws-np nowrap tx-s",children:[(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:testCaseValue.sample?"sample":"custom"})," ",testCaseValue.index+1,(testCaseValue.sample?enableAddSampleCases:enableAddCustomSampleCases)&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" ",(0,jsx_runtime.jsx)(atoms.d7y,{size:"small",className:"clickable br-50-pc",onClick:()=>{null==onChange||onChange({onTestCasesChange:testCases=>{const newTestCases=(0,objectSpread2.A)({},testCases);return delete newTestCases[testCaseValue.key],newTestCases}})}})]})]}):(0,jsx_runtime.jsxs)("div",{className:"jk-row ws-np nowrap tx-s",children:[(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:testCaseValue.sample?"s.":"c."})," ",testCaseValue.index+1]}),{verdict}=(0,esm.gBd)(testCaseValue,timeLimit,memoryLimit);inputTabs[testCaseValue.key]={key:testCaseValue.key,header:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[headerLabel,testCaseValue.testOut&&(testCaseValue.status===esm.aeR.EXECUTED_TEST_CASE||testCaseValue.status===esm.aeR.FAILED_TEST_CASE)&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" ",(0,jsx_runtime.jsx)(ProblemVerdictTag.$,{verdict,small:!0})]})]}),body:(testCaseValue.sample?enableAddSampleCases:enableAddCustomSampleCases)&&onChange?(0,jsx_runtime.jsx)(atoms.fs1,{style:{height:"calc(100% - 10px)",overflow:"auto",width:"calc(100% - 10px)",marginLeft:"4px",marginTop:"4px"},className:"tx-s",value:testCaseValue.in,onChange:(testCaseValue.sample?enableAddSampleCases:enableAddCustomSampleCases)?value=>null==onChange?void 0:onChange({onTestCasesChange:testCases=>(0,objectSpread2.A)((0,objectSpread2.A)({},testCases),{},{[testCaseValue.key]:(0,objectSpread2.A)((0,objectSpread2.A)({},testCaseValue),{},{in:value})})}):void 0},testCaseValue.key):(0,jsx_runtime.jsx)("div",{style:{padding:"calc(var(--pad-sm) / 2)"},children:(0,jsx_runtime.jsx)("span",{className:"jk-text-stdout",children:testCaseValue.in})})}}));const[outputTab,setOutputTab]=(0,react.useState)("output"),status=null===(_testCases$testCaseKe=testCases[testCaseKey])||void 0===_testCases$testCaseKe?void 0:_testCases$testCaseKe.status;(0,react.useEffect)((()=>{setOutputTab([esm.aeR.FAILED,esm.aeR.COMPILATION_ERROR,esm.aeR.FAILED_TEST_CASE].includes(status)?"error":"output")}),[status]);const loaderAndInfo=(null===(_testCases$testCaseKe2=testCases[testCaseKey])||void 0===_testCases$testCaseKe2?void 0:_testCases$testCaseKe2.status)===esm.aeR.RECEIVED||(null===(_testCases$testCaseKe3=testCases[testCaseKey])||void 0===_testCases$testCaseKe3?void 0:_testCases$testCaseKe3.status)===esm.aeR.COMPILING||(null===(_testCases$testCaseKe4=testCases[testCaseKey])||void 0===_testCases$testCaseKe4?void 0:_testCases$testCaseKe4.status)===esm.aeR.RUNNING_TEST_CASES||(null===(_testCases$testCaseKe5=testCases[testCaseKey])||void 0===_testCases$testCaseKe5?void 0:_testCases$testCaseKe5.status)===esm.aeR.RUNNING_TEST_CASE?(0,jsx_runtime.jsx)("div",{className:"jk-overlay jk-overlay-backdrop jk-row center",style:{position:"absolute",background:"transparent"},children:(0,jsx_runtime.jsxs)("div",{className:"jk-row",style:{alignItems:"baseline"},children:[(0,jsx_runtime.jsx)(atoms.T,{children:esm.ok5[null===(_testCases$testCaseKe6=testCases[testCaseKey])||void 0===_testCases$testCaseKe6?void 0:_testCases$testCaseKe6.status].label})," ",(0,jsx_runtime.jsx)("div",{className:"dot-flashing"})]})}):!(null===(_testCases$testCaseKe7=testCases[testCaseKey])||void 0===_testCases$testCaseKe7||!_testCases$testCaseKe7.log)&&(0,jsx_runtime.jsx)(LogInfo,{testCase:testCases[testCaseKey],timeLimit,memoryLimit}),outputTabs={};var _testCases$testCaseKe9,_testCases$testCaseKe10,_testCases$testCaseKe11,_testCases$testCaseKe12,_testCases$testCaseKe15;null!==(_testCases$testCaseKe8=testCases[testCaseKey])&&void 0!==_testCases$testCaseKe8&&_testCases$testCaseKe8.testOut&&(outputTabs["test-output"]={key:"test-output",header:(0,jsx_runtime.jsxs)("div",{className:"jk-row gap left nowrap",children:[(0,jsx_runtime.jsx)(atoms.T,{className:(0,helpers.xW)("tt-se tx-s"),children:"sample output"}),(null===(_testCases$testCaseKe9=testCases[testCaseKey])||void 0===_testCases$testCaseKe9?void 0:_testCases$testCaseKe9.withPE)&&(0,jsx_runtime.jsx)("div",{"data-tooltip-id":"jk-tooltip","data-tooltip-content":"".concat((null===(_testCases$testCaseKe10=testCases[testCaseKey])||void 0===_testCases$testCaseKe10?void 0:_testCases$testCaseKe10.testOut.lastIndexOf("\n"))===(null===(_testCases$testCaseKe11=testCases[testCaseKey])||void 0===_testCases$testCaseKe11?void 0:_testCases$testCaseKe11.testOut.length)-1?"":"no ","newline at end of file"),className:"jk-row",children:(0,jsx_runtime.jsx)(atoms.mo0,{size:"small"})})]}),body:(0,jsx_runtime.jsxs)("div",{children:[loaderAndInfo,(0,jsx_runtime.jsx)("div",{className:"content-log",children:(0,jsx_runtime.jsx)("span",{className:"jk-text-stdout",children:null===(_testCases$testCaseKe12=testCases[testCaseKey])||void 0===_testCases$testCaseKe12?void 0:_testCases$testCaseKe12.testOut})})]})});(outputTabs.output={key:"output",header:(0,jsx_runtime.jsx)(atoms.T,{className:(0,helpers.xW)("tt-se tx-s",{"cr-er":(0,esm.E6g)(testCases[testCaseKey],timeLimit,memoryLimit).failed}),children:"output"}),body:(0,jsx_runtime.jsxs)("div",{children:[loaderAndInfo,(0,jsx_runtime.jsx)("div",{className:"content-log",children:(0,jsx_runtime.jsx)("span",{className:"jk-text-stdout",children:null===(_testCases$testCaseKe13=testCases[testCaseKey])||void 0===_testCases$testCaseKe13?void 0:_testCases$testCaseKe13.out})})]})},null!==(_testCases$testCaseKe14=testCases[testCaseKey])&&void 0!==_testCases$testCaseKe14&&_testCases$testCaseKe14.err)&&(outputTabs.error={key:"error",header:(0,jsx_runtime.jsx)(atoms.T,{className:(0,helpers.xW)("tt-se tx-s",{"cr-er":(0,esm.E6g)(testCases[testCaseKey],timeLimit,memoryLimit).failed}),children:"error"}),body:(0,jsx_runtime.jsxs)("div",{children:[loaderAndInfo,(0,jsx_runtime.jsx)("div",{className:"content-log",children:(0,jsx_runtime.jsx)("span",{className:"jk-text-stderr",children:null===(_testCases$testCaseKe15=testCases[testCaseKey])||void 0===_testCases$testCaseKe15?void 0:_testCases$testCaseKe15.err})})]})});return(0,jsx_runtime.jsx)("div",{className:"jk-code-mirror-editor-test-cases",children:(0,jsx_runtime.jsxs)(molecules.vh,{direction:"row"===direction?"column":"row",children:[(0,jsx_runtime.jsxs)("div",{className:"jk-col extend stretch nowrap",children:[(0,jsx_runtime.jsxs)("div",{className:"jk-row nowrap border-bottom-highlight",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1",style:{overflow:"auto"},children:(0,jsx_runtime.jsx)(molecules.gv,{tabs:inputTabs,selectedTabKey:testCaseKey,onChange:tabKey=>setTestCaseKey(tabKey)})}),enableAddSampleCases&&onChange&&(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(AddCaseButton,{onChange,testCasesValues,testCases,sample:!0})}),enableAddCustomSampleCases&&onChange&&(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(AddCaseButton,{onChange,testCasesValues,testCases})})]}),(0,jsx_runtime.jsx)("div",{className:"flex-1 pn-re",children:(0,jsx_runtime.jsx)(TabsInline.TabsInlineBody,{tabs:inputTabs,selectedTabKey:testCaseKey})})]}),(0,jsx_runtime.jsxs)("div",{className:"jk-col stretch test-cases-output-stderr",children:[(0,jsx_runtime.jsx)(molecules.gv,{tabs:outputTabs,selectedTabKey:outputTab,onChange:value=>setOutputTab(value),className:"border-bottom-highlight"}),(0,jsx_runtime.jsx)("div",{className:"flex-1 wh-100 pn-re ow-ao",children:(0,jsx_runtime.jsx)(TabsInline.TabsInlineBody,{tabs:outputTabs,selectedTabKey:outputTab})})]})]})})};try{TestCases.displayName="TestCases",TestCases.__docgenInfo={description:"",displayName:"TestCases",props:{testCases:{defaultValue:null,description:"",name:"testCases",required:!1,type:{name:"CodeEditorTestCasesType"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"CodeRunnerEditorOnChangeType<T>"}},timeLimit:{defaultValue:null,description:"",name:"timeLimit",required:!0,type:{name:"number"}},memoryLimit:{defaultValue:null,description:"",name:"memoryLimit",required:!0,type:{name:"number"}},direction:{defaultValue:null,description:"",name:"direction",required:!0,type:{name:"enum",value:[{value:'"column"'},{value:'"row"'}]}},enableAddSampleCases:{defaultValue:null,description:"",name:"enableAddSampleCases",required:!0,type:{name:"boolean"}},enableAddCustomSampleCases:{defaultValue:null,description:"",name:"enableAddCustomSampleCases",required:!0,type:{name:"boolean"}},isRunning:{defaultValue:null,description:"",name:"isRunning",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/organisms/CodeRunnerEditor/TestCases/index.tsx#TestCases"]={docgenInfo:TestCases.__docgenInfo,name:"TestCases",path:"src/components/organisms/CodeRunnerEditor/TestCases/index.tsx#TestCases"})}catch(__react_docgen_typescript_loader_error){}const CodeRunnerEditor=props=>{const{readOnly,sourceCode,languages=molecules.Wx.map((lang=>{var _PROGRAMMING_LANGUAGE;return{value:lang,label:(null===(_PROGRAMMING_LANGUAGE=esm.tcq[lang])||void 0===_PROGRAMMING_LANGUAGE?void 0:_PROGRAMMING_LANGUAGE.label)||lang}})),language,onChange:_onChange,centerButtons,rightButtons,testCases,tabSize=4,fontSize=14,timeLimit=1e3,memoryLimit=512e3,expandPosition,className,enableAddCustomSampleCases,enableAddSampleCases,withoutRunCodeButton}=props;(0,hooks.pD)();const onChangeRef=(0,react.useRef)(_onChange);onChangeRef.current=readOnly?void 0:_onChange;const[isRunning,setIsRunning]=(0,react.useState)(!1),[runId,setRunId]=(0,react.useState)(""),{user:{settings:{[esm.mZ_.THEME]:preferredTheme},sessionId}}=(0,useJukiUser.M)(),[showSettings,setShowSettings]=(0,react.useState)(!1),[direction,setDirection]=(0,react.useState)("row"),[expanded,setExpanded]=(0,react.useState)(!1),{viewPortSize}=(0,useJukiUI.p)(),{width:headerWidthContainer=0,ref:headerRef}=(0,index_esm.u)(constants.fV);(0,react.useEffect)((()=>{if(!runId)return;const event={event:esm.ad3.SUBSCRIBE_CODE_RUN_STATUS,sessionId,runId};return settings.ug.SOCKET.send(event,"",(data=>{var _data$log2,_data$log3,_data$log4,_onChangeRef$current2,_onChangeRef$current3,_onChangeRef$current4;if((0,esm.Tm$)(data)){var _data$log;const fillTestCases=(status,err,out,log)=>{var _onChangeRef$current;null===(_onChangeRef$current=onChangeRef.current)||void 0===_onChangeRef$current||_onChangeRef$current.call(onChangeRef,{onTestCasesChange:prevState=>{const newTestCases=(0,objectSpread2.A)({},prevState);for(const testKey in newTestCases){var _prevState$testKey;null!==(_prevState$testKey=prevState[testKey])&&void 0!==_prevState$testKey&&_prevState$testKey.messageTimestamp&&prevState[testKey].messageTimestamp>data.messageTimestamp||(newTestCases[testKey]=(0,objectSpread2.A)((0,objectSpread2.A)({},newTestCases[testKey]),{},{status,err,out,log,messageTimestamp:data.messageTimestamp}))}return newTestCases}})},status=data.status||esm.aeR.NONE,inputKey=null==data||null===(_data$log=data.log)||void 0===_data$log?void 0:_data$log.inputKey;switch(status){case esm.aeR.FAILED:case esm.aeR.COMPILING:case esm.aeR.COMPILED:case esm.aeR.COMPILATION_ERROR:fillTestCases(status,(null===(_data$log2=data.log)||void 0===_data$log2?void 0:_data$log2.err)||"",(null===(_data$log3=data.log)||void 0===_data$log3?void 0:_data$log3.out)||"",(null===(_data$log4=data.log)||void 0===_data$log4?void 0:_data$log4.log)||"");break;case esm.aeR.RUNNING_TEST_CASE:case esm.aeR.EXECUTED_TEST_CASE:case esm.aeR.FAILED_TEST_CASE:null===(_onChangeRef$current2=onChangeRef.current)||void 0===_onChangeRef$current2||_onChangeRef$current2.call(onChangeRef,{onTestCasesChange:prevState=>{const newTestCases=(0,objectSpread2.A)({},prevState);if(inputKey&&newTestCases[inputKey]){var _data$log5,_data$log6,_data$log7,_prevState$testCase$k;const testCase=(0,objectSpread2.A)((0,objectSpread2.A)({},newTestCases[inputKey]),{},{status,out:(null===(_data$log5=data.log)||void 0===_data$log5?void 0:_data$log5.out)||"",log:(null===(_data$log6=data.log)||void 0===_data$log6?void 0:_data$log6.log)||"",err:(null===(_data$log7=data.log)||void 0===_data$log7?void 0:_data$log7.err)||"",messageTimestamp:data.messageTimestamp});return null!==(_prevState$testCase$k=prevState[testCase.key])&&void 0!==_prevState$testCase$k&&_prevState$testCase$k.messageTimestamp&&prevState[testCase.key].messageTimestamp>testCase.messageTimestamp?prevState:(0,objectSpread2.A)((0,objectSpread2.A)({},prevState),{},{[testCase.key]:testCase})}return prevState}})}switch(status){case esm.aeR.RECEIVED:setIsRunning(!0),null===(_onChangeRef$current3=onChangeRef.current)||void 0===_onChangeRef$current3||_onChangeRef$current3.call(onChangeRef,{isRunning:!0});break;case esm.aeR.FAILED:case esm.aeR.COMPILATION_ERROR:case esm.aeR.COMPLETED:setIsRunning(!1),null===(_onChangeRef$current4=onChangeRef.current)||void 0===_onChangeRef$current4||_onChangeRef$current4.call(onChangeRef,{isRunning:!1})}}})),()=>{settings.ug.SOCKET.unsubscribe(event)}}),[runId,sessionId]);const codeEditorOnChange=(0,react.useCallback)((props=>{var _onChangeRef$current5;null===(_onChangeRef$current5=onChangeRef.current)||void 0===_onChangeRef$current5||_onChangeRef$current5.call(onChangeRef,(0,objectSpread2.A)((0,objectSpread2.A)({},props),{},{isRunning:!1})),setIsRunning(!1)}),[]),isMobileViewPort="sm"===viewPortSize,firstChild=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)("div",{className:"editor-layout",children:(0,jsx_runtime.jsx)(molecules.BY,{theme:preferredTheme,onChange:codeEditorOnChange,language,readOnly,sourceCode,tabSize,fontSize})})),[preferredTheme,codeEditorOnChange,language,readOnly,sourceCode,tabSize,fontSize]),withTestCases=!!testCases,twoRows=headerWidthContainer<(withoutRunCodeButton?340:420),closableSecondPane=(0,react.useMemo)((()=>withTestCases?{align:"right",expandLabel:(0,jsx_runtime.jsx)(atoms.T,{className:"label tx-t",children:"test cases"})}:void 0),[withTestCases]),closableFirstPane=(0,react.useMemo)((()=>withTestCases&&isMobileViewPort?{align:"right",expandLabel:(0,jsx_runtime.jsx)(atoms.T,{className:"label tx-t",children:"code editor"})}:void 0),[withTestCases,isMobileViewPort]),secondChild=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)(TestCases,{testCases,onChange:onChangeRef.current,timeLimit,memoryLimit,direction,enableAddSampleCases:!readOnly&&!!enableAddSampleCases,enableAddCustomSampleCases:!readOnly&&!!enableAddCustomSampleCases,isRunning})),[testCases,timeLimit,memoryLimit,direction,readOnly,enableAddSampleCases,enableAddCustomSampleCases,isRunning]),body=(0,jsx_runtime.jsxs)("div",{className:(0,helpers.xW)("jk-code-mirror-editor-layout jk-border-radius-inline",{"elevation-1":expanded},className),style:(0,objectSpread2.A)((0,objectSpread2.A)({},twoRows?{"--options-header-height":"80px"}:{}),{},{overflow:expanded?"hidden":void 0}),children:[(0,jsx_runtime.jsx)(SettingsModal,{isOpen:showSettings,onClose:()=>setShowSettings(!1),onChange:onChangeRef.current,tabSize,fontSize}),(0,jsx_runtime.jsx)(Header,{headerRef,headerWidthContainer,twoRows,language,languages,sourceCode,testCases:testCases||{},centerOptions:_ref=>{let{widthContainer,twoRows,withLabels}=_ref;return null==centerButtons?void 0:centerButtons({isRunning,readOnly,sourceCode,languages,language,testCases:testCases||{},widthContainer,twoRows,withLabels})},rightOptions:_ref2=>{let{twoRows,withLabels}=_ref2;return null==rightButtons?void 0:rightButtons({isRunning,readOnly,sourceCode,languages,language,testCases:testCases||{},twoRows,withLabels})},setShowSettings,runId,setRunId,onChange:onChangeRef.current,timeLimit,memoryLimit,expanded:expandPosition?expanded:null,setExpanded,isRunning,withoutRunCodeButton:!!withoutRunCodeButton,readOnly:!!readOnly}),(0,jsx_runtime.jsx)("div",{className:"editor-stdio-content",children:(0,jsx_runtime.jsxs)(molecules.vh,{direction,minSize:80,onlyFirstPane:!testCases,closableSecondPane,closableFirstPane,toggleable:!0,onChangeDirection:setDirection,onePanelAtATime:isMobileViewPort,children:[firstChild,secondChild]})})]});return expanded?(0,jsx_runtime.jsx)(atoms.ZLI,{children:(0,jsx_runtime.jsx)("div",{className:"jk-overlay jk-overlay-backdrop",children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.A)({position:"absolute"},expandPosition),className:"jk-code-mirror-editor-expanded-layout",children:body})})}):body};try{CodeRunnerEditor.displayName="CodeRunnerEditor",CodeRunnerEditor.__docgenInfo={description:"",displayName:"CodeRunnerEditor",props:{sourceCode:{defaultValue:null,description:"",name:"sourceCode",required:!0,type:{name:"string"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"T"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"CodeRunnerEditorOnChangeType<T>"}},languages:{defaultValue:null,description:"",name:"languages",required:!1,type:{name:"{ value: T; label: string; }[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},testCases:{defaultValue:null,description:"",name:"testCases",required:!1,type:{name:"CodeEditorTestCasesType"}},centerButtons:{defaultValue:null,description:"",name:"centerButtons",required:!1,type:{name:"CodeEditorCenterButtonsType<T>"}},rightButtons:{defaultValue:null,description:"",name:"rightButtons",required:!1,type:{name:'((props: Omit<CodeEditorCenterButtonsPropertiesType<T>, "widthContainer">) => ReactNode)'}},timeLimit:{defaultValue:null,description:"",name:"timeLimit",required:!1,type:{name:"number"}},memoryLimit:{defaultValue:null,description:"",name:"memoryLimit",required:!1,type:{name:"number"}},expandPosition:{defaultValue:null,description:"",name:"expandPosition",required:!1,type:{name:"CodeEditorExpandPositionType"}},enableAddSampleCases:{defaultValue:null,description:"",name:"enableAddSampleCases",required:!1,type:{name:"boolean"}},enableAddCustomSampleCases:{defaultValue:null,description:"",name:"enableAddCustomSampleCases",required:!1,type:{name:"boolean"}},withoutRunCodeButton:{defaultValue:null,description:"",name:"withoutRunCodeButton",required:!1,type:{name:"boolean"}},isRunning:{defaultValue:null,description:"",name:"isRunning",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"LIGHT"'},{value:'"DARK"'}]}},tabSize:{defaultValue:null,description:"",name:"tabSize",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/organisms/CodeRunnerEditor/CodeRunnerEditor.tsx#CodeRunnerEditor"]={docgenInfo:CodeRunnerEditor.__docgenInfo,name:"CodeRunnerEditor",path:"src/components/organisms/CodeRunnerEditor/CodeRunnerEditor.tsx#CodeRunnerEditor"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/motion/dist/es/framer-motion/dist/es/components/AnimatePresence/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>AnimatePresence});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),PresenceContext=__webpack_require__("./node_modules/motion/dist/es/framer-motion/dist/es/context/PresenceContext.mjs"),use_constant=__webpack_require__("./node_modules/motion/dist/es/framer-motion/dist/es/utils/use-constant.mjs"),MotionConfigContext=__webpack_require__("./node_modules/motion/dist/es/framer-motion/dist/es/context/MotionConfigContext.mjs");class PopChildMeasure extends react.Component{getSnapshotBeforeUpdate(prevProps){const element=this.props.childRef.current;if(element&&prevProps.isPresent&&!this.props.isPresent){const size=this.props.sizeRef.current;size.height=element.offsetHeight||0,size.width=element.offsetWidth||0,size.top=element.offsetTop,size.left=element.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children,isPresent}){const id=(0,react.useId)(),ref=(0,react.useRef)(null),size=(0,react.useRef)({width:0,height:0,top:0,left:0}),{nonce}=(0,react.useContext)(MotionConfigContext.Q);return(0,react.useInsertionEffect)((()=>{const{width,height,top,left}=size.current;if(isPresent||!ref.current||!width||!height)return;ref.current.dataset.motionPopId=id;const style=document.createElement("style");return nonce&&(style.nonce=nonce),document.head.appendChild(style),style.sheet&&style.sheet.insertRule(`\n          [data-motion-pop-id="${id}"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `),()=>{document.head.removeChild(style)}}),[isPresent]),(0,jsx_runtime.jsx)(PopChildMeasure,{isPresent,childRef:ref,sizeRef:size,children:react.cloneElement(children,{ref})})}const PresenceChild=({children,initial,isPresent,onExitComplete,custom,presenceAffectsLayout,mode})=>{const presenceChildren=(0,use_constant.M)(newChildrenMap),id=(0,react.useId)(),memoizedOnExitComplete=(0,react.useCallback)((childId=>{presenceChildren.set(childId,!0);for(const isComplete of presenceChildren.values())if(!isComplete)return;onExitComplete&&onExitComplete()}),[presenceChildren,onExitComplete]),context=(0,react.useMemo)((()=>({id,initial,isPresent,custom,onExitComplete:memoizedOnExitComplete,register:childId=>(presenceChildren.set(childId,!1),()=>presenceChildren.delete(childId))})),presenceAffectsLayout?[Math.random(),memoizedOnExitComplete]:[isPresent,memoizedOnExitComplete]);return(0,react.useMemo)((()=>{presenceChildren.forEach(((_,key)=>presenceChildren.set(key,!1)))}),[isPresent]),react.useEffect((()=>{!isPresent&&!presenceChildren.size&&onExitComplete&&onExitComplete()}),[isPresent]),"popLayout"===mode&&(children=(0,jsx_runtime.jsx)(PopChild,{isPresent,children})),(0,jsx_runtime.jsx)(PresenceContext.t.Provider,{value:context,children})};function newChildrenMap(){return new Map}var LayoutGroupContext=__webpack_require__("./node_modules/motion/dist/es/framer-motion/dist/es/context/LayoutGroupContext.mjs"),errors=__webpack_require__("./node_modules/motion/dist/es/motion-utils/dist/es/errors.mjs");const getChildKey=child=>child.key||"";function onlyElements(children){const filtered=[];return react.Children.forEach(children,(child=>{(0,react.isValidElement)(child)&&filtered.push(child)})),filtered}var use_isomorphic_effect=__webpack_require__("./node_modules/motion/dist/es/framer-motion/dist/es/utils/use-isomorphic-effect.mjs");const AnimatePresence=({children,exitBeforeEnter,custom,initial=!0,onExitComplete,presenceAffectsLayout=!0,mode="sync"})=>{(0,errors.V)(!exitBeforeEnter,"Replace exitBeforeEnter with mode='wait'");const presentChildren=(0,react.useMemo)((()=>onlyElements(children)),[children]),presentKeys=presentChildren.map(getChildKey),isInitialRender=(0,react.useRef)(!0),pendingPresentChildren=(0,react.useRef)(presentChildren),exitComplete=(0,use_constant.M)((()=>new Map)),[diffedChildren,setDiffedChildren]=(0,react.useState)(presentChildren),[renderedChildren,setRenderedChildren]=(0,react.useState)(presentChildren);(0,use_isomorphic_effect.E)((()=>{isInitialRender.current=!1,pendingPresentChildren.current=presentChildren;for(let i=0;i<renderedChildren.length;i++){const key=getChildKey(renderedChildren[i]);presentKeys.includes(key)?exitComplete.delete(key):!0!==exitComplete.get(key)&&exitComplete.set(key,!1)}}),[renderedChildren,presentKeys.length,presentKeys.join("-")]);const exitingChildren=[];if(presentChildren!==diffedChildren){let nextChildren=[...presentChildren];for(let i=0;i<renderedChildren.length;i++){const child=renderedChildren[i],key=getChildKey(child);presentKeys.includes(key)||(nextChildren.splice(i,0,child),exitingChildren.push(child))}return"wait"===mode&&exitingChildren.length&&(nextChildren=exitingChildren),setRenderedChildren(onlyElements(nextChildren)),void setDiffedChildren(presentChildren)}const{forceRender}=(0,react.useContext)(LayoutGroupContext.L);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:renderedChildren.map((child=>{const key=getChildKey(child),isPresent=presentChildren===renderedChildren||presentKeys.includes(key);return(0,jsx_runtime.jsx)(PresenceChild,{isPresent,initial:!(isInitialRender.current&&!initial)&&void 0,custom:isPresent?void 0:custom,presenceAffectsLayout,mode,onExitComplete:isPresent?void 0:()=>{if(!exitComplete.has(key))return;exitComplete.set(key,!0);let isEveryExitComplete=!0;exitComplete.forEach((isExitComplete=>{isExitComplete||(isEveryExitComplete=!1)})),isEveryExitComplete&&(null==forceRender||forceRender(),setRenderedChildren(pendingPresentChildren.current),onExitComplete&&onExitComplete())},children:child},key)}))})}}}]);