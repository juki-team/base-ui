"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[6194],{"./src/components/hooks/useStableRef.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>useStableRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useStableRef=function(initialValue){var searchVisiblesRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(initialValue);return searchVisiblesRef.current=initialValue,searchVisiblesRef}},"./src/components/molecules/_lazy_/CodeEditor/codemirror/extensions/basic-setup.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>basicSetup});var _codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@codemirror/autocomplete/dist/index.js"),_codemirror_commands__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@codemirror/commands/dist/index.js"),_codemirror_language__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@codemirror/language/dist/index.js"),_codemirror_lint__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@codemirror/lint/dist/index.js"),_codemirror_search__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@codemirror/search/dist/index.js"),_codemirror_state__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@codemirror/state/dist/index.js"),_codemirror_view__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@codemirror/view/dist/index.js"),basicSetup=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},tmp=options.crosshairCursor,initCrosshairCursor=void 0!==tmp&&tmp,keymaps=[];!1!==options.closeBracketsKeymap&&(keymaps=keymaps.concat(_codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_0__.Bc)),!1!==options.defaultKeymap&&(keymaps=keymaps.concat(_codemirror_commands__WEBPACK_IMPORTED_MODULE_1__.pw)),!1!==options.searchKeymap&&(keymaps=keymaps.concat(_codemirror_search__WEBPACK_IMPORTED_MODULE_4__.Eo)),!1!==options.historyKeymap&&(keymaps=keymaps.concat(_codemirror_commands__WEBPACK_IMPORTED_MODULE_1__.cL)),!1!==options.foldKeymap&&(keymaps=keymaps.concat(_codemirror_language__WEBPACK_IMPORTED_MODULE_2__.f7)),!1!==options.completionKeymap&&(keymaps=keymaps.concat(_codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_0__.OO)),!1!==options.lintKeymap&&(keymaps=keymaps.concat(_codemirror_lint__WEBPACK_IMPORTED_MODULE_3__.$w));var extensions=[];return!1!==options.lineNumbers&&extensions.push((0,_codemirror_view__WEBPACK_IMPORTED_MODULE_6__.$K)()),!1!==options.highlightActiveLineGutter&&extensions.push((0,_codemirror_view__WEBPACK_IMPORTED_MODULE_6__.Wu)()),!1!==options.highlightSpecialChars&&extensions.push((0,_codemirror_view__WEBPACK_IMPORTED_MODULE_6__.N$)()),!1!==options.history&&extensions.push((0,_codemirror_commands__WEBPACK_IMPORTED_MODULE_1__.b6)()),!1!==options.foldGutter&&extensions.push((0,_codemirror_language__WEBPACK_IMPORTED_MODULE_2__.Lv)()),!1!==options.drawSelection&&extensions.push((0,_codemirror_view__WEBPACK_IMPORTED_MODULE_6__.VH)()),!1!==options.dropCursor&&extensions.push((0,_codemirror_view__WEBPACK_IMPORTED_MODULE_6__.A)()),!1!==options.allowMultipleSelections&&extensions.push(_codemirror_state__WEBPACK_IMPORTED_MODULE_5__.$t.allowMultipleSelections.of(!0)),!1!==options.indentOnInput&&extensions.push((0,_codemirror_language__WEBPACK_IMPORTED_MODULE_2__.WD)()),!1!==options.syntaxHighlighting&&extensions.push((0,_codemirror_language__WEBPACK_IMPORTED_MODULE_2__.y9)(_codemirror_language__WEBPACK_IMPORTED_MODULE_2__.Zt,{fallback:!0})),!1!==options.bracketMatching&&extensions.push((0,_codemirror_language__WEBPACK_IMPORTED_MODULE_2__.SG)()),!1!==options.closeBrackets&&extensions.push((0,_codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_0__.wm)()),!1!==options.autocompletion&&extensions.push((0,_codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_0__.yU)()),!1!==options.rectangularSelection&&extensions.push((0,_codemirror_view__WEBPACK_IMPORTED_MODULE_6__.D4)()),!1!==initCrosshairCursor&&extensions.push((0,_codemirror_view__WEBPACK_IMPORTED_MODULE_6__.HJ)()),!1!==options.highlightActiveLine&&extensions.push((0,_codemirror_view__WEBPACK_IMPORTED_MODULE_6__.dz)()),!1!==options.highlightSelectionMatches&&extensions.push((0,_codemirror_search__WEBPACK_IMPORTED_MODULE_4__.gN)()),options.tabSize&&"number"==typeof options.tabSize&&extensions.push(_codemirror_language__WEBPACK_IMPORTED_MODULE_2__.Xt.of(" ".repeat(options.tabSize))),extensions.concat([_codemirror_view__WEBPACK_IMPORTED_MODULE_6__.w4.of(keymaps.flat())]).filter(Boolean)}},"./src/components/organisms/_layz_/MdMathEditor/MdMathEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MdMathEditor});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),lib=__webpack_require__("./node_modules/@milkdown/utils/lib/index.js"),react_lib=__webpack_require__("./node_modules/@milkdown/react/lib/index.js"),react=__webpack_require__("./node_modules/react/index.js"),helpers=__webpack_require__("./src/components/helpers/index.ts"),settings=__webpack_require__("./src/settings/index.ts"),useI18nStore=__webpack_require__("./src/stores/i18n/useI18nStore.ts"),useUserStore=__webpack_require__("./src/stores/user/useUserStore.ts"),useWebsocketStore=__webpack_require__("./src/stores/websocket/useWebsocketStore.ts"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),server=__webpack_require__("./src/components/atoms/server/index.ts"),molecules=__webpack_require__("./src/components/molecules/index.ts"),ImageUploaderModal=__webpack_require__("./src/components/organisms/ImageUploaderModal/ImageUploaderModal.tsx"),dist=__webpack_require__("./node_modules/@codemirror/language/dist/index.js"),language_data_dist=__webpack_require__("./node_modules/@codemirror/language-data/dist/index.js"),stex=__webpack_require__("./node_modules/@codemirror/legacy-modes/mode/stex.js"),theme_one_dark_dist=__webpack_require__("./node_modules/@codemirror/theme-one-dark/dist/index.js"),view_dist=__webpack_require__("./node_modules/@codemirror/view/dist/index.js"),code_block=__webpack_require__("./node_modules/@milkdown/components/lib/code-block/index.js"),lib_esm=__webpack_require__("./node_modules/@milkdown/crepe/lib/esm/index.js"),core_lib=__webpack_require__("./node_modules/@milkdown/core/lib/index.js"),plugin_cursor_lib=__webpack_require__("./node_modules/@milkdown/plugin-cursor/lib/index.js"),plugin_listener_lib=__webpack_require__("./node_modules/@milkdown/plugin-listener/lib/index.js"),plugin_trailing_lib=__webpack_require__("./node_modules/@milkdown/plugin-trailing/lib/index.js"),plugin_upload_lib=__webpack_require__("./node_modules/@milkdown/plugin-upload/lib/index.js"),viz=__webpack_require__("./node_modules/@viz-js/viz/dist/viz.js"),katex=__webpack_require__("./node_modules/katex/dist/katex.mjs"),prosemirror_view_dist=__webpack_require__("./node_modules/prosemirror-view/dist/index.js"),v4=__webpack_require__("./node_modules/uuid/dist/v4.js"),enums=__webpack_require__("./src/enums/index.ts"),useJukiNotification=__webpack_require__("./src/components/hooks/useJukiNotification.tsx"),useStableRef=__webpack_require__("./src/components/hooks/useStableRef.ts"),basic_setup=__webpack_require__("./src/components/molecules/_lazy_/CodeEditor/codemirror/extensions/basic-setup.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupported_iterable_to_array(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupported_iterable_to_array(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_array_like_to_array(o,minLen):void 0}}function _ts_generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var defaultLightThemeOption=view_dist.Lz.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),uploader=function(setLoader,addNotification){return function(files,schema){return _async_to_generator(function(){var images,i,file,nodes;return _ts_generator(this,function(_state){switch(_state.label){case 0:for(images=[],i=0;i<files.length;i++)(file=files.item(i))&&file.type.includes("image/")&&images.push(file);return setLoader(esm.nW6.LOADING),[4,Promise.all(images.map(function(image){return _async_to_generator(function(){var _schema_nodes,_ref,status,message,content;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,(0,helpers.XO)(image,!1)];case 1:return _ref=_state.sent(),status=_ref.status,message=_ref.message,content=_ref.content,status===esm.nW6.SUCCESS&&(null==schema||null===(_schema_nodes=schema.nodes)||void 0===_schema_nodes?void 0:_schema_nodes.image)?(addNotification({type:enums._n.SUCCESS,message:(0,jsx_runtime.jsx)(atoms.T,{children:message})}),[2,schema.nodes.image.createAndFill({src:content.imageUrl,alt:image.name})]):(addNotification({type:enums._n.ERROR,message:(0,jsx_runtime.jsx)(atoms.T,{children:message})}),[2,null])}})})()}))];case 1:return nodes=_state.sent(),setLoader(esm.nW6.SUCCESS),[2,nodes]}})})()}},plainText=dist.Tg.define({token:function token(stream){return stream.skipToEnd(),null}}),plainTextSupport=new dist.Yy(plainText),myLanguages=[dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"C"===language.name})),{name:esm.aFm.C,load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(1494)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-cpp/dist/index.js")).then(function(m){return m.cpp()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"C"===language.name})),{name:esm.aFm.C+" asCodeEditor",load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(1494)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-cpp/dist/index.js")).then(function(m){return m.cpp()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"C++"===language.name})),{name:esm.aFm.CPP,load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(1494)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-cpp/dist/index.js")).then(function(m){return m.cpp()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"C++"===language.name})),{name:esm.aFm.CPP+" asCodeEditor",load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(1494)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-cpp/dist/index.js")).then(function(m){return m.cpp()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"Java"===language.name})),{name:esm.aFm.JAVA,load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(6645)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-java/dist/index.js")).then(function(m){return m.java()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"Java"===language.name})),{name:esm.aFm.JAVA+" asCodeEditor",load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(6645)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-java/dist/index.js")).then(function(m){return m.java()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"Python"===language.name})),{name:esm.aFm.PYTHON,load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(4833)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-python/dist/index.js")).then(function(m){return m.python()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"Python"===language.name})),{name:esm.aFm.PYTHON+" asCodeEditor",load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(4833)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-python/dist/index.js")).then(function(m){return m.python()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"JavaScript"===language.name})),{name:esm.aFm.JAVASCRIPT,load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(5985)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-javascript/dist/index.js")).then(function(m){return m.javascript()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"JavaScript"===language.name})),{name:esm.aFm.JAVASCRIPT+" asCodeEditor",load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(5985)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-javascript/dist/index.js")).then(function(m){return m.javascript()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"HTML"===language.name})),{name:esm.aFm.HTML,load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(2973),__webpack_require__.e(5985),__webpack_require__.e(7154)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-html/dist/index.js")).then(function(m){return m.html()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"JSON"===language.name})),{name:esm.aFm.JSON,load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(1250)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-json/dist/index.js")).then(function(m){return m.json()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"Markdown"===language.name})),{name:esm.aFm.MARKDOWN,load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(2973),__webpack_require__.e(5985),__webpack_require__.e(7154),__webpack_require__.e(2047)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-markdown/dist/index.js")).then(function(m){return m.markdown()})}})),dist.t$.of(_object_spread_props(_object_spread({},language_data_dist.e.find(function(language){return"LaTeX"===language.name})),{name:esm.aFm.LATEX,support:new dist.Yy(dist.Tg.define(stex.stex))})),dist.t$.of({name:esm.aFm.DOT,alias:["dot"],extensions:["dot"],load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(5880)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@viz-js/lang-dot/dist/index.js")).then(function(m){return m.dot()})}}),dist.t$.of({name:esm.aFm.DOT+" asImage",alias:["dot"],extensions:["dot"],load:function(){return Promise.all([__webpack_require__.e(7421),__webpack_require__.e(5880)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@viz-js/lang-dot/dist/index.js")).then(function(m){return m.dot()})}}),dist.t$.of({name:esm.aFm.TEXT,alias:["plaintext"],extensions:["txt","text"],support:plainTextSupport})];function normalizeNewlines(text){var normalized=text.replace(/\n{3,}/g,"\n\n");return(normalized=normalized.replace(/&#x20;/gi," ")).replace(/\n+$/g,"")+"\n"}function MilkdownEditorContent(param){var value=param.value,onChange=param.onChange,setLoader=param.setLoader,onChangeRef=(0,useStableRef.m)(onChange),addNotification=(0,useJukiNotification.E)().addNotification,theme=(0,useUserStore.k)(function(store){return store.user.settings[esm.mZ_.THEME]}),currentMd=(0,react.useRef)(value),triggerRender=(0,react.useMemo)(function(){return value===currentMd.current?0:Date.now()},[value]),t=(0,useI18nStore.T)(function(store){return store.i18n.t});return(0,react_lib.hG)(function(root){var _obj;return new lib_esm.mA({root,defaultValue:value.replace(/```C asCodeEditor/g,"```C&#x20;asCodeEditor").replace(/```CPP asCodeEditor/g,"```CPP&#x20;asCodeEditor").replace(/```JAVA asCodeEditor/g,"```JAVA&#x20;asCodeEditor").replace(/```PYTHON asCodeEditor/g,"```PYTHON&#x20;asCodeEditor").replace(/```JAVASCRIPT asCodeEditor/g,"```JAVASCRIPT&#x20;asCodeEditor").replace(/```DOT asImage/g,"```DOT&#x20;asImage"),featureConfigs:(_obj={},_define_property(_obj,lib_esm.mA.Feature.CodeMirror,{renderLanguage:function renderLanguage(lang,selected){var _CODE_LANGUAGE_language,_CODE_LANGUAGE_language_label,_lang_split=_sliced_to_array(lang.split(" "),2),language=_lang_split[0],as=_lang_split[1];return(selected?"✔ ":"")+(null!==(_CODE_LANGUAGE_language_label=null===(_CODE_LANGUAGE_language=esm.fO_[language])||void 0===_CODE_LANGUAGE_language?void 0:_CODE_LANGUAGE_language.label)&&void 0!==_CODE_LANGUAGE_language_label?_CODE_LANGUAGE_language_label:language)+t("asCodeEditor"===as?" (render as code editor)":"asImage"===as?" (render as image)":"")},searchPlaceholder:"Find a language...",noResultText:"No language found"}),_define_property(_obj,lib_esm.mA.Feature.ImageBlock,{onUpload:function onUpload(file){return _async_to_generator(function(){var _ref,status,message,content;return _ts_generator(this,function(_state){switch(_state.label){case 0:return setLoader(esm.nW6.LOADING),[4,(0,helpers.XO)(file,!1)];case 1:return _ref=_state.sent(),status=_ref.status,message=_ref.message,content=_ref.content,status===esm.nW6.SUCCESS?(addNotification({type:enums._n.SUCCESS,message:(0,jsx_runtime.jsx)(atoms.T,{children:message})}),setLoader(esm.nW6.SUCCESS),[2,content.imageUrl]):(addNotification({type:enums._n.ERROR,message:(0,jsx_runtime.jsx)(atoms.T,{children:message})}),setLoader(esm.nW6.ERROR),[2,""])}})})()},inlineUploadPlaceholderText:"???"}),_obj)}).editor.use(plugin_listener_lib.F_).use(plugin_upload_lib.Se).use(plugin_cursor_lib.Dy).use(plugin_trailing_lib.ZY).config(function(ctx){ctx.get(plugin_listener_lib.Ob).markdownUpdated(function(_,markdown,prevMarkdown){var _onChangeRef_current,fixedMarkdown=normalizeNewlines(markdown);fixedMarkdown!==normalizeNewlines(prevMarkdown)&&(null===(_onChangeRef_current=onChangeRef.current)||void 0===_onChangeRef_current||_onChangeRef_current.call(onChangeRef,fixedMarkdown),currentMd.current=fixedMarkdown)}),ctx.update(plugin_upload_lib.wu.key,function(prev){return _object_spread_props(_object_spread({},prev),{uploader:uploader(setLoader,addNotification),uploadWidgetFactory:function(pos,spec){var dom=document.createElement("span");return prosemirror_view_dist.NZ.widget(pos,dom,spec)}})}),ctx.update(code_block.T4.key,function(defaultConfig){return _object_spread_props(_object_spread({},defaultConfig),{languages:myLanguages,extensions:[(0,basic_setup.o)()].concat(_to_consumable_array(theme===esm.Sxu.DARK?[theme_one_dark_dist.bM]:[defaultLightThemeOption])),previewToggleButton:function(){return"edit"},renderPreview:function(language,content){return"latex"===language.toLowerCase()&&content.length>0?function renderLatex(content,options){return katex.default.renderToString(content,_object_spread_props(_object_spread({},options),{throwOnError:!1,displayMode:!0}))}(content,{}):"dot asimage"===language.toLowerCase()&&content.length>0?function renderDot(content,t){if("undefined"!=typeof document){var container=document.createElement("div"),newId=(0,v4.A)();container.id=newId;var loader=document.createElement("div");return loader.textContent=t("loading graph"),loader.style.fontStyle="italic",container.appendChild(loader),viz.KJ().then(function(viz){try{var container=document.getElementById(newId);container&&(container.innerHTML="",content.split("---").map(function(content){var svg=viz.renderSVGElement(content,{});container.appendChild(svg)}))}catch(error){var container1=document.getElementById(newId);if(container1){container1.innerHTML="";var errorDiv=document.createElement("div");errorDiv.textContent="".concat(t("error rendering graph"),": ").concat((null==error?void 0:error.message)||error),errorDiv.style.color="red",errorDiv.style.whiteSpace="pre-wrap",container1.appendChild(errorDiv)}}}).catch(function(error){var container=document.getElementById(newId);if(container){container.innerHTML="";var errorDiv=document.createElement("div");errorDiv.textContent="".concat(t("error initializing Viz.js"),": ").concat((null==error?void 0:error.message)||error),errorDiv.style.color="red",container.appendChild(errorDiv)}}),container}return null}(content,t):null}})}),ctx.set(core_lib.P5,{bullet:"-"}),ctx.update(plugin_trailing_lib.N9.key,function(prev){return _object_spread_props(_object_spread({},prev),{shouldAppend:function(){return!1}})})})},[triggerRender,theme,t]),(0,jsx_runtime.jsx)("div",{className:"jk-input-milkdown jk-md-math-milkdown-editor jk-md-math wh-100 pn-re jk-br-ie",children:(0,jsx_runtime.jsx)(react_lib.y5,{})})}function TextPlainEditorContent_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function TextPlainEditorContent_ts_generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function TextPlainEditorContent(props){var value=props.value,onChange=props.onChange,setLoader=props.setLoader,enableImageUpload=props.enableImageUpload,textareaRef=(0,react.useRef)(null),addNotification=(0,useJukiNotification.E)().addNotification;return(0,jsx_runtime.jsx)("div",{className:(0,helpers.xW)("jk-md-math-textarea-editor jk-br-ie"),onPaste:enableImageUpload?function(event){return function TextPlainEditorContent_async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){TextPlainEditorContent_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){TextPlainEditorContent_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}(function(){var _event_clipboardData,items,imageFiles,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,item,file,extraText,_iteratorNormalCompletion1,_didIteratorError1,_iteratorError1,_iterator1,_step1,imageFile,_ref,status,message,content,err;return TextPlainEditorContent_ts_generator(this,function(_state){switch(_state.label){case 0:if(!(items=null===(_event_clipboardData=event.clipboardData)||void 0===_event_clipboardData?void 0:_event_clipboardData.items))return[3,9];imageFiles=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(_iterator=items[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)"file"===(item=_step.value).kind&&(file=item.getAsFile())&&file.type.startsWith("image/")&&imageFiles.push(file)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}if(!(imageFiles.length>0))return[3,9];event.stopPropagation(),event.preventDefault(),extraText="",setLoader(esm.nW6.LOADING),_iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0,_state.label=1;case 1:_state.trys.push([1,6,7,8]),_iterator1=imageFiles[Symbol.iterator](),_state.label=2;case 2:return(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done)?[3,5]:(imageFile=_step1.value,[4,(0,helpers.XO)(imageFile,!1)]);case 3:_ref=_state.sent(),status=_ref.status,message=_ref.message,content=_ref.content,status===esm.nW6.SUCCESS?(addNotification({type:enums._n.SUCCESS,message:(0,jsx_runtime.jsx)(atoms.T,{children:message})}),extraText+=(extraText?"\n\n":"")+"![image alt](".concat(content.imageUrl,")")):addNotification({type:enums._n.ERROR,message:(0,jsx_runtime.jsx)(atoms.T,{children:message})}),_state.label=4;case 4:return _iteratorNormalCompletion1=!0,[3,2];case 5:return[3,8];case 6:return err=_state.sent(),_didIteratorError1=!0,_iteratorError1=err,[3,8];case 7:try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}return[7];case 8:setLoader(esm.nW6.NONE),function(insertText){var _textareaRef_current,textarea=textareaRef.current;if(textarea){var _textareaRef_current_value,start=textarea.selectionStart,end=textarea.selectionEnd,text=null!==(_textareaRef_current_value=null===(_textareaRef_current=textareaRef.current)||void 0===_textareaRef_current?void 0:_textareaRef_current.value)&&void 0!==_textareaRef_current_value?_textareaRef_current_value:"",newText=text.substring(0,start)+insertText+text.substring(end);null==onChange||onChange(newText),setTimeout(function(){textarea.selectionStart=textarea.selectionEnd=start+insertText.length},0)}}(extraText),_state.label=9;case 9:return[2]}})})()}:void 0,children:(0,jsx_runtime.jsx)(atoms.fs,{ref:textareaRef,value,onChange:function(value){null==onChange||onChange(value)}})})}function MdMathEditor_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function MdMathEditor_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function MdMathEditor_sliced_to_array(arr,i){return function MdMathEditor_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function MdMathEditor_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||MdMathEditor_unsupported_iterable_to_array(arr,i)||function MdMathEditor_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MdMathEditor_to_consumable_array(arr){return function MdMathEditor_array_without_holes(arr){if(Array.isArray(arr))return MdMathEditor_array_like_to_array(arr)}(arr)||function MdMathEditor_iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||MdMathEditor_unsupported_iterable_to_array(arr)||function MdMathEditor_non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MdMathEditor_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return MdMathEditor_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MdMathEditor_array_like_to_array(o,minLen):void 0}}function MdMathEditor_ts_generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}MilkdownEditorContent.__docgenInfo={description:"",methods:[],displayName:"MilkdownEditorContent",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(md: string) => void",signature:{arguments:[{type:{name:"string"},name:"md"}],return:{name:"void"}}},description:""},value:{required:!0,tsType:{name:"string"},description:""},setLoader:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Status"}],raw:"SetStateAction<Status>"}],raw:"Dispatch<SetStateAction<Status>>"},description:""},enableImageUpload:{required:!0,tsType:{name:"boolean"},description:""}}},TextPlainEditorContent.__docgenInfo={description:"",methods:[],displayName:"TextPlainEditorContent",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},setLoader:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Status"}],raw:"SetStateAction<Status>"}],raw:"Dispatch<SetStateAction<Status>>"},description:""},enableImageUpload:{required:!0,tsType:{name:"boolean"},description:""}}};function IAModalContent(){var _useState=MdMathEditor_sliced_to_array((0,react.useState)(""),2),value=_useState[0],setValue=_useState[1],_useState1=MdMathEditor_sliced_to_array((0,react.useState)([]),2),chat=_useState1[0],setChat=_useState1[1],websocket=(0,useWebsocketStore.q)(function(store){return store.websocket}),connectionId=(0,useWebsocketStore.q)(function(store){return store.connectionId}),sessionId=(0,useUserStore.k)(function(store){return store.user.sessionId}),t=(0,useI18nStore.T)(function(store){return store.i18n.t});return(0,react.useEffect)(function(){var event={event:esm.ad3.SUBSCRIBE_CHAT_COMPLETIONS_DATA,sessionId};return websocket.subscribe(event,function(data){(0,esm.AK0)(data)&&setChat(function(prevState){return MdMathEditor_to_consumable_array(prevState).concat(MdMathEditor_to_consumable_array(data.content.choices.map(function(param){return{content:param.message.content,user:"IA"}})))})}),function(){websocket.unsubscribeAll(event)}},[sessionId,websocket]),(0,jsx_runtime.jsxs)("div",{className:"jk-pg jk-col gap stretch",children:[(0,jsx_runtime.jsx)("h3",{children:(0,jsx_runtime.jsx)(atoms.T,{children:"Juki Redactor Agent"})}),(0,jsx_runtime.jsx)("div",{className:"jk-col gap",children:chat.map(function(chat){return(0,jsx_runtime.jsx)("div",{className:"jk-pg-sm bc-hl jk-br-ie",style:{maxWidth:"60%",whiteSpace:"break-spaces",alignSelf:"IA"===chat.user?"start":"end"},children:chat.content})})}),(0,jsx_runtime.jsxs)("div",{className:"jk-row gap nowrap wh-100 sticky-bottom jk-pg-sm bc-we jk-br-ie stretch",children:[(0,jsx_runtime.jsx)(atoms.fs,{value,onChange:setValue,placeholder:(0,helpers.Zb)(t("ask something"))}),(0,jsx_runtime.jsx)(molecules.mT,{icon:(0,jsx_runtime.jsx)(server.qxZ,{}),onClick:function(setLoader){return function MdMathEditor_async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){MdMathEditor_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){MdMathEditor_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}(function(){var _jukiApiManager_API_V1_ia_chatCompletions,url,options,request,error;return MdMathEditor_ts_generator(this,function(_state){switch(_state.label){case 0:setLoader(esm.nW6.LOADING),_state.label=1;case 1:return _state.trys.push([1,3,,4]),_jukiApiManager_API_V1_ia_chatCompletions=settings.Z.API_V1.ia.chatCompletions({body:{content:value,connectionId}}),url=_jukiApiManager_API_V1_ia_chatCompletions.url,options=_object_without_properties(_jukiApiManager_API_V1_ia_chatCompletions,["url"]),[4,(0,helpers.zb)(url,options)];case 2:return(null==(request=esm.Hu3.apply(void 0,[_state.sent()]))?void 0:request.success)?(setChat(function(prevState){return MdMathEditor_to_consumable_array(prevState).concat([{content:value,user:"USER"}])}),setValue(""),setLoader(esm.nW6.SUCCESS)):((0,esm.OPF)("run code request failed",{request}),setLoader(esm.nW6.ERROR)),[3,4];case 3:return error=_state.sent(),(0,esm.OPF)("error on run code",{error}),setLoader(esm.nW6.ERROR),[3,4];case 4:return[2]}})})()}})]})]})}function Toolbar(param){var enableDownload=param.enableDownload,enableTextPlain=param.enableTextPlain,setMode=param.setMode,mode=param.mode,enableIA=param.enableIA,_useInstance=MdMathEditor_sliced_to_array((0,react_lib.Nj)(),2),getInstance=(_useInstance[0],_useInstance[1]),_useState=MdMathEditor_sliced_to_array((0,react.useState)(!1),2),openModalIA=_useState[0],setOpenModalIA=_useState[1];return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.aF,{isOpen:openModalIA,onClose:function(){return setOpenModalIA(!1)},closeIcon:!0,children:(0,jsx_runtime.jsx)(IAModalContent,{})}),(0,jsx_runtime.jsx)(molecules.GK,{actionButtons:MdMathEditor_to_consumable_array(enableTextPlain?[{icon:"TEXT_PLAIN"===mode?(0,jsx_runtime.jsx)(server.WkB,{}):(0,jsx_runtime.jsx)(server.loI,{}),buttons:[{icon:"TEXT_PLAIN"===mode?(0,jsx_runtime.jsx)(server.WkB,{}):(0,jsx_runtime.jsx)(server.loI,{}),label:"TEXT_PLAIN"===mode?(0,jsx_runtime.jsx)(atoms.T,{children:"WYSIWYG"}):(0,jsx_runtime.jsx)(atoms.T,{children:"view as text plain"}),onClick:function(){return setMode("TEXT_PLAIN"===mode?"WYSIWYG":"TEXT_PLAIN")}}]}]:[]).concat(MdMathEditor_to_consumable_array(enableDownload?[{icon:(0,jsx_runtime.jsx)(server.s3U,{}),buttons:[{icon:(0,jsx_runtime.jsx)(server.s3U,{}),label:(0,jsx_runtime.jsx)(atoms.T,{children:"md"}),onClick:function(){var _getInstance,_getInstance_action;return(0,helpers.IZ)(new Blob([null!==(_getInstance_action=null===(_getInstance=getInstance())||void 0===_getInstance?void 0:_getInstance.action((0,lib.up)()))&&void 0!==_getInstance_action?_getInstance_action:""],{type:"text/plain"}),"file.md")}}]}]:[]),MdMathEditor_to_consumable_array(enableIA?[{icon:(0,jsx_runtime.jsx)(server.myb,{}),buttons:[{icon:(0,jsx_runtime.jsx)(server.myb,{}),label:(0,jsx_runtime.jsx)(atoms.T,{children:"Juki Redactor Agent"}),onClick:function(){return setOpenModalIA(!openModalIA)}}]}]:[])),placement:"rightTop"})]})}function ImageUploader(param){var mode=param.mode,_useInstance=MdMathEditor_sliced_to_array((0,react_lib.Nj)(),2),isLoading=_useInstance[0],getInstance=_useInstance[1],_useState=MdMathEditor_sliced_to_array((0,react.useState)(!1),2),openImageModal=_useState[0],setOpenImageModal=_useState[1];return(0,jsx_runtime.jsx)(ImageUploaderModal.D,{isOpen:openImageModal,onClose:function(){return setOpenImageModal(!1)},copyButtons:!0,onPickImageUrl:function(param){var imageUrl=param.imageUrl;if("TEXT_PLAIN"===mode);else if("WYSIWYG"===mode){if(isLoading)return;var editor=getInstance();if(!editor)return;editor.action((0,lib.Yr)("![image](".concat(imageUrl,")"))),setOpenImageModal(!1)}}})}function MdMathEditor(param){var value=param.value,onChange=param.onChange,className=param.className,_param_enableTextPlain=param.enableTextPlain,enableTextPlain=void 0!==_param_enableTextPlain&&_param_enableTextPlain,_param_enableDownload=param.enableDownload,enableDownload=void 0!==_param_enableDownload&&_param_enableDownload,_param_enableImageUpload=param.enableImageUpload,enableImageUpload=void 0!==_param_enableImageUpload&&_param_enableImageUpload,_param_enableIA=param.enableIA,enableIA=void 0!==_param_enableIA&&_param_enableIA,_useState=MdMathEditor_sliced_to_array((0,react.useState)(esm.nW6.NONE),2),loader=_useState[0],setLoader=_useState[1],_useState1=MdMathEditor_sliced_to_array((0,react.useState)("WYSIWYG"),2),mode=_useState1[0],setMode=_useState1[1];return(0,jsx_runtime.jsx)(react_lib.pb,{children:(0,jsx_runtime.jsxs)("div",{className:(0,helpers.xW)("jk-md-math-editor wh-100 pn-re",className),children:[loader===esm.nW6.LOADING&&(0,jsx_runtime.jsx)(server.QdK,{}),loader===esm.nW6.LOADING&&(0,jsx_runtime.jsxs)("div",{className:"jk-loader-layer pn-ae jk-col",children:[(0,jsx_runtime.jsx)("div",{className:"jk-loader-layer pn-ae jk-overlay-backdrop",style:{opacity:.8,zIndex:1}}),(0,jsx_runtime.jsx)("div",{className:"jk-row",style:{zIndex:1,position:"sticky",margin:"0 auto",top:0,bottom:"50%",transform:"translate(0, 100%)"},children:(0,jsx_runtime.jsxs)("div",{className:"jk-row bc-we jk-pg-sm jk-br-ie",style:{alignItems:"baseline"},children:[(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"uploading images"}),"  ",(0,jsx_runtime.jsx)("div",{className:"dot-flashing"})]})})]}),(0,jsx_runtime.jsx)(Toolbar,{enableTextPlain,enableDownload,enableIA,setMode,mode}),(0,jsx_runtime.jsx)(ImageUploader,{mode}),"WYSIWYG"===mode&&(0,jsx_runtime.jsx)(MilkdownEditorContent,{value,onChange,setLoader,enableImageUpload}),"TEXT_PLAIN"===mode&&(0,jsx_runtime.jsx)(TextPlainEditorContent,{value,onChange,setLoader,enableImageUpload})]})})}MdMathEditor.__docgenInfo={description:"",methods:[],displayName:"MdMathEditor",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},informationButton:{required:!1,tsType:{name:"boolean"},description:""},enableTextPlain:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},enableImageUpload:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},enableDownload:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},enableIA:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}}}}]);