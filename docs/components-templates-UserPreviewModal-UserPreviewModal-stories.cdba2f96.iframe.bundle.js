"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[18231,93531],{"./src/components/templates/UserPreviewModal/UserPreviewContentModal/UserPreviewContentModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>UserPreviewContentModal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_hooks_useJukiUI__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/hooks/useJukiUI.tsx"),_settings__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/settings/index.ts"),_atoms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/atoms/index.tsx"),_molecules__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/molecules/index.tsx"),_server__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/server/index.ts"),_UserProfile_UserProfileDataContent__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/templates/UserProfile/UserProfileDataContent.tsx");const UserPreview=_ref=>{let{user,onClose,userHref}=_ref;const{components:{Image,Link}}=(0,_hooks_useJukiUI__WEBPACK_IMPORTED_MODULE_1__.p)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"jk-pg-md jk-col stretch gap"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"jk-row center gap"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(Image,{src:null==user?void 0:user.imageUrl,className:"jk-user-profile-img elevation-1",alt:null==user?void 0:user.nickname,height:100,width:100}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_UserProfile_UserProfileDataContent__WEBPACK_IMPORTED_MODULE_6__.UserProfileDataContent,{user})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"jk-row-col gap block stretch"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_molecules__WEBPACK_IMPORTED_MODULE_4__.mT,{size:"small",type:"light",onClick:onClose},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"tt-se"},"close")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Link,{href:userHref,target:"_blank",rel:"noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.$n,{size:"small",expand:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"jk-row nowrap gap"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"ws-np tt-se"},"see profile"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_server__WEBPACK_IMPORTED_MODULE_5__.PHA,null))))))},UserPreviewContentModal=_ref2=>{let{isOpen,nickname,companyKey,onClose,userHref}=_ref2;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.aF,{isOpen,onClose,className:"modal-user-preview"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_molecules__WEBPACK_IMPORTED_MODULE_4__.pW,{url:_settings__WEBPACK_IMPORTED_MODULE_2__.Z.API_V1.user.getSummary({params:{nickname,companyKey}}).url,onError:onClose},_ref3=>{let{data}=_ref3;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(UserPreview,{user:null==data?void 0:data.content,onClose,userHref})}))};UserPreview.__docgenInfo={description:"",methods:[],displayName:"UserPreview",props:{user:{required:!0,tsType:{name:"UserBasicResponseDTO"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},userHref:{required:!0,tsType:{name:"string"},description:""}}},UserPreviewContentModal.__docgenInfo={description:"",methods:[],displayName:"UserPreviewContentModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"T"},description:""},nickname:{required:!0,tsType:{name:"string"},description:""},companyKey:{required:!1,tsType:{name:"string"},description:""},userHref:{required:!0,tsType:{name:"string"},description:""}}}},"./src/components/templates/UserPreviewModal/UserPreviewModal.stories.tsx":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.a(module,async(__webpack_handle_async_dependencies__,__webpack_async_result__)=>{try{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UserPreviewModal:()=>UserPreviewModal,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_hooks_useCheckAndStartServices__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/hooks/useCheckAndStartServices.ts"),_atoms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/index.tsx"),_mockup__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/mockup/index.ts"),_UserPreviewContentModal_UserPreviewContentModal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/templates/UserPreviewModal/UserPreviewContentModal/UserPreviewContentModal.tsx"),__webpack_async_dependencies__=__webpack_handle_async_dependencies__([_mockup__WEBPACK_IMPORTED_MODULE_3__]),__webpack_async_dependencies_result__=__webpack_async_dependencies__.then?(await __webpack_async_dependencies__)():__webpack_async_dependencies__;_mockup__WEBPACK_IMPORTED_MODULE_3__=__webpack_async_dependencies_result__[0];const __WEBPACK_DEFAULT_EXPORT__={component:_UserPreviewContentModal_UserPreviewContentModal__WEBPACK_IMPORTED_MODULE_4__.S},UserPreviewModal=()=>{const[open,setOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,_hooks_useCheckAndStartServices__WEBPACK_IMPORTED_MODULE_1__.n)(),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mockup__WEBPACK_IMPORTED_MODULE_3__.Ag,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"jk-pg-lg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_UserPreviewContentModal_UserPreviewContentModal__WEBPACK_IMPORTED_MODULE_4__.S,{isOpen:open,userHref:"#",onClose:()=>setOpen(!1),nickname:"OscarGauss",companyKey:"juki-app"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_2__.$n,{onClick:()=>setOpen(!0)},"open")))},__namedExportsOrder=["UserPreviewModal"];UserPreviewModal.parameters={...UserPreviewModal.parameters,docs:{...UserPreviewModal.parameters?.docs,source:{originalSource:'() => {\n  const [open, setOpen] = useState(false);\n  useCheckAndStartServices();\n  return <MockupJukiProvider>\n      <div className="jk-pg-lg">\n        <UserPreviewModalCmp isOpen={open} userHref={\'#\'} onClose={() => setOpen(false)} nickname="OscarGauss" companyKey="juki-app" />\n        <Button onClick={() => setOpen(true)}>open</Button>\n      </div>\n    </MockupJukiProvider>;\n}',...UserPreviewModal.parameters?.docs?.source}}},__webpack_async_result__()}catch(e){__webpack_async_result__(e)}})},"./src/components/templates/UserProfile/UserProfileDataContent.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UserProfileDataContent:()=>UserProfileDataContent});var _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/index.ts"),_hooks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/index.ts"),_settings__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/settings/index.ts"),_atoms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/atoms/index.tsx"),_atoms_server__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/atoms/server/index.ts");const UserProfileDataContent=_ref=>{var _user$city,_user$country,_user$institution;let{user,className}=_ref;const{components:{Image,Link}}=(0,_hooks__WEBPACK_IMPORTED_MODULE_3__.p1)(),{data}=(0,_hooks__WEBPACK_IMPORTED_MODULE_3__.Ls)(_settings__WEBPACK_IMPORTED_MODULE_4__.Z.API_V1.judge.getSummaryList().url);return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:(0,_helpers__WEBPACK_IMPORTED_MODULE_2__.xW)("jk-col stretch",className)},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-col stretch"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row left gap nowrap"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("h3",{className:"fl-tt-il"},null==user?void 0:user.nickname),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_5__.$r,{text:null==user?void 0:user.nickname,size:"small"})),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"cr-g3"},null==user?void 0:user.givenName," ",null==user?void 0:user.familyName),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"cr-g1"},null==user?void 0:user.aboutMe)),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-divider tiny"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-col gap stretch"},((null==user||null===(_user$city=user.city)||void 0===_user$city?void 0:_user$city.trim())||(null==user||null===(_user$country=user.country)||void 0===_user$country?void 0:_user$country.trim()))&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row left gap"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms_server__WEBPACK_IMPORTED_MODULE_6__.Sfg,null),null==user?void 0:user.city,(null==user?void 0:user.city)&&","," ",null==user?void 0:user.country),(null==user||null===(_user$institution=user.institution)||void 0===_user$institution?void 0:_user$institution.trim())&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row left gap nowrap wb-ba"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms_server__WEBPACK_IMPORTED_MODULE_6__.wPO,null),null==user?void 0:user.institution),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row left gap nowrap wb-ba"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms_server__WEBPACK_IMPORTED_MODULE_6__.r4D,null),null==user?void 0:user.email)),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-divider tiny"}),Object.entries((null==user?void 0:user.handles)||{}).filter(_ref2=>{let[judge,nickname]=_ref2;return!!nickname&&!!_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.aQp[judge]}).map(_ref3=>{var _data$contents$find,_JUDGE,_JUDGE2;let[judge,nickname]=_ref3;const getProfileUrl=null!=data&&data.success?null===(_data$contents$find=data.contents.find(_ref4=>{let{key}=_ref4;return key===judge}))||void 0===_data$contents$find?void 0:_data$contents$find.getProfileUrl:"",externalUrl=new Function("userNickname",getProfileUrl||"return ''")(nickname);let[w,h]=(null===(_JUDGE=_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.aQp[judge])||void 0===_JUDGE?void 0:_JUDGE.logoSize)||[1,1],height=64/w*h,width=64;return height>32&&(height=32,width=32/h*w),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-col left gap block stretch",key:judge},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row gap"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:{width:64},className:"jk-row"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(Image,{src:null===(_JUDGE2=_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.aQp[judge])||void 0===_JUDGE2?void 0:_JUDGE2.logo,alt:judge,height,width})),externalUrl?react__WEBPACK_IMPORTED_MODULE_1__.createElement(Link,{href:externalUrl,target:"_blank",rel:"noopener noreferrer",className:"link"},nickname):nickname))}))};UserProfileDataContent.__docgenInfo={description:"",methods:[],displayName:"UserProfileDataContent",props:{user:{required:!0,tsType:{name:"UserBasicResponseDTO"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}}}}]);