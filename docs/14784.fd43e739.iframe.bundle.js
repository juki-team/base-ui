"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[14784],{"./src/components/organisms/Graphviz/GraphvizEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GraphvizEditor:()=>GraphvizEditor});var react=__webpack_require__("./node_modules/react/index.js"),useResizeDetector=__webpack_require__("./node_modules/react-resize-detector/build/useResizeDetector.js"),constants=__webpack_require__("./src/constants/index.ts"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),server=__webpack_require__("./src/components/atoms/server/index.ts"),molecules=__webpack_require__("./src/components/molecules/index.tsx"),Graphviz=__webpack_require__("./src/components/organisms/Graphviz/Graphviz/Graphviz.tsx"),graphlib_dot=__webpack_require__("./node_modules/graphlib-dot/index.js");const GraphvizEditor=_ref=>{let{value,onSave}=_ref;const{ref,width=0}=(0,useResizeDetector.A)(constants.fV),{dot,error}=(value=>{const[error,setError]=(0,react.useState)(""),[dot,setDot]=(0,react.useState)("graph {}");return(0,react.useEffect)(()=>{try{(0,graphlib_dot.read)(value),setDot(value),setError("")}catch(err){setError("Parse Error: ".concat(err.message))}},[value]),{dot,error}})(value);return react.createElement("div",{className:"jk-graph-editor-modal jk-col nowrap gap stretch wh-100"},react.createElement(molecules.vh,{style:{height:"calc(".concat(24*((null==value?void 0:value.split("\n").length)||1),"px + var(--pad-sm) * 3 + 24px + 8px)")}},react.createElement("div",{className:"jk-col jk-pg-xsm ht-100"},error?react.createElement(atoms.AM,{content:react.createElement("div",{className:"jk-tag bc-er",style:{maxWidth:128}},error)},react.createElement("div",{className:"jk-row"},react.createElement(server.IJR,{className:"cr-er"}))):react.createElement("div",{className:"jk-row"},react.createElement(server.Srz,{className:"cr-ss"})),react.createElement(atoms.fs,{value,onChange:onSave,className:"ws-np flex-1"})),react.createElement("div",{className:"jk-row",style:{overflow:"auto"},ref},react.createElement(Graphviz.i,{dot,className:"jk-graph",options:{width:width-20}}))))};GraphvizEditor.__docgenInfo={description:"",methods:[],displayName:"GraphvizEditor",props:{value:{required:!0,tsType:{name:"string"},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(newValue: string) => void",signature:{arguments:[{type:{name:"string"},name:"newValue"}],return:{name:"void"}}},description:""}}}},"./src/components/organisms/Graphviz/GraphvizEditorModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GraphvizEditorModal:()=>GraphvizEditorModal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/index.ts"),_atoms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/index.tsx"),_server__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/server/index.ts"),_GraphvizEditor__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/organisms/Graphviz/GraphvizEditor.tsx"),_GraphvizViewer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/organisms/Graphviz/GraphvizViewer.tsx");const GraphvizEditorModal=_ref=>{let{value,onChange,className,width,height}=_ref;const[open,setOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_helpers__WEBPACK_IMPORTED_MODULE_1__.xW)("jk-row nowrap center jk-graphviz-editor-container",className),style:{position:"relative"}},onChange&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_2__.$n,{onClick:()=>setOpen(!0),style:{},icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_server__WEBPACK_IMPORTED_MODULE_3__.qUP,null),className:"float-top-right pad-t"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_GraphvizViewer__WEBPACK_IMPORTED_MODULE_5__.GraphvizViewer,{value,width,height}),onChange&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_2__.aF,{isOpen:open,onClose:()=>setOpen(!1)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_GraphvizEditor__WEBPACK_IMPORTED_MODULE_4__.GraphvizEditor,{value,onSave:onChange})))};GraphvizEditorModal.__docgenInfo={description:"",methods:[],displayName:"GraphvizEditorModal",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(newValue: string) => void",signature:{arguments:[{type:{name:"string"},name:"newValue"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"number"},description:""},height:{required:!1,tsType:{name:"number"},description:""}}}}}]);