"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[14357,67976,76196,79784,92245,99174],{"./src/components/organisms/Graphviz/GraphvizEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GraphvizEditor:()=>GraphvizEditor});var react=__webpack_require__("./node_modules/react/index.js"),useResizeDetector=__webpack_require__("./node_modules/react-resize-detector/build/useResizeDetector.js"),constants=__webpack_require__("./src/constants/index.ts"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),server=__webpack_require__("./src/components/atoms/server/index.ts"),molecules=__webpack_require__("./src/components/molecules/index.tsx"),Graphviz=__webpack_require__("./src/components/organisms/Graphviz/Graphviz/Graphviz.tsx"),graphlib_dot=__webpack_require__("./node_modules/graphlib-dot/index.js");const GraphvizEditor=_ref=>{let{value,onSave}=_ref;const{ref,width=0}=(0,useResizeDetector.A)(constants.fV),{dot,error}=(value=>{const[error,setError]=(0,react.useState)(""),[dot,setDot]=(0,react.useState)("graph {}");return(0,react.useEffect)(()=>{try{(0,graphlib_dot.read)(value),setDot(value),setError("")}catch(err){setError("Parse Error: ".concat(err.message))}},[value]),{dot,error}})(value);return react.createElement("div",{className:"jk-graph-editor-modal jk-col nowrap gap stretch wh-100"},react.createElement(molecules.vh,{style:{height:"calc(".concat(24*((null==value?void 0:value.split("\n").length)||1),"px + var(--pad-sm) * 3 + 24px + 8px)")}},react.createElement("div",{className:"jk-col jk-pg-xsm ht-100"},error?react.createElement(atoms.AM,{content:react.createElement("div",{className:"jk-tag bc-er",style:{maxWidth:128}},error)},react.createElement("div",{className:"jk-row"},react.createElement(server.IJR,{className:"cr-er"}))):react.createElement("div",{className:"jk-row"},react.createElement(server.Srz,{className:"cr-ss"})),react.createElement(atoms.fs,{value,onChange:onSave,className:"ws-np flex-1"})),react.createElement("div",{className:"jk-row",style:{overflow:"auto"},ref},react.createElement(Graphviz.i,{dot,className:"jk-graph",options:{width:width-20}}))))};GraphvizEditor.__docgenInfo={description:"",methods:[],displayName:"GraphvizEditor",props:{value:{required:!0,tsType:{name:"string"},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(newValue: string) => void",signature:{arguments:[{type:{name:"string"},name:"newValue"}],return:{name:"void"}}},description:""}}}},"./src/components/organisms/ImageUploader/ImageUploaderModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ImageUploaderModal:()=>ImageUploaderModal});var react=__webpack_require__("./node_modules/react/index.js"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),molecules=__webpack_require__("./src/components/molecules/index.tsx"),server=__webpack_require__("./src/components/server/index.ts"),settings=__webpack_require__("./src/settings/index.ts"),helpers=__webpack_require__("./src/helpers/index.ts"),useJukiNotification=__webpack_require__("./src/hooks/useJukiNotification.tsx"),types=__webpack_require__("./src/types/index.ts");const PublicImages=props=>{const{copyButtons,onPickImageUrl,publicImages}=props,{addNotification}=(0,useJukiNotification.E)();return react.createElement("div",{className:"public-images-tab jk-row"},publicImages.map((publicImage,index)=>react.createElement("div",{className:"thumbnail",key:publicImage.imageUrl},react.createElement("img",{src:publicImage.imageThumbnailUrl+"?v=".concat((new Date).getTime()),alt:"image "+index}),react.createElement(molecules.GK,{actionButtons:[...copyButtons?[{icon:react.createElement(server.c8I,null),buttons:[{icon:react.createElement(server.c8I,{size:"small"}),label:react.createElement(atoms.T,null,"URL"),onClick:()=>{(0,helpers.C)(publicImage.imageUrl),addNotification({type:types.NotificationType.QUIET,message:react.createElement(atoms.T,null,"copied")})}},{icon:react.createElement(server.c8I,null),label:react.createElement(atoms.T,null,"MD"),onClick:()=>{(0,helpers.C)("![image alt](".concat(publicImage.imageUrl,")")),addNotification({type:types.NotificationType.QUIET,message:react.createElement(atoms.T,null,"copied")})}}]}]:[],...onPickImageUrl?[{icon:react.createElement(server.Srz,null),buttons:[{icon:react.createElement(server.Srz,{size:"small"}),label:react.createElement(atoms.T,null,"pick"),onClick:()=>{onPickImageUrl(publicImage),addNotification({type:types.NotificationType.QUIET,message:react.createElement(atoms.T,null,"picked")})}}]}]:[]]}))))};PublicImages.__docgenInfo={description:"",methods:[],displayName:"PublicImages",props:{copyButtons:{required:!1,tsType:{name:"boolean"},description:""},onPickImageUrl:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { imageThumbnailUrl: string, imageUrl: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ imageThumbnailUrl: string, imageUrl: string }",signature:{properties:[{key:"imageThumbnailUrl",value:{name:"string",required:!0}},{key:"imageUrl",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"void"}}},description:""},publicImages:{required:!0,tsType:{name:"Array",elements:[{name:"ImageSummaryResponseDTO"}],raw:"ImageSummaryResponseDTO[]"},description:""}}};const PublicImagesTab=props=>react.createElement(molecules.pW,{url:settings.Z.API_V1.image.getPublicList().url,triggerFetch:props.trigger},_ref=>{let{data:{contents}}=_ref;return react.createElement(PublicImages,{publicImages:contents,copyButtons:props.copyButtons,onPickImageUrl:props.onPickImageUrl})});PublicImagesTab.__docgenInfo={description:"",methods:[],displayName:"PublicImagesTab",props:{trigger:{required:!0,tsType:{name:"number"},description:""},copyButtons:{required:!1,tsType:{name:"boolean"},description:""},onPickImageUrl:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { imageThumbnailUrl: string, imageUrl: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ imageThumbnailUrl: string, imageUrl: string }",signature:{properties:[{key:"imageThumbnailUrl",value:{name:"string",required:!0}},{key:"imageUrl",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"void"}}},description:""}}};var esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js");const UploadNewImageTab=(0,react.memo)(_ref=>{let{copyButtons,onPickImageUrl,onUploadedImage}=_ref;const[imagePublicUrl,setImagePublicUrl]=(0,react.useState)(""),[cropImage,setCropImage]=(0,react.useState)(),[isPublic,setIsPublic]=(0,react.useState)(!1),{addNotification}=(0,useJukiNotification.E)();return react.createElement("div",{className:"upload-new-image-tab jk-col top gap"},imagePublicUrl&&react.createElement("div",{className:"jk-col left"},copyButtons&&react.createElement(react.Fragment,null,react.createElement("div",{className:"jk-row gap left fw-bd"},react.createElement(atoms.T,null,"public url"),":",react.createElement("div",{className:"copyable jk-row"},react.createElement("a",{href:imagePublicUrl,className:"link",target:"_blank",rel:"noreferrer"},imagePublicUrl),react.createElement(atoms.$r,{text:imagePublicUrl,size:"small"}))),react.createElement("div",{className:"jk-row gap left fw-bd"},react.createElement(atoms.T,null,"markdown use"),":",react.createElement("div",{className:"copyable jk-row"},react.createElement("span",{className:"tx-t fw-bd"},"![image alt](",imagePublicUrl,")"),react.createElement(atoms.$r,{text:"![image alt](".concat(imagePublicUrl,")"),size:"small"})))),onPickImageUrl&&react.createElement(atoms.$n,{onClick:()=>onPickImageUrl({imageUrl:imagePublicUrl,imageThumbnailUrl:imagePublicUrl.replace("https://images.juki.pub/o/","https://images.juki.pub/t/")}),size:"small",expand:!0},react.createElement(atoms.T,null,"pick"))),react.createElement(atoms.JN,{checked:isPublic,leftLabel:react.createElement(atoms.T,{className:(0,helpers.xW)("tt-se",{"fw-bd":!isPublic})},"not public"),rightLabel:react.createElement(atoms.T,{className:(0,helpers.xW)("tt-se",{"fw-bd":isPublic})},"public"),onChange:setIsPublic}),react.createElement(molecules.mT,{onClick:async setLoader=>{if(null!=cropImage&&cropImage.previewCanvasRef.current){const blob=await(0,helpers.ZR)(cropImage.previewCanvasRef.current);if(blob){null==setLoader||setLoader(esm.nW6.LOADING);const{status,message,content}=await(0,helpers.XO)(blob,isPublic);status===esm.nW6.SUCCESS?(addNotification({type:types.NotificationType.SUCCESS,message:react.createElement(atoms.T,null,message)}),null==setLoader||setLoader(esm.nW6.SUCCESS),setImagePublicUrl(content.imageUrl),onUploadedImage()):(addNotification({type:types.NotificationType.ERROR,message:react.createElement(atoms.T,null,message)}),null==setLoader||setLoader(esm.nW6.ERROR))}}},disabled:!cropImage||!(null!=cropImage&&cropImage.previewCanvasRef.current),size:"small"},react.createElement(atoms.T,null,"upload image")),react.createElement(molecules.MI,{onCropChange:setCropImage,withAspect:!0,withRotate:!0,withScale:!0}))});UploadNewImageTab.__docgenInfo={description:"",methods:[],displayName:"UploadNewImageTab",props:{copyButtons:{required:!1,tsType:{name:"boolean"},description:""},onPickImageUrl:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { imageThumbnailUrl: string, imageUrl: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ imageThumbnailUrl: string, imageUrl: string }",signature:{properties:[{key:"imageThumbnailUrl",value:{name:"string",required:!0}},{key:"imageUrl",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"void"}}},description:""},onUploadedImage:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ImageUploaderModal=props=>{const{isOpen,onClose,withPublicImagesTab=!0,copyButtons,onPickImageUrl}=props,[count,setCount]=(0,react.useState)(0),tabHeaders=[];return withPublicImagesTab&&tabHeaders.push({key:"public-images",header:react.createElement(react.Fragment,null,react.createElement(atoms.T,{className:"tt-se"},"public images"),react.createElement(atoms.$n,{icon:react.createElement(server.fNY,null),size:"small",type:"light",onClick:()=>setCount(count+1)})),body:react.createElement(PublicImagesTab,{trigger:count,key:"public-images-tab",copyButtons,onPickImageUrl})}),tabHeaders.push({key:"upload-new-image",header:react.createElement(atoms.T,{className:"tt-se"},"upload new image"),body:react.createElement(UploadNewImageTab,{key:"upload-new-image-tab",copyButtons,onPickImageUrl,onUploadedImage:()=>setCount(count+1)})}),react.createElement(atoms.aF,{isOpen,onClose,className:"modal-upload-image"},react.createElement("div",null,react.createElement(molecules.tU,{tabs:tabHeaders})))};ImageUploaderModal.__docgenInfo={description:"",methods:[],displayName:"ImageUploaderModal",props:{withPublicImagesTab:{required:!1,tsType:{name:"boolean"},description:""},copyButtons:{required:!1,tsType:{name:"boolean"},description:""},onPickImageUrl:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { imageThumbnailUrl: string, imageUrl: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ imageThumbnailUrl: string, imageUrl: string }",signature:{properties:[{key:"imageThumbnailUrl",value:{name:"string",required:!0}},{key:"imageUrl",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"void"}}},description:""}},composes:["ModalProps"]}},"./src/components/organisms/ProblemSelector/ProblemSelector.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ProblemSelector:()=>ProblemSelector});var _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/index.ts"),_hooks_useFetcher__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/useFetcher.ts"),_hooks_useJukiNotification__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/hooks/useJukiNotification.tsx"),_settings__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/settings/index.ts"),_atoms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/atoms/index.tsx"),_molecules__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/molecules/index.tsx"),_server__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/server/index.ts");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const ProblemSelector=_ref=>{var _data$judge$key,_data$judge$key2;let{onSelect,extend=!1,companyKey=""}=_ref;const[judge,setJudge]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[key,setKey]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[data,setData]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}),{notifyResponse}=(0,_hooks_useJukiNotification__WEBPACK_IMPORTED_MODULE_4__.E)(),[timestampTrigger,setTimestampTrigger]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),{data:judgesData}=(0,_hooks_useFetcher__WEBPACK_IMPORTED_MODULE_3__.L)(_settings__WEBPACK_IMPORTED_MODULE_5__.Z.API_V1.company.getJudgeList({params:{companyKey}}).url),judges=null!=judgesData&&judgesData.success?judgesData.content:[],firstJudge=judges[0];(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{!judge&&firstJudge&&setJudge(firstJudge)},[firstJudge,judge]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{setKey(""),(async()=>{if(judge){setData(prevState=>{var _prevState$judge$key;return _objectSpread(_objectSpread({},prevState),{},{[judge.key]:{problems:(null===(_prevState$judge$key=prevState[judge.key])||void 0===_prevState$judge$key?void 0:_prevState$judge$key.problems)||[],loading:!0}})});const{url}=_settings__WEBPACK_IMPORTED_MODULE_5__.Z.API_V1.problem.getBasicSummaryList({params:{page:1,pageSize:1e5,filterUrl:"judgeKeys=".concat(judge.key)}}),response=(0,_helpers__WEBPACK_IMPORTED_MODULE_2__.Hu)(await(0,_helpers__WEBPACK_IMPORTED_MODULE_2__.zb)(url)),problems=response.success&&response.contents||[];setData(prevState=>_objectSpread(_objectSpread({},prevState),{},{[judge.key]:{problems,loading:!1}}))}})()},[judge,timestampTrigger]);const select=react__WEBPACK_IMPORTED_MODULE_1__.createElement(_molecules__WEBPACK_IMPORTED_MODULE_7__.mT,{onClick:async setLoaderStatus=>{setLoaderStatus(_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.nW6.LOADING);const{url}=_settings__WEBPACK_IMPORTED_MODULE_5__.Z.API_V1.problem.getSummary({params:{key}}),response=(0,_helpers__WEBPACK_IMPORTED_MODULE_2__.Hu)(await(0,_helpers__WEBPACK_IMPORTED_MODULE_2__.zb)(url));response.success?(onSelect(response.content),setLoaderStatus(_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.nW6.SUCCESS)):notifyResponse(response,setLoaderStatus)},size:"tiny",icon:react__WEBPACK_IMPORTED_MODULE_1__.createElement(_server__WEBPACK_IMPORTED_MODULE_8__.s3U,null),disabled:!((null==judge?void 0:judge.key)===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.IhU.CODEFORCES?{valid:2!==key.split("-").filter(cad=>!!cad).length}:!1===(null==judge?void 0:judge.isExternal)||(null==judge?void 0:judge.key)===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.IhU.JUKI_JUDGE||(null==judge?void 0:judge.key)===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.IhU.JV_UMSA?{valid:!!key}:{valid:!1}).valid},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_6__.T,null,"select"));return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:(0,_helpers__WEBPACK_IMPORTED_MODULE_2__.xW)("jk-row-col gap nowrap",{extend})},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-col gap extend flex-1"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row nowrap gap"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("label",{className:"jk-row nowrap"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_6__.T,{className:"tt-se ws-np fw-bd"},"judge"),": ",react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_6__.l6,{options:judges.map(judge=>({label:judge.name,value:judge})),selectedOption:{value:judge},onChange:_ref2=>{let{value}=_ref2;return setJudge(value)}})),(!1===(null==judge?void 0:judge.isExternal)||(null==judge?void 0:judge.key)===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.IhU.JUKI_JUDGE||(null==judge?void 0:judge.key)===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.IhU.JV_UMSA)&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_6__.pd,{labelPlacement:"left",label:react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_6__.T,{className:"tt-se ws-np"},"key"),size:6,value:key,onChange:value=>setKey(value)}),select),(null==judge?void 0:judge.key)===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.IhU.CODEFORCES&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_6__.pd,{labelPlacement:"left",label:react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_6__.T,{className:"tt-se ws-np fw-bd"},"contest id"),size:6,value:key.split("-")[0]||"",onChange:value=>setKey("".concat(value,"-").concat(key.split("-")[1]||""))}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_6__.pd,{labelPlacement:"left",label:react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_6__.T,{className:"tt-se ws-np fw-bd"},"index"),size:"auto",value:key.split("-")[1]||"",onChange:value=>setKey("".concat(key.split("-")[0]||"","-").concat(value))}),select)),judge&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row extend gap"},null!==(_data$judge$key=data[judge.key])&&void 0!==_data$judge$key&&null!==(_data$judge$key=_data$judge$key.problems)&&void 0!==_data$judge$key&&_data$judge$key.length?react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row flex-1"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_molecules__WEBPACK_IMPORTED_MODULE_7__.IO,{options:data[judge.key].problems.map(problem=>{var _problem$tags,_problem$tags2;return{label:react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row stretch gap nowrap jk-pg-xsm-tb left ht-100"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-col gap"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:"fw-br cr-py"},problem.key),react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{style:{fontFamily:"monospace"},className:"tx-t"},problem.shortname)),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-col stretch"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row gap left"},problem.name,react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-tag bc-il cr-we tx-t"},_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.hcK[problem.settings.type].label)),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row left gap tx-s"},null===(_problem$tags=problem.tags)||void 0===_problem$tags?void 0:_problem$tags.map(tag=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-tag bc-hl",key:tag},tag))))),inputLabel:react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null,problem.key," ",problem.name," ",null===(_problem$tags2=problem.tags)||void 0===_problem$tags2?void 0:_problem$tags2.map(tag=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-tag bc-g6",key:tag},tag))),value:problem}}),selectedOptions:[].map(user=>({value:user})),onChange:options=>options[0]?onSelect(_objectSpread({},options[0].value)):null,optionsPlacement:"bottom",expand:!0,rowHeightOption:72,onFilter:_ref3=>{let{search,option}=_ref3;const text=search.toLowerCase();return option.value.name.toLowerCase().indexOf(text)>-1||option.value.key.toLowerCase().indexOf(text)>-1||option.value.tags.some(tag=>tag.toLowerCase().indexOf(text)>-1)},multiselect:!1})):react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row flex-1",style:{height:34}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_6__.T,{className:"tt-se"},"no problems")),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_molecules__WEBPACK_IMPORTED_MODULE_7__.mT,{type:"light",tooltipContent:"reload",icon:null!==(_data$judge$key2=data[judge.key])&&void 0!==_data$judge$key2&&_data$judge$key2.loading?react__WEBPACK_IMPORTED_MODULE_1__.createElement(_server__WEBPACK_IMPORTED_MODULE_8__.Gcs,null):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_server__WEBPACK_IMPORTED_MODULE_8__.fNY,null),onClick:()=>setTimestampTrigger(Date.now())}))))};ProblemSelector.__docgenInfo={description:"",methods:[],displayName:"ProblemSelector",props:{extend:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(selectedUsers: ProblemBasicSummaryListResponseDTO) => void",signature:{arguments:[{type:{name:"ProblemBasicSummaryListResponseDTO"},name:"selectedUsers"}],return:{name:"void"}}},description:""},companyKey:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}}}}},"./src/components/organisms/mdMath/MdFloatToolbar/MdFloatToolbar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>MdFloatToolbar});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/index.ts"),_atoms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/index.tsx"),_molecules__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/molecules/index.tsx"),_server__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/server/index.ts");const MdFloatToolbar=_ref=>{let{source,edit,onEdit,download}=_ref;const actionButtons=[];return edit&&onEdit&&actionButtons.push({icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_server__WEBPACK_IMPORTED_MODULE_4__.qUP,null),buttons:[{icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_server__WEBPACK_IMPORTED_MODULE_4__.qUP,null),label:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_2__.T,null,"edit"),onClick:onEdit}]}),download&&actionButtons.push({icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_server__WEBPACK_IMPORTED_MODULE_4__.s3U,null),buttons:[{icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_server__WEBPACK_IMPORTED_MODULE_4__.PHA,null),label:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_2__.T,null,"md"),onClick:()=>(0,_helpers__WEBPACK_IMPORTED_MODULE_1__.IZ)(new Blob([source],{type:"text/plain"}),"file.md")}]}),actionButtons.length?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_molecules__WEBPACK_IMPORTED_MODULE_3__.GK,{actionButtons,placement:"rightTop"}):null};MdFloatToolbar.__docgenInfo={description:"",methods:[],displayName:"MdFloatToolbar",props:{source:{required:!0,tsType:{name:"string"},description:""},edit:{required:!1,tsType:{name:"boolean"},description:""},onEdit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},download:{required:!1,tsType:{name:"boolean"},description:""}}}},"./src/components/organisms/mdMath/MdMathEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MdMathEditor:()=>MdMathEditor});var esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),lib=__webpack_require__("./node_modules/@milkdown/utils/lib/index.js"),react_lib=__webpack_require__("./node_modules/@milkdown/react/lib/index.js"),react=__webpack_require__("./node_modules/react/index.js"),helpers=__webpack_require__("./src/helpers/index.ts"),settings=__webpack_require__("./src/settings/index.ts"),useI18nStore=__webpack_require__("./src/stores/i18n/useI18nStore.ts"),useUserStore=__webpack_require__("./src/stores/user/useUserStore.ts"),useWebsocketStore=__webpack_require__("./src/stores/websocket/useWebsocketStore.ts"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),server=__webpack_require__("./src/components/atoms/server/index.ts"),molecules=__webpack_require__("./src/components/molecules/index.tsx"),ImageUploaderModal=__webpack_require__("./src/components/organisms/ImageUploader/ImageUploaderModal.tsx"),dist=__webpack_require__("./node_modules/@codemirror/language/dist/index.js"),language_data_dist=__webpack_require__("./node_modules/@codemirror/language-data/dist/index.js"),stex=__webpack_require__("./node_modules/@codemirror/legacy-modes/mode/stex.js"),theme_one_dark_dist=__webpack_require__("./node_modules/@codemirror/theme-one-dark/dist/index.js"),view_dist=__webpack_require__("./node_modules/@codemirror/view/dist/index.js"),code_block=__webpack_require__("./node_modules/@milkdown/components/lib/code-block/index.js"),lib_esm=__webpack_require__("./node_modules/@milkdown/crepe/lib/esm/index.js"),core_lib=__webpack_require__("./node_modules/@milkdown/core/lib/index.js"),plugin_cursor_lib=__webpack_require__("./node_modules/@milkdown/plugin-cursor/lib/index.js"),plugin_listener_lib=__webpack_require__("./node_modules/@milkdown/plugin-listener/lib/index.js"),plugin_trailing_lib=__webpack_require__("./node_modules/@milkdown/plugin-trailing/lib/index.js"),plugin_upload_lib=__webpack_require__("./node_modules/@milkdown/plugin-upload/lib/index.js"),react_codemirror_esm=__webpack_require__("./node_modules/@uiw/react-codemirror/esm/index.js"),viz=__webpack_require__("./node_modules/@viz-js/viz/dist/viz.js"),katex=__webpack_require__("./node_modules/katex/dist/katex.mjs"),mermaid_core=__webpack_require__("./node_modules/mermaid/dist/mermaid.core.mjs"),prosemirror_view_dist=__webpack_require__("./node_modules/prosemirror-view/dist/index.js"),v4=__webpack_require__("./node_modules/uuid/dist/v4.js"),hooks=__webpack_require__("./src/hooks/index.ts"),types=__webpack_require__("./src/types/index.ts");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const defaultLightThemeOption=view_dist.Lz.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),uploader=(setLoader,addNotification)=>async(files,schema)=>{const images=[];for(let i=0;i<files.length;i++){const file=files.item(i);file&&(file.type.includes("image/")&&images.push(file))}setLoader(esm.nW6.LOADING);const nodes=await Promise.all(images.map(async image=>{const{status,message,content}=await(0,helpers.XO)(image,!1);if(status===esm.nW6.SUCCESS){addNotification({type:types.NotificationType.SUCCESS,message:react.createElement(atoms.T,null,message)});const alt=image.name;return schema.nodes.image.createAndFill({src:content.imageUrl,alt})}return addNotification({type:types.NotificationType.ERROR,message:react.createElement(atoms.T,null,message)}),null}));return setLoader(esm.nW6.SUCCESS),nodes},plainText=dist.Tg.define({token:stream=>(stream.skipToEnd(),null)}),plainTextSupport=new dist.Yy(plainText),myLanguages=[dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"C"===language.name)),{},{name:esm.aFm.C,load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-cpp/dist/index.js")).then(m=>m.cpp())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"C"===language.name)),{},{name:esm.aFm.C+" asCodeEditor",load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-cpp/dist/index.js")).then(m=>m.cpp())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"C++"===language.name)),{},{name:esm.aFm.CPP,load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-cpp/dist/index.js")).then(m=>m.cpp())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"C++"===language.name)),{},{name:esm.aFm.CPP+" asCodeEditor",load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-cpp/dist/index.js")).then(m=>m.cpp())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"Java"===language.name)),{},{name:esm.aFm.JAVA,load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-java/dist/index.js")).then(m=>m.java())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"Java"===language.name)),{},{name:esm.aFm.JAVA+" asCodeEditor",load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-java/dist/index.js")).then(m=>m.java())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"Python"===language.name)),{},{name:esm.aFm.PYTHON,load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-python/dist/index.js")).then(m=>m.python())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"Python"===language.name)),{},{name:esm.aFm.PYTHON+" asCodeEditor",load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-python/dist/index.js")).then(m=>m.python())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"JavaScript"===language.name)),{},{name:esm.aFm.JAVASCRIPT,load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-javascript/dist/index.js")).then(m=>m.javascript())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"JavaScript"===language.name)),{},{name:esm.aFm.JAVASCRIPT+" asCodeEditor",load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-javascript/dist/index.js")).then(m=>m.javascript())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"HTML"===language.name)),{},{name:esm.aFm.HTML,load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-html/dist/index.js")).then(m=>m.html())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"JSON"===language.name)),{},{name:esm.aFm.JSON,load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-json/dist/index.js")).then(m=>m.json())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"Markdown"===language.name)),{},{name:esm.aFm.MARKDOWN,load:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@codemirror/lang-markdown/dist/index.js")).then(m=>m.markdown())})),dist.t$.of(_objectSpread(_objectSpread({},language_data_dist.e.find(language=>"LaTeX"===language.name)),{},{name:esm.aFm.LATEX,support:new dist.Yy(dist.Tg.define(stex.stex))})),dist.t$.of({name:esm.aFm.MERMAID,alias:["mermaid"],extensions:["mmd","mermaid"],support:plainTextSupport}),dist.t$.of({name:esm.aFm.MERMAID+" asImage",alias:["mermaid"],extensions:["mmd","mermaid"],support:plainTextSupport}),dist.t$.of({name:esm.aFm.DOT,alias:["dot"],extensions:["dot"],load:()=>__webpack_require__.e(75880).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@viz-js/lang-dot/dist/index.js")).then(m=>m.dot())}),dist.t$.of({name:esm.aFm.DOT+" asImage",alias:["dot"],extensions:["dot"],load:()=>__webpack_require__.e(75880).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@viz-js/lang-dot/dist/index.js")).then(m=>m.dot())}),dist.t$.of({name:esm.aFm.TEXT,alias:["plaintext"],extensions:["txt","text"],support:plainTextSupport})];function normalizeNewlines(text){let normalized=text.replace(/\n{3,}/g,"\n\n");return normalized=normalized.replace(/&#x20;/gi," "),normalized.replace(/\n+$/g,"")+"\n"}const MilkdownEditorContent=_ref=>{let{value,onChange,setLoader}=_ref;const onChangeRef=(0,hooks.mU)(onChange),{addNotification}=(0,hooks.Eq)(),theme=(0,hooks.kH)(store=>store.user.settings[esm.mZ_.THEME]),currentMd=(0,react.useRef)(value),triggerRender=(0,react.useMemo)(()=>value===currentMd.current?0:Date.now(),[value]),t=(0,hooks.TH)(store=>store.i18n.t);return(0,react_lib.hG)(root=>new lib_esm.mA({root,defaultValue:value.replace(/```C asCodeEditor/g,"```C&#x20;asCodeEditor").replace(/```CPP asCodeEditor/g,"```CPP&#x20;asCodeEditor").replace(/```JAVA asCodeEditor/g,"```JAVA&#x20;asCodeEditor").replace(/```PYTHON asCodeEditor/g,"```PYTHON&#x20;asCodeEditor").replace(/```JAVASCRIPT asCodeEditor/g,"```JAVASCRIPT&#x20;asCodeEditor").replace(/```MERMAID asImage/g,"```MERMAID&#x20;asImage").replace(/```DOT asImage/g,"```DOT&#x20;asImage"),featureConfigs:{[lib_esm.mA.Feature.CodeMirror]:{renderLanguage(lang,selected){var _CODE_LANGUAGE$label,_CODE_LANGUAGE;const[language,as]=lang.split(" ");return(selected?"✔ ":"")+(null!==(_CODE_LANGUAGE$label=null===(_CODE_LANGUAGE=esm.fO_[language])||void 0===_CODE_LANGUAGE?void 0:_CODE_LANGUAGE.label)&&void 0!==_CODE_LANGUAGE$label?_CODE_LANGUAGE$label:language)+t("asCodeEditor"===as?" (render as code editor)":"asImage"===as?" (render as image)":"")},searchPlaceholder:"Find a language...",noResultText:"No language found"},[lib_esm.mA.Feature.ImageBlock]:{async onUpload(file){setLoader(esm.nW6.LOADING);const{status,message,content}=await(0,helpers.XO)(file,!1);return status===esm.nW6.SUCCESS?(addNotification({type:types.NotificationType.SUCCESS,message:react.createElement(atoms.T,null,message)}),setLoader(esm.nW6.SUCCESS),content.imageUrl):(addNotification({type:types.NotificationType.ERROR,message:react.createElement(atoms.T,null,message)}),setLoader(esm.nW6.ERROR),"")},inlineUploadPlaceholderText:"???"}}}).editor.use(plugin_listener_lib.F_).use(plugin_upload_lib.Se).use(plugin_cursor_lib.Dy).use(plugin_trailing_lib.ZY).config(ctx=>{ctx.get(plugin_listener_lib.Ob).markdownUpdated((_,markdown,prevMarkdown)=>{const fixedMarkdown=normalizeNewlines(markdown);var _onChangeRef$current;fixedMarkdown!==normalizeNewlines(prevMarkdown)&&(null===(_onChangeRef$current=onChangeRef.current)||void 0===_onChangeRef$current||_onChangeRef$current.call(onChangeRef,fixedMarkdown),currentMd.current=fixedMarkdown)}),ctx.update(plugin_upload_lib.wu.key,prev=>_objectSpread(_objectSpread({},prev),{},{uploader:uploader(setLoader,addNotification),uploadWidgetFactory:(pos,spec)=>{const dom=document.createElement("span");return prosemirror_view_dist.NZ.widget(pos,dom,spec)}})),ctx.update(code_block.T4.key,defaultConfig=>_objectSpread(_objectSpread({},defaultConfig),{},{languages:myLanguages,extensions:[(0,react_codemirror_esm.oQ)(),...theme===esm.Sxu.DARK?[theme_one_dark_dist.bM]:[defaultLightThemeOption]],previewToggleButton:()=>"edit",renderPreview:(language,content)=>"latex"===language.toLowerCase()&&content.length>0?function renderLatex(content,options){return katex.default.renderToString(content,_objectSpread(_objectSpread({},options),{},{throwOnError:!1,displayMode:!0}))}(content,{}):"mermaid asimage"===language.toLowerCase()&&content.length>0?function renderMermaid(content){const container=document.createElement("div");return container.className="mermaid",container.innerHTML=content,setTimeout(()=>mermaid_core.A.run({querySelector:".mermaid"}),0),container}(content):"dot asimage"===language.toLowerCase()&&content.length>0?function renderDot(content,t){const container=document.createElement("div"),newId=(0,v4.A)();container.id=newId;const loader=document.createElement("div");return loader.textContent=t("loading graph"),loader.style.fontStyle="italic",container.appendChild(loader),viz.KJ().then(viz=>{try{const container=document.getElementById(newId);container&&(container.innerHTML="",content.split("---").map(content=>{const svg=viz.renderSVGElement(content,{});container.appendChild(svg)}))}catch(error){const container=document.getElementById(newId);if(container){container.innerHTML="";const errorDiv=document.createElement("div");errorDiv.textContent="".concat(t("error rendering graph"),": ").concat((null==error?void 0:error.message)||error),errorDiv.style.color="red",errorDiv.style.whiteSpace="pre-wrap",container.appendChild(errorDiv)}}}).catch(error=>{const container=document.getElementById(newId);if(container){container.innerHTML="";const errorDiv=document.createElement("div");errorDiv.textContent="".concat(t("error initializing Viz.js"),": ").concat((null==error?void 0:error.message)||error),errorDiv.style.color="red",container.appendChild(errorDiv)}}),container}(content,t):null})),ctx.set(core_lib.P5,{bullet:"-"}),ctx.update(plugin_trailing_lib.N9.key,prev=>_objectSpread(_objectSpread({},prev),{},{shouldAppend:()=>!1}))}),[triggerRender,theme,t]),react.createElement("div",{className:"jk-input-milkdown jk-md-math-milkdown-editor jk-md-math wh-100 pn-re jk-br-ie"},react.createElement(react_lib.y5,null))};MilkdownEditorContent.__docgenInfo={description:"",methods:[],displayName:"MilkdownEditorContent",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(md: string) => void",signature:{arguments:[{type:{name:"string"},name:"md"}],return:{name:"void"}}},description:""},value:{required:!0,tsType:{name:"string"},description:""},setLoader:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Status"}],raw:"SetStateAction<Status>"}],raw:"Dispatch<SetStateAction<Status>>"},description:""},enableImageUpload:{required:!0,tsType:{name:"boolean"},description:""}}};var useJukiNotification=__webpack_require__("./src/hooks/useJukiNotification.tsx");const TextPlainEditorContent=props=>{const{value,onChange,setLoader,enableImageUpload}=props,textareaRef=(0,react.useRef)(null),{addNotification}=(0,useJukiNotification.E)();return react.createElement("div",{className:(0,helpers.xW)("jk-md-math-textarea-editor jk-border-radius-inline"),onPaste:enableImageUpload?async event=>{var _event$clipboardData;const items=null===(_event$clipboardData=event.clipboardData)||void 0===_event$clipboardData?void 0:_event$clipboardData.items;if(items){const imageFiles=[];for(const item of items)if("file"===item.kind){const file=item.getAsFile();file&&file.type.startsWith("image/")&&imageFiles.push(file)}if(imageFiles.length>0){event.stopPropagation(),event.preventDefault();let extraText="";setLoader(esm.nW6.LOADING);for(const imageFile of imageFiles){const{status,message,content}=await(0,helpers.XO)(imageFile,!1);status===esm.nW6.SUCCESS?(addNotification({type:types.NotificationType.SUCCESS,message:react.createElement(atoms.T,null,message)}),extraText+=(extraText?"\n\n":"")+"![image alt](".concat(content.imageUrl,")")):addNotification({type:types.NotificationType.ERROR,message:react.createElement(atoms.T,null,message)})}setLoader(esm.nW6.NONE),(insertText=>{var _textareaRef$current$,_textareaRef$current;const textarea=textareaRef.current;if(!textarea)return;const start=textarea.selectionStart,end=textarea.selectionEnd,text=null!==(_textareaRef$current$=null===(_textareaRef$current=textareaRef.current)||void 0===_textareaRef$current?void 0:_textareaRef$current.value)&&void 0!==_textareaRef$current$?_textareaRef$current$:"",newText=text.substring(0,start)+insertText+text.substring(end);null==onChange||onChange(newText),setTimeout(()=>{textarea.selectionStart=textarea.selectionEnd=start+insertText.length},0)})(extraText)}}}:void 0},react.createElement(atoms.fs,{ref:textareaRef,value,onChange:value=>{null==onChange||onChange(value)}}))};TextPlainEditorContent.__docgenInfo={description:"",methods:[],displayName:"TextPlainEditorContent",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},setLoader:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Status"}],raw:"SetStateAction<Status>"}],raw:"Dispatch<SetStateAction<Status>>"},description:""},enableImageUpload:{required:!0,tsType:{name:"boolean"},description:""}}};const _excluded=["url"];var Mode=function(Mode){return Mode.WYSIWYG="WYSIWYG",Mode.TEXT_PLAIN="TEXT_PLAIN",Mode}(Mode||{}),ChatRole=function(ChatRole){return ChatRole.IA="IA",ChatRole.USER="USER",ChatRole}(ChatRole||{});const IAModalContent=()=>{const[value,setValue]=(0,react.useState)(""),[chat,setChat]=(0,react.useState)([]),websocket=(0,useWebsocketStore.q)(store=>store.websocket),connectionId=(0,useWebsocketStore.q)(store=>store.connectionId),sessionId=(0,useUserStore.k)(store=>store.user.sessionId),t=(0,useI18nStore.T)(store=>store.i18n.t);return(0,react.useEffect)(()=>{const event={event:esm.ad3.SUBSCRIBE_CHAT_COMPLETIONS_DATA,sessionId};return websocket.subscribe(event,data=>{(0,esm.AK0)(data)&&setChat(prevState=>[...prevState,...data.content.choices.map(_ref=>{let{message}=_ref;return{content:message.content,user:ChatRole.IA}})])}),()=>{websocket.unsubscribeAll(event)}},[sessionId,websocket]),react.createElement("div",{className:"jk-pg jk-col gap stretch"},react.createElement("h3",null,react.createElement(atoms.T,null,"Juki Redactor Agent")),react.createElement("div",{className:"jk-col gap"},chat.map(chat=>react.createElement("div",{className:"jk-pg-sm bc-hl jk-br-ie",style:{maxWidth:"60%",whiteSpace:"break-spaces",alignSelf:chat.user===ChatRole.IA?"start":"end"}},chat.content))),react.createElement("div",{className:"jk-row gap nowrap wh-100 sticky-bottom jk-pg-sm bc-we jk-br-ie stretch"},react.createElement(atoms.fs,{value,onChange:setValue,placeholder:(0,helpers.Zb)(t("ask something"))}),react.createElement(molecules.mT,{icon:react.createElement(server.qxZ,null),onClick:async setLoader=>{setLoader(esm.nW6.LOADING);try{const _jukiApiManager$API_V=settings.Z.API_V1.ia.chatCompletions({body:{content:value,connectionId}}),{url}=_jukiApiManager$API_V,options=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_jukiApiManager$API_V,_excluded),request=(0,helpers.Hu)(await(0,helpers.zb)(url,options));null!=request&&request.success?(setChat(prevState=>[...prevState,{content:value,user:ChatRole.USER}]),setValue(""),setLoader(esm.nW6.SUCCESS)):((0,esm.OPF)("run code request failed",{request}),setLoader(esm.nW6.ERROR))}catch(error){(0,esm.OPF)("error on run code",{error}),setLoader(esm.nW6.ERROR)}}})))},Toolbar=_ref2=>{let{enableDownload,enableTextPlain,setMode,mode,enableIA}=_ref2;const[_,getInstance]=(0,react_lib.Nj)(),[openModalIA,setOpenModalIA]=(0,react.useState)(!1);return react.createElement(react.Fragment,null,react.createElement(atoms.aF,{isOpen:openModalIA,onClose:()=>setOpenModalIA(!1),closeIcon:!0},react.createElement(IAModalContent,null)),react.createElement(molecules.GK,{actionButtons:[...enableTextPlain?[{icon:mode===Mode.TEXT_PLAIN?react.createElement(server.WkB,null):react.createElement(server.loI,null),buttons:[{icon:mode===Mode.TEXT_PLAIN?react.createElement(server.WkB,null):react.createElement(server.loI,null),label:mode===Mode.TEXT_PLAIN?react.createElement(atoms.T,null,"WYSIWYG"):react.createElement(atoms.T,null,"view as text plain"),onClick:()=>setMode(mode===Mode.TEXT_PLAIN?Mode.WYSIWYG:Mode.TEXT_PLAIN)}]}]:[],...enableDownload?[{icon:react.createElement(server.s3U,null),buttons:[{icon:react.createElement(server.s3U,null),label:react.createElement(atoms.T,null,"md"),onClick:()=>{var _getInstance$action,_getInstance;return(0,helpers.IZ)(new Blob([null!==(_getInstance$action=null===(_getInstance=getInstance())||void 0===_getInstance?void 0:_getInstance.action((0,lib.up)()))&&void 0!==_getInstance$action?_getInstance$action:""],{type:"text/plain"}),"file.md")}}]}]:[],...enableIA?[{icon:react.createElement(server.myb,null),buttons:[{icon:react.createElement(server.myb,null),label:react.createElement(atoms.T,null,"Juki Redactor Agent"),onClick:()=>setOpenModalIA(!openModalIA)}]}]:[]],placement:"rightTop"}))},ImageUploader=_ref3=>{let{mode}=_ref3;const[isLoading,getInstance]=(0,react_lib.Nj)(),[openImageModal,setOpenImageModal]=(0,react.useState)(!1);return react.createElement(ImageUploaderModal.ImageUploaderModal,{isOpen:openImageModal,onClose:()=>setOpenImageModal(!1),copyButtons:!0,onPickImageUrl:_ref4=>{let{imageUrl}=_ref4;if(mode===Mode.TEXT_PLAIN);else if(mode===Mode.WYSIWYG){if(isLoading)return;const editor=getInstance();if(!editor)return;editor.action((0,lib.Yr)("![image](".concat(imageUrl,")"))),setOpenImageModal(!1)}}})},MdMathEditor=_ref5=>{let{value,onChange,className,enableTextPlain=!1,enableDownload=!1,enableImageUpload=!1,enableIA=!1}=_ref5;const[loader,setLoader]=(0,react.useState)(esm.nW6.NONE),[mode,setMode]=(0,react.useState)(Mode.WYSIWYG);return react.createElement(react_lib.pb,null,react.createElement("div",{className:(0,helpers.xW)("jk-md-math-editor wh-100 pn-re",className)},loader===esm.nW6.LOADING&&react.createElement(server.QdK,null),loader===esm.nW6.LOADING&&react.createElement("div",{className:"jk-loader-layer pn-ae jk-col"},react.createElement("div",{className:"jk-loader-layer pn-ae jk-overlay-backdrop",style:{opacity:.8,zIndex:1}}),react.createElement("div",{className:"jk-row",style:{zIndex:1,position:"sticky",margin:"0 auto",top:0,bottom:"50%",transform:"translate(0, 100%)"}},react.createElement("div",{className:"jk-row bc-we jk-pg-sm jk-br-ie",style:{alignItems:"baseline"}},react.createElement(atoms.T,{className:"tt-se"},"uploading images"),"  ",react.createElement("div",{className:"dot-flashing"})))),react.createElement(Toolbar,{enableTextPlain,enableDownload,enableIA,setMode,mode}),react.createElement(ImageUploader,{mode}),mode===Mode.WYSIWYG&&react.createElement(MilkdownEditorContent,{value,onChange,setLoader,enableImageUpload}),mode===Mode.TEXT_PLAIN&&react.createElement(TextPlainEditorContent,{value,onChange,setLoader,enableImageUpload})))};MdMathEditor.__docgenInfo={description:"",methods:[],displayName:"MdMathEditor",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},informationButton:{required:!1,tsType:{name:"boolean"},description:""},enableTextPlain:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},enableImageUpload:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},enableDownload:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},enableIA:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}}},"./src/components/organisms/mdMath/MdMathViewer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MdMathViewer:()=>MdMathViewer});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/index.ts"),_MdFloatToolbar_MdFloatToolbar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/organisms/mdMath/MdFloatToolbar/MdFloatToolbar.tsx"),_viewer_MdMath__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/organisms/mdMath/viewer/MdMath.tsx");const MdMathViewer=_ref=>{let{source,downloadButton,className,blur,unBlur,style,slideView}=_ref;return slideView?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_viewer_MdMath__WEBPACK_IMPORTED_MODULE_3__.s,{source,blur,unBlur,slideView}):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_helpers__WEBPACK_IMPORTED_MODULE_1__.xW)("jk-md-math-viewer-layout",className),style},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_MdFloatToolbar_MdFloatToolbar__WEBPACK_IMPORTED_MODULE_2__.z,{source,download:downloadButton}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_viewer_MdMath__WEBPACK_IMPORTED_MODULE_3__.s,{source,blur,unBlur,slideView}))};MdMathViewer.__docgenInfo={description:"",methods:[],displayName:"MdMathViewer",props:{source:{required:!0,tsType:{name:"string"},description:""},dark:{required:!1,tsType:{name:"boolean"},description:""},downloadButton:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},blur:{required:!1,tsType:{name:"boolean"},description:""},unBlur:{required:!1,tsType:{name:"boolean"},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""},slideView:{required:!1,tsType:{name:"boolean"},description:""}}}},"./src/components/organisms/worksheet/sheets/AddNewChild.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>AddNewChild});var _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/index.ts"),_atoms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/atoms/index.tsx"),_atoms_server__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/atoms/server/index.ts"),_molecules__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/molecules/index.tsx"),_logos__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/organisms/worksheet/sheets/logos.tsx");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const AddNewChild=props=>{const{index,setSheet,mdSheet,codeEditorSheet,graphSheet,listSheet,quizProblemSheet,pageDivider,compacted,quizOptionsSheetType,floatToolbarPlacement}=props,actionButtons=[];if(mdSheet){const onClick=()=>{setSheet(sheet=>{const newSheet=[...sheet];return newSheet.splice(index+1,0,(0,_constants__WEBPACK_IMPORTED_MODULE_2__.Wg)()),newSheet})};actionButtons.push(_objectSpread(_objectSpread({},(0,_logos__WEBPACK_IMPORTED_MODULE_6__._)("tiny")[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Lc_.JK_MD]),{},{onClick}))}if(codeEditorSheet){const onClick=()=>{setSheet(sheet=>{const newSheet=[...sheet];return newSheet.splice(index+1,0,(0,_constants__WEBPACK_IMPORTED_MODULE_2__.qL)()),newSheet})};actionButtons.push(_objectSpread(_objectSpread({},(0,_logos__WEBPACK_IMPORTED_MODULE_6__._)("tiny")[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Lc_.CODE_EDITOR]),{},{onClick}))}if(graphSheet){const onClick=()=>{setSheet(sheet=>{const newSheet=[...sheet];return newSheet.splice(index+1,0,(0,_constants__WEBPACK_IMPORTED_MODULE_2__.Zk)()),newSheet})};actionButtons.push(_objectSpread(_objectSpread({},(0,_logos__WEBPACK_IMPORTED_MODULE_6__._)("tiny")[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Lc_.GRAPH]),{},{onClick}))}if(listSheet){const onClick=()=>{setSheet(sheet=>{const newSheet=[...sheet];return newSheet.splice(index+1,0,(0,_constants__WEBPACK_IMPORTED_MODULE_2__.z_)()),newSheet})};actionButtons.push(_objectSpread(_objectSpread({},(0,_logos__WEBPACK_IMPORTED_MODULE_6__._)("tiny")[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Lc_.LIST]),{},{onClick}))}if(quizProblemSheet){const onClick=()=>{setSheet(sheet=>{const newSheet=[...sheet];return newSheet.splice(index+1,0,(0,_constants__WEBPACK_IMPORTED_MODULE_2__.KN)()),newSheet})};actionButtons.push(_objectSpread(_objectSpread({},(0,_logos__WEBPACK_IMPORTED_MODULE_6__._)("tiny")[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Lc_.QUIZ_PROBLEM]),{},{onClick}))}if(quizOptionsSheetType){const onClick=()=>{setSheet(sheet=>{const newSheet=[...sheet];return newSheet.splice(index+1,0,(0,_constants__WEBPACK_IMPORTED_MODULE_2__.lH)()),newSheet})};actionButtons.push(_objectSpread(_objectSpread({},(0,_logos__WEBPACK_IMPORTED_MODULE_6__._)("tiny")[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Lc_.QUIZ_OPTIONS]),{},{onClick}))}if(pageDivider){const onClick=()=>{setSheet(sheet=>{const newSheet=[...sheet];return newSheet.splice(index+1,0,(0,_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.lgH)()),newSheet})};actionButtons.push(_objectSpread(_objectSpread({},(0,_logos__WEBPACK_IMPORTED_MODULE_6__._)("tiny")[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Lc_.NEW_PAGE]),{},{onClick}))}return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row gap"},compacted&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(_molecules__WEBPACK_IMPORTED_MODULE_5__.GK,{actionButtons:[{icon:react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms_server__WEBPACK_IMPORTED_MODULE_4__.c11,null),buttons:actionButtons}],placement:floatToolbarPlacement}),!compacted&&actionButtons.map((_ref,index)=>{let{icon,label,onClick}=_ref;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.$n,{key:index,size:"small",icon,onClick},label)}))};AddNewChild.__docgenInfo={description:"",methods:[],displayName:"AddNewChild",props:{index:{required:!0,tsType:{name:"number"},description:""},setSheet:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"T"}],raw:"T[]"}],raw:"SetStateAction<T[]>"}],raw:"Dispatch<SetStateAction<T[]>>"},description:""},mdSheet:{required:!1,tsType:{name:"boolean"},description:""},codeEditorSheet:{required:!1,tsType:{name:"boolean"},description:""},graphSheet:{required:!1,tsType:{name:"boolean"},description:""},listSheet:{required:!1,tsType:{name:"boolean"},description:""},quizProblemSheet:{required:!1,tsType:{name:"boolean"},description:""},quizOptionsSheetType:{required:!1,tsType:{name:"boolean"},description:""},pageDivider:{required:!1,tsType:{name:"boolean"},description:""},compacted:{required:!1,tsType:{name:"boolean"},description:""},floatToolbarPlacement:{required:!1,tsType:{name:"union",raw:"'center' | 'center bottom' | 'center top'",elements:[{name:"literal",value:"'center'"},{name:"literal",value:"'center bottom'"},{name:"literal",value:"'center top'"}]},description:""}}}},"./src/components/organisms/worksheet/sheets/EditSheetModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>EditSheetModal});var _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_hooks_useStableState__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/hooks/useStableState.ts"),_atoms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/atoms/index.tsx");const EditSheetModal=props=>{const{isOpen,onClose,content,setContent,isValid}=props,[value,setValue]=(0,_hooks_useStableState__WEBPACK_IMPORTED_MODULE_2__.I)(isOpen&&(0,_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.on3)(content)?JSON.stringify(content,null,2):"");return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.aF,{isOpen,onClose},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-col gap jk-pg stretch"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.lI,{className:"wh-100",size:"auto",value,onChange:setValue}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"jk-row-col gap right"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.$n,{onClick:onClose,type:"light"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"tt-se"},"close")),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.$n,{disabled:!isValid(value),onClick:()=>{if(isValid(value)){const obj=JSON.parse(value);setContent(obj),onClose()}}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"tt-se"},"save")))))};EditSheetModal.__docgenInfo={description:"",methods:[],displayName:"EditSheetModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"T"},description:""},content:{required:!0,tsType:{name:"T"},description:""},setContent:{required:!0,tsType:{name:"Dispatch",elements:[{name:"T"}],raw:"Dispatch<T>"},description:""},isValid:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => boolean",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"boolean"}}},description:""}}}},"./src/components/organisms/worksheet/sheets/WorksheetNode.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>WorksheetNode});var esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react=__webpack_require__("./node_modules/react/index.js"),helpers=__webpack_require__("./src/helpers/index.ts"),AddNewChild=__webpack_require__("./src/components/organisms/worksheet/sheets/AddNewChild.tsx"),useStableState=__webpack_require__("./src/hooks/useStableState.ts"),molecules=__webpack_require__("./src/components/molecules/index.tsx");const ChunkTitle=_ref=>{let{content}=_ref;return!!content.title&&react.createElement("h3",null,content.title)};ChunkTitle.__docgenInfo={description:"",methods:[],displayName:"ChunkTitle",props:{content:{required:!0,tsType:{name:"BasicWorksheetType"},description:""}}};var EditSheetModal=__webpack_require__("./src/components/organisms/worksheet/sheets/EditSheetModal.tsx"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),server=__webpack_require__("./src/components/atoms/server/index.ts"),logos=__webpack_require__("./src/components/organisms/worksheet/sheets/logos.tsx");const upRemoveDownButtons=_ref=>{let{index,length,onChange}=_ref;const actionButtons=[];return 0!==index&&actionButtons.push({icon:react.createElement(server.U1D,null),size:"tiny",label:react.createElement(atoms.T,{className:"tt-se"},"move up"),onClick:()=>{onChange(list=>{const newSheets=[...list];return[newSheets[index],newSheets[index-1]]=[newSheets[index-1],newSheets[index]],newSheets})},disabled:0===index}),actionButtons.push({icon:react.createElement(server.d7y,null),size:"tiny",label:react.createElement(atoms.T,{className:"tt-se"},"remove"),onClick:()=>{onChange(list=>list.filter((_,i)=>i!==index))}}),index!==length-1&&actionButtons.push({icon:react.createElement(server.RSQ,null),size:"tiny",label:react.createElement(atoms.T,{className:"tt-se"},"move down"),onClick:()=>{onChange(list=>{const newSheets=[...list];return[newSheets[index],newSheets[index+1]]=[newSheets[index+1],newSheets[index]],newSheets})},disabled:index===length-1}),actionButtons},getActionButtons=props=>{const{type,edit,index,sheetLength,setSheet,setModal,onSaveEdit,onCancel}=props;return[{children:react.createElement("div",{className:"bc-pl jk-pg-xsm jk-row cr-we gap nowrap jk-br-ie tx-t",style:{opacity:.6}},(0,logos._)("tiny")[type].icon,(0,logos._)("tiny")[type].label)},...onSaveEdit&&onCancel?[{icon:edit?react.createElement(server.ITR,{size:"small"}):react.createElement(server.qUP,{size:"small"}),children:edit?react.createElement("div",{className:" jk-col gap stretch"},react.createElement(atoms.$n,{size:"small",icon:react.createElement(server.LPu,null)},react.createElement(atoms.T,{className:"tt-se"},"save")),react.createElement(atoms.$n,{size:"small",type:"light",icon:react.createElement(server.USm,null)},react.createElement(atoms.T,{className:"tt-se"},"cancel"))):void 0,buttons:[{icon:edit?react.createElement(server.LPu,null):react.createElement(server.qUP,null),label:react.createElement(atoms.T,{className:"tt-se"},edit?"save":"edit"),onClick:onSaveEdit},...edit?[{type:"light",icon:react.createElement(server.USm,null),label:react.createElement(atoms.T,{className:"tt-se"},"cancel"),onClick:onCancel}]:[]]}]:[],{icon:react.createElement(server.ycB,{className:"cr-we",up:!0,down:!0}),size:"tiny",buttons:upRemoveDownButtons({index,length:sheetLength,onChange:callback=>null==setSheet?void 0:setSheet(sheet=>callback(sheet))})},{icon:react.createElement(server.Zes,null),size:"tiny",buttons:[{icon:react.createElement(server.Zes,null),size:"tiny",label:react.createElement(atoms.T,{className:"tt-se"},"view settings"),onClick:()=>setModal(!0)}]}]};var hooks=__webpack_require__("./src/hooks/index.ts");const useOnSaveSheetSection=(sectionRef,edit,onSave)=>{const onSaveRef=(0,hooks.mU)(onSave);(0,react.useEffect)(()=>{const handleClickOutside=event=>{edit&&sectionRef.current&&!sectionRef.current.contains(event.target)&&onSaveRef.current()};return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[edit])};var constants=__webpack_require__("./src/constants/index.ts"),UserCodeEditor=__webpack_require__("./src/components/organisms/UserCodeEditor/UserCodeEditor.tsx");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const CodeEditorSheetSectionEditor=_ref=>{var _content$languages;let{content,setContent,isSolvable}=_ref;return react.createElement("div",{className:"jk-col gap stretch left jk-pg-sm br-ht jk-br-ie wh-100"},react.createElement(atoms.pd,{label:react.createElement(atoms.T,{className:"tt-se"},"title"),labelPlacement:"top",value:content.title,onChange:title=>setContent(prevState=>_objectSpread(_objectSpread({},prevState),{},{title})),expand:!0}),isSolvable&&react.createElement(atoms.pd,{type:"number",label:react.createElement(atoms.T,{className:"tt-se"},"points"),labelPlacement:"top",value:content.points,onChange:points=>setContent(prevState=>_objectSpread(_objectSpread({},prevState),{},{points})),expand:!0}),react.createElement("div",{className:"jk-row gap wh-100"},react.createElement("div",{className:"flex-1"},react.createElement(atoms.T,{className:"fw-bd tt-se"},"languages"),":",react.createElement(atoms.KF,{options:esm.O5.map(key=>({value:key,label:esm.fO_[key].label})),selectedOptions:null===(_content$languages=content.languages)||void 0===_content$languages?void 0:_content$languages.map(language=>({value:language})),onChange:options=>setContent(prevState=>_objectSpread(_objectSpread({},prevState),{},{languages:options.map(option=>option.value)})),expand:!0})),react.createElement("div",null,react.createElement("div",{className:"jk-row gap space-between"},react.createElement("div",null,react.createElement(atoms.T,{className:"fw-bd tt-se"},"height"),":"),react.createElement(atoms.GL,{checked:0===content.height,label:react.createElement(atoms.T,null,"auto"),onChange:value=>setContent(prevState=>_objectSpread(_objectSpread({},prevState),{},{height:value?0:constants.o}))})),0!==content.height&&react.createElement("div",{className:"jk-row"},react.createElement(atoms.pd,{type:"number",value:content.height,onChange:value=>setContent(prevState=>_objectSpread(_objectSpread({},prevState),{},{height:Math.abs(value)})),size:"auto"}),react.createElement(atoms.T,null,"px")))),react.createElement("div",{style:{height:constants.o},className:"jk-row wh-100"},react.createElement(UserCodeEditor.UserCodeEditor,{storeKey:content.id+"_edit",initialFiles:content.files,onTestCasesChange:testCases=>setContent(prevState=>_objectSpread(_objectSpread({},prevState),{},{testCases})),onFilesChange:files=>setContent(prevState=>_objectSpread(_objectSpread({},prevState),{},{files})),initialTestCases:content.testCases,languages:content.languages.map(lang=>{var _CODE_LANGUAGE$lang;return{value:lang,label:(null===(_CODE_LANGUAGE$lang=esm.fO_[lang])||void 0===_CODE_LANGUAGE$lang?void 0:_CODE_LANGUAGE$lang.label)||lang}}),enableAddSampleCases:!0})))};CodeEditorSheetSectionEditor.__docgenInfo={description:"",methods:[],displayName:"CodeEditorSheetSectionEditor",props:{content:{required:!0,tsType:{name:"CodeEditorSheetType"},description:""},setContent:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"CodeEditorSheetType"}],raw:"SetStateAction<T>"}],raw:"Dispatch<SetStateAction<T>>"},description:""},isSolvable:{required:!0,tsType:{name:"boolean"},description:""}}};var useJukiNotification=__webpack_require__("./src/hooks/useJukiNotification.tsx"),settings=__webpack_require__("./src/settings/index.ts"),useRouterStore=__webpack_require__("./src/stores/router/useRouterStore.ts"),types=__webpack_require__("./src/types/index.ts");const _excluded=["url"];const CodeEditorSheetSectionView=props=>{var _userResults$data$sub,_userResults$data,_userResults$data2,_submissions$submissi,_submissions$submissi2,_submissions$submissi3,_submissions$submissi4;const{content,worksheetKey,chunkId,userResults,readOnly,isSolvable}=props,{notifyResponse}=(0,useJukiNotification.E)(),searchParams=(0,useRouterStore.I)(state=>state.searchParams),[_submissionIndex,setSubmissionIndex]=(0,react.useState)(0),submissions=null!==(_userResults$data$sub=null==userResults||null===(_userResults$data=userResults.data)||void 0===_userResults$data||null===(_userResults$data=_userResults$data.submissions[esm.Lc_.CODE_EDITOR])||void 0===_userResults$data?void 0:_userResults$data[chunkId])&&void 0!==_userResults$data$sub?_userResults$data$sub:[];(0,react.useEffect)(()=>{setSubmissionIndex(0)},[null==userResults||null===(_userResults$data2=userResults.data)||void 0===_userResults$data2?void 0:_userResults$data2.user.nickname]);const totalSubmissions=submissions.length,submissionIndex=totalSubmissions-_submissionIndex-1;let initialFiles=null!==(_submissions$submissi=null===(_submissions$submissi2=submissions[submissionIndex])||void 0===_submissions$submissi2?void 0:_submissions$submissi2.files)&&void 0!==_submissions$submissi?_submissions$submissi:content.files;const setLoaderStatusRef=(0,react.useRef)(void 0),saveCode=async(files,testCases)=>{var _setLoaderStatusRef$c,_userResults$mutate;null===(_setLoaderStatusRef$c=setLoaderStatusRef.current)||void 0===_setLoaderStatusRef$c||_setLoaderStatusRef$c.call(setLoaderStatusRef,esm.nW6.LOADING),setSubmissionIndex(0);const codeEditorSubmissionDTO={type:esm.Lc_.CODE_EDITOR,id:content.id,files,testCases};let response;const assignmentId=searchParams.get(types.QueryParamKey.ASSIGNMENT),_jukiApiManager$API_V=settings.Z.API_V1.worksheet.submitCodeEditor({params:{worksheetKey,secondaryKey:null!=assignmentId?assignmentId:""},body:codeEditorSubmissionDTO}),{url}=_jukiApiManager$API_V,options=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_jukiApiManager$API_V,_excluded);response=(0,esm.Hu3)(await(0,helpers.zb)(url,options)),await(null==userResults||null===(_userResults$mutate=userResults.mutate)||void 0===_userResults$mutate?void 0:_userResults$mutate.call(userResults)),notifyResponse(response,setLoaderStatusRef.current)};return react.createElement("div",{className:"jk-col stretch flex-1 gap"},react.createElement("div",{style:{height:(0,helpers.Oq)(content.height,""),minWidth:200,width:"100%"},className:"jk-row"},react.createElement(UserCodeEditor.UserCodeEditor,{withoutRunCodeButton:readOnly,readOnly,initialFiles,initialTestCases:null!==(_submissions$submissi3=null===(_submissions$submissi4=submissions[submissionIndex])||void 0===_submissions$submissi4?void 0:_submissions$submissi4.testCases)&&void 0!==_submissions$submissi3?_submissions$submissi3:content.testCases,languages:content.languages.map(lang=>{var _CODE_LANGUAGE$lang;return{value:lang,label:(null===(_CODE_LANGUAGE$lang=esm.fO_[lang])||void 0===_CODE_LANGUAGE$lang?void 0:_CODE_LANGUAGE$lang.label)||lang}}),storeKey:content.id+"_view",enableAddCustomSampleCases:!0,onCodeRunStatusChange:(status,_ref)=>{let{files,testCases}=_ref;status===esm.aeR.COMPLETED&&isSolvable&&saveCode(files,testCases)},centerButtons:_ref2=>{let{testCases,files}=_ref2;const buttons=[];return!readOnly&&isSolvable&&buttons.push(react.createElement(molecules.mT,{key:"save",size:"tiny",type:"secondary",onClick:()=>saveCode(files,testCases),setLoaderStatusRef:setLoaderStatus=>setLoaderStatusRef.current=setLoaderStatus},react.createElement(atoms.T,{className:"tt-se"},"save"))),buttons.push(react.createElement("div",{className:"jk-row bc-hl jk-br-ie",key:"buttons"},react.createElement("div",{className:(0,helpers.xW)("clickable br-50-pc jk-row",{"cr-ht":0===totalSubmissions}),onClick:totalSubmissions?()=>setSubmissionIndex(prevState=>(prevState+1)%totalSubmissions):void 0},react.createElement(server.A60,null)),null!=userResults&&userResults.isLoading?react.createElement(server.Gcs,null):react.createElement(react.Fragment,null,submissionIndex+1," / ",totalSubmissions,react.createElement(atoms.T,null,"v.")),react.createElement("div",{className:(0,helpers.xW)("clickable br-50-pc jk-row",{"cr-ht":0===totalSubmissions}),onClick:totalSubmissions?()=>setSubmissionIndex(prevState=>(prevState-1+totalSubmissions)%totalSubmissions):void 0},react.createElement(server.flY,null)))),react.createElement("div",{className:"jk-row gap"},buttons)}})))};CodeEditorSheetSectionView.__docgenInfo={description:"",methods:[],displayName:"CodeEditorSheetSectionView",props:{content:{required:!0,tsType:{name:"CodeEditorSheetType"},description:""},worksheetKey:{required:!0,tsType:{name:"string"},description:""},chunkId:{required:!0,tsType:{name:"string"},description:""},userResults:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  data?: WorksheetUserSubmissionsResponseDTO,\n  isLoading?: boolean,\n  validating?: boolean,\n  mutate?: KeyedMutator<any>,\n}",signature:{properties:[{key:"data",value:{name:"WorksheetUserSubmissionsResponseDTO",required:!1}},{key:"isLoading",value:{name:"boolean",required:!1}},{key:"validating",value:{name:"boolean",required:!1}},{key:"mutate",value:{name:"KeyedMutator",elements:[{name:"any"}],raw:"KeyedMutator<any>",required:!1}}]}},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""},isSolvable:{required:!0,tsType:{name:"boolean"},description:""}}};const CodeEditorSheetSection=props=>{const{content:initialContent,setContent:saveContent,index,chunkId,sheetLength,setSheet,worksheetKey,isSolvable,userResults,readOnly}=props,[edit,setEdit]=(0,react.useState)(!1),[modal,setModal]=(0,react.useState)(!1),[content,_setContent]=(0,useStableState.I)(initialContent),sectionRef=(0,react.useRef)(null),onSaveEdit=()=>{setEdit(!edit),null==saveContent||saveContent(content)};useOnSaveSheetSection(sectionRef,edit,onSaveEdit);const setContent=saveContent?_setContent:void 0;return react.createElement("div",{ref:sectionRef,className:"jk-row top left nowrap stretch jk-br-ie pn-re wh-100",onDoubleClick:()=>setEdit(!0)},setContent&&react.createElement(EditSheetModal.j,{isOpen:modal,onClose:()=>setModal(!1),content,setContent,isValid:value=>(0,esm.UWh)(value)&&(0,esm.A1h)(JSON.parse(value))}),setContent&&edit?react.createElement(CodeEditorSheetSectionEditor,{content,setContent,isSolvable}):react.createElement("div",{className:"jk-col stretch gap nowrap code-editor-sheet-section-view wh-100"},react.createElement(ChunkTitle,{content}),react.createElement(CodeEditorSheetSectionView,{content,worksheetKey,chunkId,userResults,readOnly,isSolvable})),setSheet&&react.createElement(molecules.GK,{actionButtons:getActionButtons({type:esm.Lc_.CODE_EDITOR,edit,setModal,index,sheetLength,setSheet,onSaveEdit,onCancel:()=>{setEdit(!1),_setContent(initialContent)}}),placement:"out rightTop"}))};CodeEditorSheetSection.__docgenInfo={description:"",methods:[],displayName:"CodeEditorSheetSection",props:{content:{required:!0,tsType:{name:"CodeEditorSheetType"},description:""},setContent:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"CodeEditorSheetType"}],raw:"SetStateAction<T>"}],raw:"Dispatch<SetStateAction<T>>"},description:""},index:{required:!0,tsType:{name:"number"},description:""},chunkId:{required:!0,tsType:{name:"string"},description:""},sheetLength:{required:!0,tsType:{name:"number"},description:""},setSheet:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"BodyWorksheetType"}],raw:"T[]"}],raw:"SetStateAction<T[]>"}],raw:"Dispatch<SetStateAction<T[]>>"},description:""},worksheetKey:{required:!0,tsType:{name:"string"},description:""},isSolvable:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""},userResults:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  data?: WorksheetUserSubmissionsResponseDTO,\n  isLoading?: boolean,\n  validating?: boolean,\n  mutate?: KeyedMutator<any>,\n}",signature:{properties:[{key:"data",value:{name:"WorksheetUserSubmissionsResponseDTO",required:!1}},{key:"isLoading",value:{name:"boolean",required:!1}},{key:"validating",value:{name:"boolean",required:!1}},{key:"mutate",value:{name:"KeyedMutator",elements:[{name:"any"}],raw:"KeyedMutator<any>",required:!1}}]}},description:""},asSlides:{required:!0,tsType:{name:"boolean"},description:""}}};var GraphvizEditor=__webpack_require__("./src/components/organisms/Graphviz/GraphvizEditor.tsx");function GraphSheetSectionEditor_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function GraphSheetSectionEditor_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?GraphSheetSectionEditor_ownKeys(Object(t),!0).forEach(function(r){GraphSheetSectionEditor_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):GraphSheetSectionEditor_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function GraphSheetSectionEditor_defineProperty(e,r,t){return(r=function GraphSheetSectionEditor_toPropertyKey(t){var i=function GraphSheetSectionEditor_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const GraphSheetSectionEditor=_ref=>{var _content$dots;let{content,setContent}=_ref;const[frame,setFrame]=(0,react.useState)(0);return react.createElement("div",{className:"jk-col stretch left wh-100 jk-pg-sm br-ht jk-br-ie"},react.createElement(atoms.pd,{label:react.createElement(atoms.T,{className:"tt-se"},"title"),labelPlacement:"top",value:content.title,onChange:title=>setContent(prevState=>GraphSheetSectionEditor_objectSpread(GraphSheetSectionEditor_objectSpread({},prevState),{},{title})),expand:!0}),react.createElement(GraphvizEditor.GraphvizEditor,{value:null===(_content$dots=content.dots)||void 0===_content$dots?void 0:_content$dots[frame],onSave:dot=>{const dots=[...content.dots];dots.splice(frame,1,dot),setContent(GraphSheetSectionEditor_objectSpread(GraphSheetSectionEditor_objectSpread({},content),{},{dots}))}}),react.createElement("div",{className:"jk-row gap center"},react.createElement(atoms.$n,{icon:react.createElement(server.gFQ,null),disabled:0===frame,onClick:()=>setFrame((frame-1+content.dots.length)%content.dots.length),size:"small"}),new Array(content.dots.length).fill(1).map((_,index)=>react.createElement("div",{className:(0,helpers.xW)("jk-tag clickable",{"bc-g5":index!==frame}),onClick:()=>setFrame(index),key:index},index+1)),react.createElement(atoms.$n,{icon:react.createElement(server.sIg,null),disabled:frame>=content.dots.length-1,onClick:()=>setFrame((frame+1)%content.dots.length),size:"small"})),react.createElement("div",{className:"jk-row gap nowrap"},react.createElement(atoms.$n,{icon:react.createElement(server.gFQ,null),onClick:()=>{const dots=[...content.dots];dots.splice(frame,0,constants.R0),setContent(GraphSheetSectionEditor_objectSpread(GraphSheetSectionEditor_objectSpread({},content),{},{dots}))},size:"small"},react.createElement(server.REV,null)),react.createElement(atoms.$n,{icon:react.createElement(server.d7y,null),onClick:()=>{const dots=[...content.dots];dots.splice(frame,1),setContent(GraphSheetSectionEditor_objectSpread(GraphSheetSectionEditor_objectSpread({},content),{},{dots}))},size:"small",type:"light"}),react.createElement(atoms.$n,{icon:react.createElement(server.REV,null),onClick:()=>{const dots=[...content.dots];dots.splice(frame+1,0,constants.R0),setContent(GraphSheetSectionEditor_objectSpread(GraphSheetSectionEditor_objectSpread({},content),{},{dots})),setFrame(frame+1)},size:"small"},react.createElement(server.sIg,null))))};GraphSheetSectionEditor.__docgenInfo={description:"",methods:[],displayName:"GraphSheetSectionEditor",props:{content:{required:!0,tsType:{name:"GraphSheetType"},description:""},setContent:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"GraphSheetType"}],raw:"SetStateAction<T>"}],raw:"Dispatch<SetStateAction<T>>"},description:""}}};var GraphvizViewer=__webpack_require__("./src/components/organisms/Graphviz/GraphvizViewer.tsx");function GraphSheetSectionView_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function GraphSheetSectionView_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?GraphSheetSectionView_ownKeys(Object(t),!0).forEach(function(r){GraphSheetSectionView_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):GraphSheetSectionView_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function GraphSheetSectionView_defineProperty(e,r,t){return(r=function GraphSheetSectionView_toPropertyKey(t){var i=function GraphSheetSectionView_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const GraphSheetSectionView=_ref=>{var _content$dots;let{content,setSheet}=_ref;const[frame,setFrame]=(0,react.useState)(0);return(0,react.useEffect)(()=>{content.dots.length||null==setSheet||setSheet(sheet=>GraphSheetSectionView_objectSpread(GraphSheetSectionView_objectSpread({},sheet),{},{dots:['digraaph graph_name {\n  bgcolor="transparent"\n  a -> b;\n  b -> c;\n  a -> d;\n  d -> c;\n  a -> c;\n}']}))},[frame,setSheet,content.dots.length]),react.createElement("div",{className:"jk-col gap"},react.createElement("div",{className:"br-g5 jk-br-ie bc-we"},react.createElement(GraphvizViewer.GraphvizViewer,{value:null===(_content$dots=content.dots)||void 0===_content$dots?void 0:_content$dots[frame]})),react.createElement("div",{className:"jk-row gap center"},react.createElement(atoms.$n,{icon:react.createElement(server.gFQ,null),disabled:0===frame,onClick:()=>setFrame((frame-1+content.dots.length)%content.dots.length),size:"small"}),new Array(content.dots.length).fill(1).map((_,index)=>react.createElement("div",{className:(0,helpers.xW)("jk-tag clickable",{"bc-g5":index!==frame}),onClick:()=>setFrame(index),key:index},index+1)),react.createElement(atoms.$n,{icon:react.createElement(server.sIg,null),disabled:frame>=content.dots.length-1,onClick:()=>setFrame((frame+1)%content.dots.length),size:"small"})))};GraphSheetSectionView.__docgenInfo={description:"",methods:[],displayName:"GraphSheetSectionView",props:{content:{required:!0,tsType:{name:"GraphSheetType"},description:""},setSheet:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"GraphSheetType"}],raw:"SetStateAction<GraphSheetType>"}],raw:"Dispatch<SetStateAction<GraphSheetType>>"},description:""}}};const GraphSheetSection=props=>{const{content:initialContent,setContent:saveContent,index,sheetLength,setSheet}=props,[edit,setEdit]=(0,react.useState)(!1),[modal,setModal]=(0,react.useState)(!1),[content,_setContent]=(0,useStableState.I)(initialContent),sectionRef=(0,react.useRef)(null),onSaveEdit=()=>{setEdit(!edit),null==saveContent||saveContent(content)};useOnSaveSheetSection(sectionRef,edit,onSaveEdit);const setContent=saveContent?_setContent:void 0;return react.createElement("div",{ref:sectionRef,className:"jk-row top left nowrap stretch jk-br-ie pn-re wh-100",onDoubleClick:()=>setEdit(!0)},setContent&&react.createElement(EditSheetModal.j,{isOpen:modal,onClose:()=>setModal(!1),content,setContent,isValid:value=>(0,esm.UWh)(value)}),setContent&&edit?react.createElement(GraphSheetSectionEditor,{content,setContent}):react.createElement("div",{className:"jk-col stretch gap nowrap graph-sheet-section-view wh-100"},react.createElement(ChunkTitle,{content}),react.createElement(GraphSheetSectionView,{content})),setSheet&&react.createElement(molecules.GK,{actionButtons:getActionButtons({type:esm.Lc_.GRAPH,edit,setModal,index,sheetLength,setSheet,onSaveEdit,onCancel:()=>{setEdit(!1),_setContent(initialContent)}}),placement:"out rightTop"}))};GraphSheetSection.__docgenInfo={description:"",methods:[],displayName:"GraphSheetSection",props:{content:{required:!0,tsType:{name:"GraphSheetType"},description:""},setContent:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"GraphSheetType"}],raw:"SetStateAction<T>"}],raw:"Dispatch<SetStateAction<T>>"},description:""},index:{required:!0,tsType:{name:"number"},description:""},chunkId:{required:!0,tsType:{name:"string"},description:""},sheetLength:{required:!0,tsType:{name:"number"},description:""},setSheet:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"BodyWorksheetType"}],raw:"T[]"}],raw:"SetStateAction<T[]>"}],raw:"Dispatch<SetStateAction<T[]>>"},description:""},worksheetKey:{required:!0,tsType:{name:"string"},description:""},isSolvable:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""},userResults:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  data?: WorksheetUserSubmissionsResponseDTO,\n  isLoading?: boolean,\n  validating?: boolean,\n  mutate?: KeyedMutator<any>,\n}",signature:{properties:[{key:"data",value:{name:"WorksheetUserSubmissionsResponseDTO",required:!1}},{key:"isLoading",value:{name:"boolean",required:!1}},{key:"validating",value:{name:"boolean",required:!1}},{key:"mutate",value:{name:"KeyedMutator",elements:[{name:"any"}],raw:"KeyedMutator<any>",required:!1}}]}},description:""},asSlides:{required:!0,tsType:{name:"boolean"},description:""}}};var MdMathViewer=__webpack_require__("./src/components/organisms/mdMath/MdMathViewer.tsx"),useJukiUI=__webpack_require__("./src/hooks/useJukiUI.tsx");const ResultHeader=props=>{const{isResolved,submitted,points,userPoints,children,childrenTop}=props,{viewPortSize}=(0,useJukiUI.p)(),isSmallPortSize="sm"===viewPortSize;return react.createElement("div",{style:isSmallPortSize?void 0:{position:"absolute",top:0,right:"calc(var(--pad-sm) * -1)",height:"100%",width:0}},react.createElement("div",{className:"jk-pg-sm jk-col gap stretch space-between result-header sticky-top"},childrenTop,!!points&&react.createElement("div",{className:(0,helpers.xW)("jk-row center jk-tag tx-s ws-np",{"bc-ss cr-we":isResolved,"bc-g6":!submitted,"bc-wg cr-we":userPoints>0&&!isResolved&&submitted,"bc-er cr-we":0===userPoints&&!isResolved&&submitted})},+userPoints.toFixed(2)," ",react.createElement(atoms.T,null,1===userPoints?"pt":"pts"),react.createElement("div",{className:"jk-divider tiny",style:{height:1}}),points," ",react.createElement(atoms.T,null,1===points?"pt":"pts")),react.createElement("div",{className:"jk-row gap"},children)))},ResultHeaders=props=>{var _lastSubmission$point;const{points,submissions,children,selectedIndex,setSelectedIndex}=props,lastSubmission=submissions.at(selectedIndex);return react.createElement(ResultHeader,{submitted:!!lastSubmission,points,userPoints:null!==(_lastSubmission$point=null==lastSubmission?void 0:lastSubmission.points)&&void 0!==_lastSubmission$point?_lastSubmission$point:0,isResolved:!(null==lastSubmission||!lastSubmission.isCompleted),childrenTop:react.createElement("div",{className:"jk-row tx-s"},react.createElement("div",{className:"jk-row jk-br-ie hoverable",onClick:()=>{setSelectedIndex(prevState=>(prevState-1+submissions.length)%submissions.length)}},"←"),react.createElement("div",{className:"jk-row"},selectedIndex+1," (",react.createElement("div",{className:"jk-row jk-br-ie hoverable",onClick:()=>{setSelectedIndex(submissions.length-1)}},submissions.length),")"),react.createElement("div",{className:"jk-row jk-br-ie hoverable",onClick:()=>{setSelectedIndex(prevState=>(prevState+1)%submissions.length)}},"→"))},children)};ResultHeader.__docgenInfo={description:"",methods:[],displayName:"ResultHeader",props:{points:{required:!0,tsType:{name:"number"},description:""},userPoints:{required:!0,tsType:{name:"number"},description:""},isResolved:{required:!0,tsType:{name:"boolean"},description:""},submitted:{required:!0,tsType:{name:"boolean"},description:""},childrenTop:{required:!1,tsType:{name:"ReactNode"},description:""}}},ResultHeaders.__docgenInfo={description:"",methods:[],displayName:"ResultHeaders",props:{submissions:{required:!0,tsType:{name:"Array",elements:[{name:"QuizOptionsSubmissionResponseDTO"}],raw:"QuizOptionsSubmissionResponseDTO[]"},description:""},points:{required:!0,tsType:{name:"number"},description:""},selectedIndex:{required:!0,tsType:{name:"number"},description:""},setSelectedIndex:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"number"}],raw:"SetStateAction<number>"}],raw:"Dispatch<SetStateAction<number>>"},description:""}}};var MdMathEditor=__webpack_require__("./src/components/organisms/mdMath/MdMathEditor.tsx");function JkmdSheetSectionEditor_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function JkmdSheetSectionEditor_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?JkmdSheetSectionEditor_ownKeys(Object(t),!0).forEach(function(r){JkmdSheetSectionEditor_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):JkmdSheetSectionEditor_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function JkmdSheetSectionEditor_defineProperty(e,r,t){return(r=function JkmdSheetSectionEditor_toPropertyKey(t){var i=function JkmdSheetSectionEditor_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const JkmdSheetSectionEditor=_ref=>{let{content,setContent,isSolvable}=_ref;return react.createElement("div",{className:"jk-col left gap wh-100 jk-pg-sm"},react.createElement(atoms.pd,{label:react.createElement(atoms.T,{className:"tt-se tx-s"},"title"),labelPlacement:"top",value:content.title,onChange:title=>setContent(prevState=>JkmdSheetSectionEditor_objectSpread(JkmdSheetSectionEditor_objectSpread({},prevState),{},{title})),expand:!0}),isSolvable&&react.createElement("div",{className:"jk-row extend left"},react.createElement(atoms.pd,{label:react.createElement(atoms.T,{className:"tt-se tx-s"},"points"),type:"number",value:content.points,onChange:points=>setContent(prevState=>JkmdSheetSectionEditor_objectSpread(JkmdSheetSectionEditor_objectSpread({},prevState),{},{points}))})),react.createElement("div",{className:"flex-1 jk-md-math-editor-expanded wh-100"},react.createElement(MdMathEditor.MdMathEditor,{informationButton:!0,value:content.content,onChange:content=>setContent(prevState=>JkmdSheetSectionEditor_objectSpread(JkmdSheetSectionEditor_objectSpread({},prevState),{},{content})),enableTextPlain:!0,enableIA:!0,enableImageUpload:!0})))};JkmdSheetSectionEditor.__docgenInfo={description:"",methods:[],displayName:"JkmdSheetSectionEditor",props:{content:{required:!0,tsType:{name:"JkmdSheetType"},description:""},setContent:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"JkmdSheetType"}],raw:"SetStateAction<T>"}],raw:"Dispatch<SetStateAction<T>>"},description:""},isSolvable:{required:!0,tsType:{name:"boolean"},description:""}}};const JkmdSheetSection_excluded=["url"];const JkmdSheetSection=props=>{var _userResults$data$sub,_userResults$data,_lastSubmission$point;const{content,setContent,index,chunkId,sheetLength,setSheet,worksheetKey,isSolvable,readOnly,userResults,asSlides=!1}=props,{notifyResponse}=(0,useJukiNotification.E)(),[modal,setModal]=(0,react.useState)(!1),sectionRef=(0,react.useRef)(null),lastSubmission=(null!==(_userResults$data$sub=null==userResults||null===(_userResults$data=userResults.data)||void 0===_userResults$data||null===(_userResults$data=_userResults$data.submissions[esm.Lc_.JK_MD])||void 0===_userResults$data?void 0:_userResults$data[chunkId])&&void 0!==_userResults$data$sub?_userResults$data$sub:[]).at(-1),text=content.content.trim();return asSlides?react.createElement(MdMathViewer.MdMathViewer,{source:text,slideView:!0}):react.createElement("div",{ref:sectionRef,className:"jk-row top left nowrap stretch jk-br-ie pn-re wh-100 jk-md-sheet-section"},setContent&&react.createElement(EditSheetModal.j,{isOpen:modal,onClose:()=>setModal(!1),content,setContent,isValid:value=>(0,esm.UWh)(value)&&(0,esm.c0Y)(JSON.parse(value))}),setContent?react.createElement(JkmdSheetSectionEditor,{content,setContent,isSolvable:!!isSolvable}):react.createElement("div",{className:"jk-col gap stretch jk-md-sheet-section-view wh-100 pn-re"},isSolvable&&!setSheet&&text&&react.createElement(ResultHeader,{submitted:!!lastSubmission,points:content.points,userPoints:null!==(_lastSubmission$point=null==lastSubmission?void 0:lastSubmission.points)&&void 0!==_lastSubmission$point?_lastSubmission$point:0,isResolved:!(null==lastSubmission||!lastSubmission.isCompleted)},!readOnly&&react.createElement(molecules.mT,{type:"light",expand:!0,size:"small","data-tooltip-id":"jk-tooltip","data-tooltip-content":null!=lastSubmission&&lastSubmission.read?"mark as unread":"mark as read",onClick:async setLoaderStatus=>{var _userResults$mutate;setLoaderStatus(esm.nW6.LOADING);const jkMdSubmissionDTO={type:esm.Lc_.JK_MD,id:content.id,read:!(null!=lastSubmission&&lastSubmission.read)},_jukiApiManager$API_V=settings.Z.API_V1.worksheet.submitJkMd({params:{worksheetKey},body:jkMdSubmissionDTO}),{url}=_jukiApiManager$API_V,options=function JkmdSheetSection_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function JkmdSheetSection_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_jukiApiManager$API_V,JkmdSheetSection_excluded),response=(0,esm.Hu3)(await(0,helpers.zb)(url,options));await(null==userResults||null===(_userResults$mutate=userResults.mutate)||void 0===_userResults$mutate?void 0:_userResults$mutate.call(userResults)),notifyResponse(response,setLoaderStatus)},icon:react.createElement(atoms.GL,{checked:!(null==lastSubmission||!lastSubmission.read),onChange:()=>null})},react.createElement(atoms.T,{className:"tt-se"},null!=lastSubmission&&lastSubmission.read?"_read":"unread"))),react.createElement(ChunkTitle,{content}),!!text&&react.createElement("div",{className:(0,helpers.xW)("jk-br-ie jk-pg wh-100",{"bc-we":!asSlides})},react.createElement(MdMathViewer.MdMathViewer,{source:text}))),setSheet&&react.createElement(molecules.GK,{actionButtons:getActionButtons({type:esm.Lc_.JK_MD,edit:true,setModal,index,sheetLength,setSheet}),placement:"out rightTop"}))};JkmdSheetSection.__docgenInfo={description:"",methods:[],displayName:"JkmdSheetSection",props:{content:{required:!0,tsType:{name:"JkmdSheetType"},description:""},setContent:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"JkmdSheetType"}],raw:"SetStateAction<T>"}],raw:"Dispatch<SetStateAction<T>>"},description:""},index:{required:!0,tsType:{name:"number"},description:""},chunkId:{required:!0,tsType:{name:"string"},description:""},sheetLength:{required:!0,tsType:{name:"number"},description:""},setSheet:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"BodyWorksheetType"}],raw:"T[]"}],raw:"SetStateAction<T[]>"}],raw:"Dispatch<SetStateAction<T[]>>"},description:""},worksheetKey:{required:!0,tsType:{name:"string"},description:""},isSolvable:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""},userResults:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  data?: WorksheetUserSubmissionsResponseDTO,\n  isLoading?: boolean,\n  validating?: boolean,\n  mutate?: KeyedMutator<any>,\n}",signature:{properties:[{key:"data",value:{name:"WorksheetUserSubmissionsResponseDTO",required:!1}},{key:"isLoading",value:{name:"boolean",required:!1}},{key:"validating",value:{name:"boolean",required:!1}},{key:"mutate",value:{name:"KeyedMutator",elements:[{name:"any"}],raw:"KeyedMutator<any>",required:!1}}]}},description:""},asSlides:{required:!0,tsType:{name:"boolean"},description:""}}};var v4=__webpack_require__("./node_modules/uuid/dist/v4.js");function QuizOptionsSheetSectionEditor_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function QuizOptionsSheetSectionEditor_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?QuizOptionsSheetSectionEditor_ownKeys(Object(t),!0).forEach(function(r){QuizOptionsSheetSectionEditor_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):QuizOptionsSheetSectionEditor_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function QuizOptionsSheetSectionEditor_defineProperty(e,r,t){return(r=function QuizOptionsSheetSectionEditor_toPropertyKey(t){var i=function QuizOptionsSheetSectionEditor_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const QuizOptionsSheetSectionEditor=_ref=>{let{content,setContent,isSolvable}=_ref;return react.createElement("div",{className:"jk-col gap stretch left jk-pg-sm wh-100 br-ht jk-br-ie"},react.createElement("div",{className:"jk-row-col gap tx-s"},react.createElement("div",{className:"jk-col"},react.createElement(atoms.T,{className:"fw-bd tt-se"},"options"),react.createElement(atoms.JN,{size:"small",checked:content.multiple,onChange:newValue=>setContent(prevState=>QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},prevState),{},{multiple:newValue,options:prevState.options.map(option=>QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},option),{},{correct:!1}))})),leftLabel:react.createElement(atoms.T,{className:(0,helpers.xW)("tt-se",{"fw-bd":!content.multiple})},"single"),rightLabel:react.createElement(atoms.T,{className:(0,helpers.xW)("tt-se",{"fw-bd":content.multiple})},"multiple")})),isSolvable&&react.createElement(react.Fragment,null,react.createElement("div",{className:"jk-row left",style:{width:64}},react.createElement(atoms.pd,{label:react.createElement(atoms.T,{className:"tt-se"},"points"),labelPlacement:"top",type:"number",expand:!0,value:content.points,onChange:points=>setContent(prevState=>QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},prevState),{},{points}))})),react.createElement("div",{className:"jk-col"},react.createElement(atoms.T,{className:"fw-bd tt-se"},"scoring mode"),react.createElement(atoms.JN,{size:"small",checked:content.scoringMode===esm.uvq.TOTAL,onChange:newValue=>setContent(prevState=>QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},prevState),{},{scoringMode:newValue?esm.uvq.TOTAL:esm.uvq.PARTIAL})),leftLabel:react.createElement(atoms.T,{className:(0,helpers.xW)("tt-se",{"fw-bd":"PARTIAL"===content.scoringMode})},"partial"),rightLabel:react.createElement(atoms.T,{className:(0,helpers.xW)("tt-se",{"fw-bd":"TOTAL"===content.scoringMode})},"total")})))),react.createElement(atoms.pd,{label:react.createElement(atoms.T,{className:"tt-se"},"title"),labelPlacement:"top",value:content.title,onChange:title=>setContent(prevState=>QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},prevState),{},{title})),expand:!0}),react.createElement("div",{className:"jk-col stretch"},react.createElement(atoms.T,{className:"tt-se fw-bd"},"description"),react.createElement(MdMathEditor.MdMathEditor,{value:content.description,onChange:description=>setContent(prevState=>QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},prevState),{},{description})),enableTextPlain:!0,enableIA:!0,enableImageUpload:!0})),react.createElement("div",{className:"jk-col stretch left gap"},react.createElement(atoms.T,{className:"tt-se cr-pl"},"select the correct options"),content.options.map((option,index)=>react.createElement("div",{className:"jk-row gap nowrap extend",key:"".concat(index)},content.multiple?react.createElement(atoms.GL,{checked:option.correct,onChange:newValue=>{setContent(prevState=>{const newOptions=[...prevState.options];return newOptions[index]=QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},newOptions[index]),{},{correct:newValue}),QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},prevState),{},{options:newOptions})})}}):react.createElement(atoms.U6,{name:content.id,checked:option.correct,onChange:newValue=>{setContent(prevState=>{const newOptions=[...prevState.options].map(option=>QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},option),{},{correct:!1}));return newOptions[index]=QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},newOptions[index]),{},{correct:newValue}),QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},prevState),{},{options:newOptions})})}}),react.createElement(MdMathEditor.MdMathEditor,{className:"wh-100",value:option.label,onChange:label=>{setContent(prevState=>{const newOptions=[...prevState.options];return newOptions[index]=QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},newOptions[index]),{},{label}),QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},prevState),{},{options:newOptions})})},enableTextPlain:!0,enableIA:!0,enableImageUpload:!0}))),react.createElement(atoms.$n,{type:"light",className:"jk-row gap",onClick:()=>setContent(prevState=>QuizOptionsSheetSectionEditor_objectSpread(QuizOptionsSheetSectionEditor_objectSpread({},prevState),{},{options:[...prevState.options,{label:"",correct:!1,id:(0,v4.A)()}]}))},react.createElement(server.REV,null)," ",react.createElement(atoms.T,{className:"tt-se"},"add option"))))};QuizOptionsSheetSectionEditor.__docgenInfo={description:"",methods:[],displayName:"QuizOptionsSheetSectionEditor",props:{content:{required:!0,tsType:{name:"QuizOptionsSheetType"},description:""},setContent:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"QuizOptionsSheetType"}],raw:"SetStateAction<T>"}],raw:"Dispatch<SetStateAction<T>>"},description:""},isSolvable:{required:!0,tsType:{name:"boolean"},description:""}}};const QuizOptionsSheetSectionView=props=>{const{content,checkedOptions,setCheckedOptions,readOnly}=props;return react.createElement("div",{className:"bc-we jk-br-ie jk-pg jk-col stretch gap wh-100"},react.createElement(MdMathViewer.MdMathViewer,{source:content.description,className:"bc-hl jk-pg-xsm jk-br-ie"}),react.createElement(atoms.T,{className:"tt-se fw-bd cr-th"},content.multiple?"select one or more options":"select one option"),react.createElement("div",{className:"jk-col stretch left gap"},content.options.map(option=>react.createElement("div",{className:(0,helpers.xW)("jk-row gap nowrap extend left jk-br-ie option jk-br-ie jk-pg-xsm-rl",{"bc-hl":checkedOptions.includes(option.id)}),key:option.id,onClick:readOnly?void 0:()=>{content.multiple?checkedOptions.includes(option.id)?setCheckedOptions(checkedOptions.filter(o=>o!==option.id)):setCheckedOptions([...checkedOptions,option.id]):setCheckedOptions([option.id])}},content.multiple?react.createElement(atoms.GL,{checked:checkedOptions.includes(option.id),onChange:()=>null,className:(0,helpers.xW)({"bc-sl jk-br-ie":option.correct})}):react.createElement(atoms.U6,{checked:checkedOptions.includes(option.id),onChange:()=>null,className:(0,helpers.xW)({"bc-sl br-50-pc":option.correct})}),react.createElement("div",null,react.createElement(MdMathViewer.MdMathViewer,{source:option.label}))))))};QuizOptionsSheetSectionView.__docgenInfo={description:"",methods:[],displayName:"QuizOptionsSheetSectionView",props:{content:{required:!0,tsType:{name:"QuizOptionsSheetType"},description:""},checkedOptions:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},setCheckedOptions:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"}],raw:"SetStateAction<string[]>"}],raw:"Dispatch<SetStateAction<string[]>>"},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const QuizOptionsSheetSection_excluded=["url"];const QuizOptionsSheetSection=props=>{var _userResults$data$sub,_userResults$data,_lastSubmission$check;const{content:initialContent,setContent:saveContent,index,chunkId,sheetLength,setSheet,worksheetKey,isSolvable,userResults,readOnly}=props,{notifyResponse}=(0,useJukiNotification.E)(),[edit,setEdit]=(0,react.useState)(!1),[modal,setModal]=(0,react.useState)(!1),[content,_setContent]=(0,useStableState.I)(initialContent),setContent=saveContent?_setContent:void 0,sectionRef=(0,react.useRef)(null),onSaveEdit=()=>{setEdit(!edit),null==saveContent||saveContent(content)};useOnSaveSheetSection(sectionRef,edit,onSaveEdit);const submissions=null!==(_userResults$data$sub=null==userResults||null===(_userResults$data=userResults.data)||void 0===_userResults$data||null===(_userResults$data=_userResults$data.submissions[esm.Lc_.QUIZ_OPTIONS])||void 0===_userResults$data?void 0:_userResults$data[chunkId])&&void 0!==_userResults$data$sub?_userResults$data$sub:[],[selectedIndex,setSelectedIndex]=(0,useStableState.I)(submissions.length-1),lastSubmission=submissions.at(selectedIndex),[checkedOptions,setCheckedOptions]=(0,useStableState.I)(null!==(_lastSubmission$check=null==lastSubmission?void 0:lastSubmission.checkedOptions)&&void 0!==_lastSubmission$check?_lastSubmission$check:[]);return react.createElement("div",{ref:sectionRef,className:"jk-row top left nowrap stretch jk-br-ie pn-re wh-100",onDoubleClick:()=>setEdit(!0)},setContent&&react.createElement(EditSheetModal.j,{isOpen:modal,onClose:()=>setModal(!1),content,setContent,isValid:value=>(0,esm.UWh)(value)&&(0,esm.FKY)(JSON.parse(value))}),setContent&&edit?react.createElement(QuizOptionsSheetSectionEditor,{content,setContent,isSolvable}):react.createElement("div",{className:"jk-col stretch gap quiz-options-sheet-section-view wh-100 pn-re"},isSolvable&&!setSheet&&react.createElement(ResultHeaders,{submissions,points:content.points,selectedIndex,setSelectedIndex},!readOnly&&react.createElement(molecules.mT,{type:"light",size:"small",expand:!0,onClick:async setLoaderStatus=>{var _userResults$mutate;setLoaderStatus(esm.nW6.LOADING);const jkMdSubmissionDTO={type:esm.Lc_.QUIZ_OPTIONS,id:content.id,checkedOptions},_jukiApiManager$API_V=settings.Z.API_V1.worksheet.submitQuizOptions({params:{worksheetKey},body:jkMdSubmissionDTO}),{url}=_jukiApiManager$API_V,options=function QuizOptionsSheetSection_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function QuizOptionsSheetSection_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_jukiApiManager$API_V,QuizOptionsSheetSection_excluded),response=(0,esm.Hu3)(await(0,helpers.zb)(url,options));await(null==userResults||null===(_userResults$mutate=userResults.mutate)||void 0===_userResults$mutate?void 0:_userResults$mutate.call(userResults)),notifyResponse(response,setLoaderStatus)}},react.createElement(atoms.T,{className:"tt-se"},"save"))),react.createElement(ChunkTitle,{content}),react.createElement(QuizOptionsSheetSectionView,{content,checkedOptions,setCheckedOptions,readOnly})),setSheet&&react.createElement(molecules.GK,{actionButtons:getActionButtons({type:esm.Lc_.QUIZ_OPTIONS,edit,setModal,index,sheetLength,setSheet,onSaveEdit,onCancel:()=>{setEdit(!1),_setContent(initialContent)}}),placement:"out rightTop"}))};QuizOptionsSheetSection.__docgenInfo={description:"",methods:[],displayName:"QuizOptionsSheetSection",props:{content:{required:!0,tsType:{name:"QuizOptionsSheetType"},description:""},setContent:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"QuizOptionsSheetType"}],raw:"SetStateAction<T>"}],raw:"Dispatch<SetStateAction<T>>"},description:""},index:{required:!0,tsType:{name:"number"},description:""},chunkId:{required:!0,tsType:{name:"string"},description:""},sheetLength:{required:!0,tsType:{name:"number"},description:""},setSheet:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"BodyWorksheetType"}],raw:"T[]"}],raw:"SetStateAction<T[]>"}],raw:"Dispatch<SetStateAction<T[]>>"},description:""},worksheetKey:{required:!0,tsType:{name:"string"},description:""},isSolvable:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""},userResults:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  data?: WorksheetUserSubmissionsResponseDTO,\n  isLoading?: boolean,\n  validating?: boolean,\n  mutate?: KeyedMutator<any>,\n}",signature:{properties:[{key:"data",value:{name:"WorksheetUserSubmissionsResponseDTO",required:!1}},{key:"isLoading",value:{name:"boolean",required:!1}},{key:"validating",value:{name:"boolean",required:!1}},{key:"mutate",value:{name:"KeyedMutator",elements:[{name:"any"}],raw:"KeyedMutator<any>",required:!1}}]}},description:""},asSlides:{required:!0,tsType:{name:"boolean"},description:""}}};var ProblemSelector=__webpack_require__("./src/components/organisms/ProblemSelector/ProblemSelector.tsx"),PageNotFound=__webpack_require__("./src/components/templates/PageNotFound/PageNotFound.tsx");const ProblemSummary=_ref=>{let{problemKey}=_ref;return react.createElement("div",{style:{}},react.createElement(molecules.pW,{url:settings.Z.API_V1.problem.getSummary({params:{key:problemKey}}).url,errorView:react.createElement(PageNotFound.PageNotFound,null,react.createElement(atoms.T,{className:"tt-se"},"problem not found"))},_ref2=>{let{data}=_ref2;return react.createElement("div",{className:"jk-col"},react.createElement("div",{className:"fw-bd"},data.content.name),react.createElement("div",{className:"jk-tag bc-io"},data.content.judge.key),react.createElement("div",null,react.createElement(atoms.T,{className:"tt-se fw-bd"},"type"),": ",esm.hcK[data.content.settings.type].label),react.createElement("div",null,react.createElement(atoms.T,{className:"tt-se fw-bd"},"scoring mode"),": ",esm.wkj[data.content.settings.scoringMode].label))}))};function QuizProblemSheetSectionEditor_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function QuizProblemSheetSectionEditor_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?QuizProblemSheetSectionEditor_ownKeys(Object(t),!0).forEach(function(r){QuizProblemSheetSectionEditor_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):QuizProblemSheetSectionEditor_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function QuizProblemSheetSectionEditor_defineProperty(e,r,t){return(r=function QuizProblemSheetSectionEditor_toPropertyKey(t){var i=function QuizProblemSheetSectionEditor_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}ProblemSummary.__docgenInfo={description:"",methods:[],displayName:"ProblemSummary",props:{problemKey:{required:!0,tsType:{name:"string"},description:""}}};const QuizProblemSheetSectionEditor=_ref=>{var _content$languages;let{content,setContent,isSolvable}=_ref;return react.createElement("div",{className:"jk-col stretch left"},react.createElement("div",{className:"jk-col gap stretch flex-1",style:{width:"100%"}},react.createElement(atoms.pd,{label:react.createElement(atoms.T,{className:"tt-se"},"title"),labelPlacement:"top",value:content.title,onChange:title=>setContent(prevState=>QuizProblemSheetSectionEditor_objectSpread(QuizProblemSheetSectionEditor_objectSpread({},prevState),{},{title})),expand:!0}),isSolvable&&react.createElement(atoms.pd,{type:"number",label:react.createElement(atoms.T,{className:"tt-se"},"points"),labelPlacement:"top",value:content.points,onChange:points=>setContent(prevState=>QuizProblemSheetSectionEditor_objectSpread(QuizProblemSheetSectionEditor_objectSpread({},prevState),{},{points})),expand:!0}),react.createElement("div",{className:"flex-1"},react.createElement(atoms.T,{className:"fw-bd tt-se"},"languages"),":",react.createElement(atoms.KF,{options:esm.xRM.map(key=>{var _CODE_LANGUAGE$key$la,_CODE_LANGUAGE$key;return{value:key,label:null!==(_CODE_LANGUAGE$key$la=null===(_CODE_LANGUAGE$key=esm.fO_[key])||void 0===_CODE_LANGUAGE$key?void 0:_CODE_LANGUAGE$key.label)&&void 0!==_CODE_LANGUAGE$key$la?_CODE_LANGUAGE$key$la:key}}),selectedOptions:null===(_content$languages=content.languages)||void 0===_content$languages?void 0:_content$languages.map(language=>({value:language})),onChange:options=>setContent(prevState=>QuizProblemSheetSectionEditor_objectSpread(QuizProblemSheetSectionEditor_objectSpread({},prevState),{},{languages:options.map(option=>option.value)})),expand:!0})),react.createElement("div",null,content.problemKey?react.createElement(ProblemSummary,{problemKey:content.problemKey}):react.createElement(atoms.T,{className:"tt-se"},"please select a problem")),react.createElement("div",{className:"jk-row gap left"},react.createElement("div",null,react.createElement(atoms.T,{className:"fw-bd tt-se"},"height"),":"),react.createElement(atoms.GL,{checked:0===content.height,label:react.createElement(atoms.T,null,"auto"),onChange:value=>setContent(prevState=>QuizProblemSheetSectionEditor_objectSpread(QuizProblemSheetSectionEditor_objectSpread({},prevState),{},{height:value?0:constants.o}))}),react.createElement(atoms.pd,{disabled:0===content.height,type:"number",value:content.height,onChange:value=>setContent(prevState=>QuizProblemSheetSectionEditor_objectSpread(QuizProblemSheetSectionEditor_objectSpread({},prevState),{},{height:Math.abs(value)})),size:"auto"}),react.createElement(atoms.T,null,"px")),react.createElement(ProblemSelector.ProblemSelector,{onSelect:problem=>{setContent(prevState=>QuizProblemSheetSectionEditor_objectSpread(QuizProblemSheetSectionEditor_objectSpread({},prevState),{},{problemKey:problem.key,problemJudge:problem.judge.key}))}})))};QuizProblemSheetSectionEditor.__docgenInfo={description:"",methods:[],displayName:"QuizProblemSheetSectionEditor",props:{content:{required:!0,tsType:{name:"QuizProblemSheetType"},description:""},setContent:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"QuizProblemSheetType"}],raw:"SetStateAction<T>"}],raw:"Dispatch<SetStateAction<T>>"},description:""},isSolvable:{required:!0,tsType:{name:"boolean"},description:""}}};var ProblemView=__webpack_require__("./src/components/templates/ProblemView/ProblemView.tsx");const QuizProblemSheetSectionView_excluded=["url"];const QuizProblemSheetSectionView=_ref=>{let{content,worksheetKey}=_ref;const{notifyResponse}=(0,useJukiNotification.E)(),validHeight=!Number.isNaN(+content.height)&&+content.height>0;return react.createElement("div",{className:"jk-col nowrap gap wh-100",style:{maxHeight:validHeight?"calc(".concat(+content.height,"px + var(--gap))"):"calc(var(--100VH) - 300px)",height:validHeight?"calc(".concat(+content.height,"px + var(--gap))"):"calc(var(--100VH) * 0.6)"}},react.createElement("div",{className:"jk-col nowrap stretch flex-1 gap wh-100",style:{height:"100%"}},react.createElement(molecules.pW,{url:content.problemKey?settings.Z.API_V1.problem.getData({params:{key:content.problemKey}}).url:null},_ref2=>{let{data}=_ref2;return react.createElement(ProblemView.ProblemView,{problem:data.content,infoPlacement:"name",codeEditorStoreKey:"".concat(worksheetKey,"/").concat(content.id),codeEditorCenterButtons:_ref3=>{let{files,currentFileName}=_ref3;const{source="",language=esm.aFm.TEXT}=files[currentFileName]||{};return[react.createElement(molecules.b7,{key:"submit"},react.createElement(molecules.mT,{size:"small",onClick:async setLoaderStatus=>{setLoaderStatus(esm.nW6.LOADING);const quizProblem={id:content.id,type:esm.Lc_.QUIZ_PROBLEM,language,source},_jukiApiManager$API_V=settings.Z.API_V1.worksheet.submitQuizProblem({params:{worksheetKey},body:quizProblem}),{url}=_jukiApiManager$API_V,options=function QuizProblemSheetSectionView_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function QuizProblemSheetSectionView_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_jukiApiManager$API_V,QuizProblemSheetSectionView_excluded),response=(0,esm.Hu3)(await(0,helpers.zb)(url,options));notifyResponse(response,setLoaderStatus)}},react.createElement(atoms.T,{className:"tt-se"},"submit")))]}})})))};QuizProblemSheetSectionView.__docgenInfo={description:"",methods:[],displayName:"QuizProblemSheetSectionView",props:{content:{required:!0,tsType:{name:"QuizProblemSheetType"},description:""},worksheetKey:{required:!0,tsType:{name:"string"},description:""}}};const QuizProblemSheetSection=props=>{var _userResults$data$sub,_userResults$data,_lastSubmission$point;const{content:initialContent,setContent:saveContent,index,chunkId,sheetLength,setSheet,worksheetKey,isSolvable,userResults}=props,[edit,setEdit]=(0,react.useState)(!1),[modal,setModal]=(0,react.useState)(!1),[content,_setContent]=(0,useStableState.I)(initialContent),sectionRef=(0,react.useRef)(null),onSaveEdit=()=>{setEdit(!edit),null==saveContent||saveContent(content)};useOnSaveSheetSection(sectionRef,edit,onSaveEdit);const setContent=saveContent?_setContent:void 0,lastSubmission=(null!==(_userResults$data$sub=null==userResults||null===(_userResults$data=userResults.data)||void 0===_userResults$data||null===(_userResults$data=_userResults$data.submissions[esm.Lc_.QUIZ_PROBLEM])||void 0===_userResults$data?void 0:_userResults$data[chunkId])&&void 0!==_userResults$data$sub?_userResults$data$sub:[]).at(-1);return react.createElement("div",{className:"jk-row top left nowrap stretch jk-br-ie pn-re wh-100",onDoubleClick:()=>setEdit(!0)},setContent&&react.createElement(EditSheetModal.j,{isOpen:modal,onClose:()=>setModal(!1),content,setContent,isValid:value=>(0,esm.UWh)(value)&&(0,esm.kS$)(JSON.parse(value))}),setContent&&edit?react.createElement(QuizProblemSheetSectionEditor,{content,setContent,isSolvable}):react.createElement("div",{className:"jk-col gap stretch center quiz-problem-sheet-section-view wh-100 pn-re"},isSolvable&&!setSheet&&react.createElement(ResultHeader,{submitted:!!lastSubmission,points:content.points,userPoints:null!==(_lastSubmission$point=null==lastSubmission?void 0:lastSubmission.points)&&void 0!==_lastSubmission$point?_lastSubmission$point:0,isResolved:!(null==lastSubmission||!lastSubmission.isCompleted)},!(null==lastSubmission||!lastSubmission.isCompleted)&&react.createElement(react.Fragment,null,react.createElement(server.Srz,{size:"tiny"})," ",react.createElement(atoms.T,{className:"tt-se"},"resolved"))),react.createElement(ChunkTitle,{content}),content.problemKey?react.createElement(QuizProblemSheetSectionView,{content,worksheetKey}):react.createElement("div",{className:"jk-row center"},react.createElement(atoms.T,{className:"tt-se cr-er"},"problem not selected"))),setSheet&&react.createElement(molecules.GK,{actionButtons:getActionButtons({type:esm.Lc_.QUIZ_PROBLEM,edit,setModal,index,sheetLength,setSheet,onSaveEdit,onCancel:()=>{setEdit(!1),_setContent(initialContent)}}),placement:"out rightTop"}))};QuizProblemSheetSection.__docgenInfo={description:"",methods:[],displayName:"QuizProblemSheetSection",props:{content:{required:!0,tsType:{name:"QuizProblemSheetType"},description:""},setContent:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"QuizProblemSheetType"}],raw:"SetStateAction<T>"}],raw:"Dispatch<SetStateAction<T>>"},description:""},index:{required:!0,tsType:{name:"number"},description:""},chunkId:{required:!0,tsType:{name:"string"},description:""},sheetLength:{required:!0,tsType:{name:"number"},description:""},setSheet:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"BodyWorksheetType"}],raw:"T[]"}],raw:"SetStateAction<T[]>"}],raw:"Dispatch<SetStateAction<T[]>>"},description:""},worksheetKey:{required:!0,tsType:{name:"string"},description:""},isSolvable:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""},userResults:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  data?: WorksheetUserSubmissionsResponseDTO,\n  isLoading?: boolean,\n  validating?: boolean,\n  mutate?: KeyedMutator<any>,\n}",signature:{properties:[{key:"data",value:{name:"WorksheetUserSubmissionsResponseDTO",required:!1}},{key:"isLoading",value:{name:"boolean",required:!1}},{key:"validating",value:{name:"boolean",required:!1}},{key:"mutate",value:{name:"KeyedMutator",elements:[{name:"any"}],raw:"KeyedMutator<any>",required:!1}}]}},description:""},asSlides:{required:!0,tsType:{name:"boolean"},description:""}}};const WorksheetNode=props=>{var _sheet;const{sheet,setSheet,userResults,readOnly,isSolvable,worksheetKey,asSlides,index,length}=props,chunk=sheet[index],setContent=setSheet?value=>{setSheet(sheet=>{const newSheet=[...sheet],newContent="function"==typeof value?value(newSheet[index]):value;return newSheet.splice(index,1,structuredClone(newContent)),newSheet})}:void 0,isNextJkmd=(null===(_sheet=sheet[index+1])||void 0===_sheet?void 0:_sheet.type)===esm.Lc_.JK_MD,sectionProps={content:chunk,setContent:asSlides?void 0:setContent,index,chunkId:chunk.id,sheetLength:sheet.length,setSheet:asSlides?void 0:setSheet,worksheetKey,isSolvable,userResults,readOnly,asSlides:!!asSlides};return asSlides&&chunk.type===esm.Lc_.JK_MD?react.createElement(JkmdSheetSection,sectionProps):react.createElement(react.Fragment,{key:chunk.id},react.createElement("div",{id:chunk.id,className:(0,helpers.xW)("jk-row nowrap stretch top gap pn-re jk-br-ie wh-100","".concat(chunk.type,"-chunk"),{editing:!!setSheet,"next-jkmd":isNextJkmd})},chunk.type===esm.Lc_.JK_MD&&react.createElement(JkmdSheetSection,sectionProps),chunk.type===esm.Lc_.CODE_EDITOR&&react.createElement(CodeEditorSheetSection,sectionProps),chunk.type===esm.Lc_.GRAPH&&react.createElement(GraphSheetSection,sectionProps),chunk.type===esm.Lc_.QUIZ_PROBLEM&&react.createElement(QuizProblemSheetSection,sectionProps),chunk.type===esm.Lc_.QUIZ_OPTIONS&&react.createElement(QuizOptionsSheetSection,sectionProps)),setSheet&&!asSlides&&react.createElement("div",{className:"jk-row gap extend nowrap center jk-divider tiny editing"},react.createElement(AddNewChild.Y,{index,setSheet,mdSheet:!0,codeEditorSheet:!0,graphSheet:!0,quizProblemSheet:!0,quizOptionsSheetType:!0,pageDivider:!0,compacted:!0,floatToolbarPlacement:index===length-1?"center top":"center"})))};WorksheetNode.__docgenInfo={description:"",methods:[],displayName:"WorksheetNode",props:{index:{required:!0,tsType:{name:"number"},description:""},length:{required:!0,tsType:{name:"number"},description:""}},composes:["Pick"]}},"./src/components/templates/PageNotFound/PageNotFound.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PageNotFound:()=>PageNotFound});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_hooks_useJukiUI__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/hooks/useJukiUI.tsx"),_atoms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/index.tsx"),_server__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/server/index.ts");function PageNotFound(_ref){let{children,style}=_ref;const{components:{Link}}=(0,_hooks_useJukiUI__WEBPACK_IMPORTED_MODULE_1__.p)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"jk-col extend",style},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"jk-col gap center"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"image-404"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_server__WEBPACK_IMPORTED_MODULE_3__.CZe,null)),children||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_2__.T,{className:"tt-se"},"page not found")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"ta-cr"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_2__.T,{className:"tt-se"},"the page does not exist or you do not have permissions to view it")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Link,{href:"/"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_2__.$n,{size:"small",icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_server__WEBPACK_IMPORTED_MODULE_3__.fAJ,null)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms__WEBPACK_IMPORTED_MODULE_2__.T,null,"go to home page"))))))}PageNotFound.__docgenInfo={description:"",methods:[],displayName:"PageNotFound",props:{style:{required:!1,tsType:{name:"CSSProperties"},description:""}},composes:["PropsWithChildren"]}}}]);