"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[2096,8688,9045],{"./src/components/organisms/ImageUploader/ImageUploaderModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ImageUploaderModal:()=>ImageUploaderModal});var react=__webpack_require__("./node_modules/react/index.js"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),molecules=__webpack_require__("./src/components/molecules/index.tsx"),server=__webpack_require__("./src/components/server/index.ts"),settings=__webpack_require__("./src/settings/index.ts"),helpers=__webpack_require__("./src/helpers/index.ts"),useJukiNotification=__webpack_require__("./src/hooks/useJukiNotification.tsx"),types=__webpack_require__("./src/types/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const PublicImages=props=>{const{copyButtons,onPickImageUrl,publicImages}=props,{addNotification}=(0,useJukiNotification.E)();return(0,jsx_runtime.jsx)("div",{className:"public-images-tab jk-row",children:publicImages.map((publicImage,index)=>(0,jsx_runtime.jsxs)("div",{className:"thumbnail",children:[(0,jsx_runtime.jsx)("img",{src:publicImage.imageThumbnailUrl+"?v=".concat((new Date).getTime()),alt:"image "+index}),(0,jsx_runtime.jsx)(molecules.GK,{actionButtons:[...copyButtons?[{icon:(0,jsx_runtime.jsx)(server.c8I,{}),buttons:[{icon:(0,jsx_runtime.jsx)(server.c8I,{size:"small"}),label:(0,jsx_runtime.jsx)(atoms.T,{children:"URL"}),onClick:()=>{(0,helpers.C)(publicImage.imageUrl),addNotification({type:types.NotificationType.QUIET,message:(0,jsx_runtime.jsx)(atoms.T,{children:"copied"})})}},{icon:(0,jsx_runtime.jsx)(server.c8I,{}),label:(0,jsx_runtime.jsx)(atoms.T,{children:"MD"}),onClick:()=>{(0,helpers.C)("![image alt](".concat(publicImage.imageUrl,")")),addNotification({type:types.NotificationType.QUIET,message:(0,jsx_runtime.jsx)(atoms.T,{children:"copied"})})}}]}]:[],...onPickImageUrl?[{icon:(0,jsx_runtime.jsx)(server.Srz,{}),buttons:[{icon:(0,jsx_runtime.jsx)(server.Srz,{size:"small"}),label:(0,jsx_runtime.jsx)(atoms.T,{children:"pick"}),onClick:()=>{onPickImageUrl(publicImage),addNotification({type:types.NotificationType.QUIET,message:(0,jsx_runtime.jsx)(atoms.T,{children:"picked"})})}}]}]:[]]})]},publicImage.imageUrl))})};PublicImages.__docgenInfo={description:"",methods:[],displayName:"PublicImages",props:{copyButtons:{required:!1,tsType:{name:"boolean"},description:""},onPickImageUrl:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { imageThumbnailUrl: string, imageUrl: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ imageThumbnailUrl: string, imageUrl: string }",signature:{properties:[{key:"imageThumbnailUrl",value:{name:"string",required:!0}},{key:"imageUrl",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"void"}}},description:""},publicImages:{required:!0,tsType:{name:"Array",elements:[{name:"ImageSummaryResponseDTO"}],raw:"ImageSummaryResponseDTO[]"},description:""}}};const PublicImagesTab=props=>(0,jsx_runtime.jsx)(molecules.pW,{url:settings.u.API_V1.image.getPublicList().url,triggerFetch:props.trigger,children:_ref=>{let{data:{contents},mutate}=_ref;return(0,jsx_runtime.jsx)(PublicImages,{publicImages:contents,copyButtons:props.copyButtons,onPickImageUrl:props.onPickImageUrl})}});PublicImagesTab.__docgenInfo={description:"",methods:[],displayName:"PublicImagesTab",props:{trigger:{required:!0,tsType:{name:"number"},description:""},copyButtons:{required:!1,tsType:{name:"boolean"},description:""},onPickImageUrl:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { imageThumbnailUrl: string, imageUrl: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ imageThumbnailUrl: string, imageUrl: string }",signature:{properties:[{key:"imageThumbnailUrl",value:{name:"string",required:!0}},{key:"imageUrl",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"void"}}},description:""}}};var esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js");const UploadNewImageTab=(0,react.memo)(_ref=>{let{copyButtons,onPickImageUrl,onUploadedImage}=_ref;const[imagePublicUrl,setImagePublicUrl]=(0,react.useState)(""),[cropImage,setCropImage]=(0,react.useState)(),[isPublic,setIsPublic]=(0,react.useState)(!1),{addNotification}=(0,useJukiNotification.E)();return(0,jsx_runtime.jsxs)("div",{className:"upload-new-image-tab jk-col top gap",children:[imagePublicUrl&&(0,jsx_runtime.jsxs)("div",{className:"jk-col left",children:[copyButtons&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"jk-row gap left fw-bd",children:[(0,jsx_runtime.jsx)(atoms.T,{children:"public url"}),":",(0,jsx_runtime.jsxs)("div",{className:"copyable jk-row",children:[(0,jsx_runtime.jsx)("a",{href:imagePublicUrl,className:"link",target:"_blank",rel:"noreferrer",children:imagePublicUrl}),(0,jsx_runtime.jsx)(atoms.$r,{text:imagePublicUrl,size:"small"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"jk-row gap left fw-bd",children:[(0,jsx_runtime.jsx)(atoms.T,{children:"markdown use"}),":",(0,jsx_runtime.jsxs)("div",{className:"copyable jk-row",children:[(0,jsx_runtime.jsxs)("span",{className:"tx-t fw-bd",children:["![image alt](",imagePublicUrl,")"]}),(0,jsx_runtime.jsx)(atoms.$r,{text:"![image alt](".concat(imagePublicUrl,")"),size:"small"})]})]})]}),onPickImageUrl&&(0,jsx_runtime.jsx)(atoms.$n,{onClick:()=>onPickImageUrl({imageUrl:imagePublicUrl,imageThumbnailUrl:imagePublicUrl.replace("https://images.juki.pub/o/","https://images.juki.pub/t/")}),size:"small",expand:!0,children:(0,jsx_runtime.jsx)(atoms.T,{children:"pick"})})]}),(0,jsx_runtime.jsx)(atoms.JN,{checked:isPublic,leftLabel:(0,jsx_runtime.jsx)(atoms.T,{className:(0,helpers.xW)("tt-se",{"fw-bd":!isPublic}),children:"not public"}),rightLabel:(0,jsx_runtime.jsx)(atoms.T,{className:(0,helpers.xW)("tt-se",{"fw-bd":isPublic}),children:"public"}),onChange:setIsPublic}),(0,jsx_runtime.jsx)(molecules.mT,{onClick:async setLoader=>{if(null!=cropImage&&cropImage.previewCanvasRef.current){const blob=await(0,helpers.ZR)(cropImage.previewCanvasRef.current);if(blob){null==setLoader||setLoader(esm.nW6.LOADING);const{status,message,content}=await(0,helpers.XO)(blob,isPublic);status===esm.nW6.SUCCESS?(addNotification({type:types.NotificationType.SUCCESS,message:(0,jsx_runtime.jsx)(atoms.T,{children:message})}),null==setLoader||setLoader(esm.nW6.SUCCESS),setImagePublicUrl(content.imageUrl),onUploadedImage()):(addNotification({type:types.NotificationType.ERROR,message:(0,jsx_runtime.jsx)(atoms.T,{children:message})}),null==setLoader||setLoader(esm.nW6.ERROR))}}},disabled:!cropImage||!(null!=cropImage&&cropImage.previewCanvasRef.current),size:"small",children:(0,jsx_runtime.jsx)(atoms.T,{children:"upload image"})}),(0,jsx_runtime.jsx)(molecules.MI,{onCropChange:setCropImage,withAspect:!0,withRotate:!0,withScale:!0})]})});UploadNewImageTab.__docgenInfo={description:"",methods:[],displayName:"UploadNewImageTab",props:{copyButtons:{required:!1,tsType:{name:"boolean"},description:""},onPickImageUrl:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { imageThumbnailUrl: string, imageUrl: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ imageThumbnailUrl: string, imageUrl: string }",signature:{properties:[{key:"imageThumbnailUrl",value:{name:"string",required:!0}},{key:"imageUrl",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"void"}}},description:""},onUploadedImage:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ImageUploaderModal=props=>{const{isOpen,onClose,withPublicImagesTab=!0,copyButtons,onPickImageUrl}=props,[count,setCount]=(0,react.useState)(0),tabHeaders=[];return withPublicImagesTab&&tabHeaders.push({key:"public-images",header:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"public images"}),(0,jsx_runtime.jsx)(atoms.$n,{icon:(0,jsx_runtime.jsx)(server.fNY,{}),size:"small",type:"light",onClick:()=>setCount(count+1)})]}),body:(0,jsx_runtime.jsx)(PublicImagesTab,{trigger:count,copyButtons,onPickImageUrl},"public-images-tab")}),tabHeaders.push({key:"upload-new-image",header:(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"upload new image"}),body:(0,jsx_runtime.jsx)(UploadNewImageTab,{copyButtons,onPickImageUrl,onUploadedImage:()=>setCount(count+1)},"upload-new-image-tab")}),(0,jsx_runtime.jsx)(atoms.aF,{isOpen,onClose,className:"modal-upload-image",children:(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(molecules.tU,{tabs:tabHeaders})})})};ImageUploaderModal.__docgenInfo={description:"",methods:[],displayName:"ImageUploaderModal",props:{withPublicImagesTab:{required:!1,tsType:{name:"boolean"},description:""},copyButtons:{required:!1,tsType:{name:"boolean"},description:""},onPickImageUrl:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { imageThumbnailUrl: string, imageUrl: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ imageThumbnailUrl: string, imageUrl: string }",signature:{properties:[{key:"imageThumbnailUrl",value:{name:"string",required:!0}},{key:"imageUrl",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"void"}}},description:""}},composes:["ModalProps"]}},"./src/components/organisms/ImageUploader/UploadImageButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UploadImageButton:()=>UploadImageButton});__webpack_require__("./node_modules/react/index.js");var _atoms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/index.tsx"),_server__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/server/index.ts"),_ImageUploaderModal__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/organisms/ImageUploader/ImageUploaderModal.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const UploadImageButton=props=>{const{open,setOpen,isOpenRef,withLabel=!1,copyButtons,onPickImageUrl,children:_children}=props;isOpenRef&&(isOpenRef.current=open);const children=_children||(_ref=>{let{setOpen,withLabel}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.$n,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_server__WEBPACK_IMPORTED_MODULE_2__.kAu,{}),type:"void",className:"bc-we",size:"small",onClick:()=>setOpen(!0),children:withLabel&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.T,{children:"pick / upload image"})})});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{"data-tooltip-id":"jk-tooltip","data-tooltip-content":withLabel?"":"upload image","data-tooltip-t-class-name":"ws-np tt-se",children:children({open,setOpen,withLabel})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ImageUploaderModal__WEBPACK_IMPORTED_MODULE_3__.ImageUploaderModal,{isOpen:open,onClose:()=>setOpen(!1),copyButtons,onPickImageUrl})]})};UploadImageButton.__docgenInfo={description:"",methods:[],displayName:"UploadImageButton",props:{open:{required:!0,tsType:{name:"boolean"},description:""},setOpen:{required:!0,tsType:{name:"Dispatch",elements:[{name:"boolean"}],raw:"Dispatch<boolean>"},description:""},isOpenRef:{required:!1,tsType:{name:"MutableRefObject",elements:[{name:"boolean"}],raw:"MutableRefObject<boolean>"},description:""},withLabel:{required:!1,tsType:{name:"boolean"},description:""},copyButtons:{required:!1,tsType:{name:"boolean"},description:""},onPickImageUrl:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { imageThumbnailUrl: string, imageUrl: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ imageThumbnailUrl: string, imageUrl: string }",signature:{properties:[{key:"imageThumbnailUrl",value:{name:"string",required:!0}},{key:"imageUrl",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"void"}}},description:""},children:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: UploadImageButtonChildrenProps) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ open: boolean, setOpen: Dispatch<boolean>, withLabel: boolean }",signature:{properties:[{key:"open",value:{name:"boolean",required:!0}},{key:"setOpen",value:{name:"Dispatch",elements:[{name:"boolean"}],raw:"Dispatch<boolean>",required:!0}},{key:"withLabel",value:{name:"boolean",required:!0}}]}},name:"props"}],return:{name:"ReactNode"}}},description:""}}}},"./src/components/organisms/mdMath/MdMathEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MdMathEditor:()=>MdMathEditor});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react=__webpack_require__("./node_modules/react/index.js"),useResizeDetector=__webpack_require__("./node_modules/react-resize-detector/build/useResizeDetector.js"),constants=__webpack_require__("./src/constants/index.ts"),helpers=__webpack_require__("./src/helpers/index.ts"),useJukiNotification=__webpack_require__("./src/hooks/useJukiNotification.tsx"),types=__webpack_require__("./src/types/index.ts"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),molecules=__webpack_require__("./src/components/molecules/index.tsx"),server=__webpack_require__("./src/components/server/index.ts"),UploadImageButton=__webpack_require__("./src/components/organisms/ImageUploader/UploadImageButton.tsx"),mdMath_constants=__webpack_require__("./src/components/organisms/mdMath/constants.ts"),MdFloatToolbar=__webpack_require__("./src/components/organisms/mdMath/MdFloatToolbar/MdFloatToolbar.tsx"),MdMathViewer=__webpack_require__("./src/components/organisms/mdMath/MdMathViewer.tsx"),MdMath=__webpack_require__("./src/components/organisms/mdMath/viewer/MdMath.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const MemoMdMath=(0,react.memo)(_ref=>{let{source}=_ref;return function splitMarkdownIntoChunks(md){const lines=md.split("\n"),chunks=[];let buffer=[],inCodeBlock=!1,inTable=!1;const isCodeFence=line=>{const trimmed=line.trim();return trimmed.startsWith("```")||trimmed.endsWith("```")},isTableLine=line=>line.includes("|")&&!line.trim().startsWith("-")&&!line.trim().startsWith(">"),isSeparator=line=>{const trimmed=line.trim();return/^-{3,}$/.test(trimmed)};for(let i=0;i<lines.length;i++){var _lines;const line=lines[i];isCodeFence(line)&&(inCodeBlock=!inCodeBlock),isTableLine(line)&&!inCodeBlock?inTable=!0:""!==line.trim()||inCodeBlock||(inTable=!1);const nextLine=null!==(_lines=lines[i+1])&&void 0!==_lines?_lines:"",isBlankLine=""===line.trim(),isNextBlankLine=""===nextLine.trim();inCodeBlock||inTable||!(isSeparator(line)||isBlankLine&&isNextBlankLine)?buffer.push(line):(buffer.length>0&&(chunks.push(buffer.join("\n").trim()),buffer=[]),i++)}return buffer.length>0&&chunks.push(buffer.join("\n").trim()),chunks}(source).map((chunk,index)=>(0,jsx_runtime.jsx)(MdMath.s,{source:chunk},chunk+index))}),MemoMdMathViewer=_ref=>{let{source,downloadButton,className}=_ref;return(0,jsx_runtime.jsxs)("div",{className:(0,helpers.xW)("jk-md-math-viewer-layout",className),children:[(0,jsx_runtime.jsx)(MdFloatToolbar.z,{source,download:downloadButton}),(0,jsx_runtime.jsx)(MemoMdMath,{source})]})};MemoMdMathViewer.__docgenInfo={description:"",methods:[],displayName:"MemoMdMathViewer",props:{source:{required:!0,tsType:{name:"string"},description:""},dark:{required:!1,tsType:{name:"boolean"},description:""},downloadButton:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},blur:{required:!1,tsType:{name:"boolean"},description:""},unBlur:{required:!1,tsType:{name:"boolean"},description:""}}};const InformationButton=_ref=>{let{open,setOpen,isOpenRef,withLabel}=_ref;const[source,setSource]=(0,react.useState)(mdMath_constants.$);return(0,react.useEffect)(()=>setSource(mdMath_constants.$),[open]),isOpenRef&&(isOpenRef.current=open),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.$n,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":withLabel?"":"information","data-tooltip-t-class-name":"ws-np tt-se",size:"small",className:"bc-we",type:"void",icon:(0,jsx_runtime.jsx)(server.xK3,{circle:!0}),onClick:()=>setOpen(!0),children:withLabel&&(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"information"})}),(0,jsx_runtime.jsx)(atoms.aF,{isOpen:open,onClose:()=>setOpen(!1),className:"modal-info-markdown",children:(0,jsx_runtime.jsx)(MdMathEditor,{source,onChange:setSource})})]})};var View=function(View){return View.ONLY_EDITOR="ONLY_EDITOR",View.EDITOR_VIEWER_HORIZONTAL="EDITOR_VIEWER_HORIZONTAL",View.EDITOR_VIEWER_VERTICAL="EDITOR_VIEWER_VERTICAL",View.ONLY_VIEWER="ONLY_VIEWER",View}(View||{});const MdMathEditor=props=>{const{source,onChange,informationButton=!1,uploadImageButton=!1,downloadButton=!1,initEditMode=!1}=props,[view,setView]=(0,react.useState)(View.EDITOR_VIEWER_HORIZONTAL),textareaRef=(0,react.useRef)(null),[mdSource,setMdSource]=(0,react.useState)(source),[editing,setEditing]=(0,react.useState)(initEditMode),[loader,setLoader]=(0,react.useState)(esm.nW6.NONE),layoutEditorRef=(0,react.useRef)(null),{addNotification}=(0,useJukiNotification.E)(),[openUploadModal,setOpenUploadModal]=(0,react.useState)(!1),[openInfoModal,setOpenInfoModal]=(0,react.useState)(!1),changeSource=(0,react.useCallback)((newText,editing,view)=>{const fun=()=>{!editing||view!==View.ONLY_EDITOR&&view!==View.EDITOR_VIEWER_VERTICAL&&view!==View.EDITOR_VIEWER_HORIZONTAL||(textareaRef.current?textareaRef.current.value=newText:setTimeout(fun,200))};fun(),setMdSource(newText)},[]);(0,react.useEffect)(()=>{changeSource(source,editing,view)},[changeSource,editing,source,view]);const{width=0}=(0,useResizeDetector.A)((0,objectSpread2.A)({targetRef:layoutEditorRef},constants.fV)),withLabels=width>600;return(0,react.useEffect)(()=>{const handleClickOutside=event=>{!layoutEditorRef.current||layoutEditorRef.current.contains(event.target)||openUploadModal||openInfoModal||setTimeout(()=>{setEditing(!1)},0)};return"undefined"!=typeof document&&document.addEventListener("mousedown",handleClickOutside),()=>{"undefined"!=typeof document&&document.removeEventListener("mousedown",handleClickOutside)}},[openInfoModal,openUploadModal]),(0,jsx_runtime.jsxs)("div",{ref:layoutEditorRef,className:(0,helpers.xW)("jk-md-math-editor-layout jk-border-radius-inline",{editing}),children:[editing?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"content-bar-options jk-row space-between jk-br-ie jk-pg-xsm sticky-top bc-we",children:[(0,jsx_runtime.jsxs)("div",{className:(0,helpers.xW)("jk-row gap left",{gap:!withLabels}),children:[informationButton&&(0,jsx_runtime.jsx)(InformationButton,{open:openInfoModal,setOpen:setOpenInfoModal,withLabel:withLabels}),uploadImageButton&&(0,jsx_runtime.jsx)(UploadImageButton.UploadImageButton,{open:openUploadModal,setOpen:setOpenUploadModal,withLabel:withLabels,copyButtons:!0}),view===View.ONLY_EDITOR&&(0,jsx_runtime.jsx)(atoms.$n,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":withLabels?"":"editor | preview","data-tooltip-t-class-name":"ws-np",type:"void",size:"small",className:"bc-we",onClick:()=>setView(View.EDITOR_VIEWER_HORIZONTAL),children:(0,jsx_runtime.jsx)("div",{className:"jk-row",children:withLabels&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(atoms.T,{children:"editor"})," ",(0,jsx_runtime.jsx)(server.qUP,{}),"  | ",(0,jsx_runtime.jsx)(server.cyn,{})," ",(0,jsx_runtime.jsx)(atoms.T,{children:"preview"})]})})}),view===View.EDITOR_VIEWER_HORIZONTAL&&(0,jsx_runtime.jsx)(atoms.$n,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":withLabels?"":"preview","data-tooltip-t-class-name":"ws-np",type:"void",size:"small",className:"bc-we",icon:(0,jsx_runtime.jsx)(server.cyn,{}),onClick:()=>setView(View.ONLY_VIEWER),children:withLabels&&(0,jsx_runtime.jsx)(atoms.T,{children:"preview"})}),view===View.ONLY_VIEWER&&(0,jsx_runtime.jsx)(atoms.$n,{"data-tooltip-id":"jk-tooltip","data-tooltip-content":withLabels?"":"editor","data-tooltip-t-class-name":"ws-np",type:"void",size:"small",className:"bc-we",icon:(0,jsx_runtime.jsx)(server.qUP,{}),onClick:()=>setView(View.ONLY_EDITOR),children:withLabels&&(0,jsx_runtime.jsx)(atoms.T,{children:"editor"})})]}),(0,jsx_runtime.jsx)(atoms.$n,{icon:(0,jsx_runtime.jsx)(server.USm,{}),type:"void",size:"small",className:"bc-we",onClick:()=>setEditing(!1)})]}),(0,jsx_runtime.jsx)("div",{className:(0,helpers.xW)("content-editor-preview",{"editor-top-preview-bottom":view===View.EDITOR_VIEWER_VERTICAL}),children:(0,jsx_runtime.jsxs)(molecules.vh,{onlyFirstPane:view===View.ONLY_EDITOR,onlySecondPane:view===View.ONLY_VIEWER,children:[(0,jsx_runtime.jsx)("div",{className:"editor",onPaste:uploadImageButton?async event=>{var _event$clipboardData;const items=null===(_event$clipboardData=event.clipboardData)||void 0===_event$clipboardData?void 0:_event$clipboardData.items;if(items){const imageFiles=[];for(const item of items)if("file"===item.kind){const file=item.getAsFile();file&&file.type.startsWith("image/")&&imageFiles.push(file)}if(imageFiles.length>0){event.stopPropagation(),event.preventDefault();let extraText="";setLoader(esm.nW6.LOADING);for(const imageFile of imageFiles){const{status,message,content}=await(0,helpers.XO)(imageFile,!1);status===esm.nW6.SUCCESS?(addNotification({type:types.NotificationType.SUCCESS,message:(0,jsx_runtime.jsx)(atoms.T,{children:message})}),extraText+=(extraText?"\n\n":"")+"![image alt](".concat(content.imageUrl,")")):addNotification({type:types.NotificationType.ERROR,message:(0,jsx_runtime.jsx)(atoms.T,{children:message})})}setLoader(esm.nW6.NONE),(insertText=>{var _textareaRef$current$,_textareaRef$current;const textarea=textareaRef.current;if(!textarea)return;const start=textarea.selectionStart,end=textarea.selectionEnd,text=null!==(_textareaRef$current$=null===(_textareaRef$current=textareaRef.current)||void 0===_textareaRef$current?void 0:_textareaRef$current.value)&&void 0!==_textareaRef$current$?_textareaRef$current$:"",newText=text.substring(0,start)+insertText+text.substring(end);changeSource(newText,editing,view),null==onChange||onChange(newText),setTimeout(()=>{textarea.selectionStart=textarea.selectionEnd=start+insertText.length},0)})(extraText)}}}:void 0,children:(0,jsx_runtime.jsx)(atoms.fs,{ref:textareaRef,onChange:value=>{null==onChange||onChange(value),setMdSource(value)}})}),(0,jsx_runtime.jsx)("div",{className:"preview",children:(0,jsx_runtime.jsx)(MemoMdMathViewer,{className:"jk-br-ie br-hl jk-pg-xsm",source:mdSource})})]})})]}):(0,jsx_runtime.jsxs)("div",{className:"content-preview",children:[(0,jsx_runtime.jsx)(MdFloatToolbar.z,{source:mdSource,edit:!0,onEdit:()=>setEditing(!0),download:downloadButton}),(0,jsx_runtime.jsx)("div",{className:"preview",onDoubleClick:()=>{setEditing(!0),setView(View.EDITOR_VIEWER_HORIZONTAL)},children:(0,jsx_runtime.jsx)(MdMathViewer.MdMathViewer,{className:"jk-br-ie br-hl jk-pg-xsm",source:mdSource})})]}),loader===esm.nW6.LOADING&&(0,jsx_runtime.jsxs)("div",{className:"jk-loader-layer pn-ae",children:[(0,jsx_runtime.jsx)("div",{className:"jk-loader-layer pn-ae jk-overlay-backdrop",style:{opacity:.8}}),(0,jsx_runtime.jsx)("div",{className:"jk-row",style:{zIndex:1},children:(0,jsx_runtime.jsxs)("div",{className:"jk-row bc-we jk-pg-sm jk-br-ie",style:{alignItems:"baseline"},children:[(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"uploading images"}),"  ",(0,jsx_runtime.jsx)("div",{className:"dot-flashing"})]})})]})]})};MdMathEditor.__docgenInfo={description:"",methods:[],displayName:"MdMathEditor",props:{source:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},informationButton:{required:!1,tsType:{name:"boolean"},description:""},uploadImageButton:{required:!1,tsType:{name:"boolean"},description:""},downloadButton:{required:!1,tsType:{name:"boolean"},description:""},initEditMode:{required:!1,tsType:{name:"boolean"},description:""}}}},"./src/components/organisms/mdMath/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>SAMPLE_MD_CONTENT});const SAMPLE_MD_CONTENT='# \\textAlign=center JUKI Markdown Tutorial\n---\n# 1. Headings\n## 1.1. Sizes\n\n- Title H1 `# Title H1`\n  # Title H1\n\n- Title H2 `## Title H2`\n  ## Title H2\n\n- Title H3 `### Title H3`\n  ### Title H3\n\n- Title H4 `#### Title H4`\n  #### Title H4\n\n- Title H5 `##### Title H5`\n  ##### Title H5\n\n- Title H6 `###### Title H6`\n  ###### Title H6\n\n## 1.2. Alignment\n\n- Left alignment `#### \\textAlign=left Left aligned H4 title`\n  #### \\textAlign=left Left aligned H4 title\n\n- Center alignment `#### \\textAlign=center Center aligned H4 title`\n  #### \\textAlign=center Center aligned H4 title\n\n- Right alignment `#### \\textAlign=right Right aligned H4 title`\n  #### \\textAlign=right Right aligned H4 title\n\n> Headings are **left** aligned by default\n\n## 1.3 With links\n\nAnchor (`#title-id`) should be unique on the page\n\nHeading with link\n\n## [Title](#title-id)\n\n```\n##[ Title](#title-id)\n```\n\nHeading with code and link\n\n## [Title `some code`](#title-some-code-id)\n\n```\n## [Title `some code`](#title-some-code-id)\n```\n\n---\n\n# 2. Paragraphs\n\n- Italic text `*some ITALIC text*`\n\n  Lorem *some ITALIC text* ipsum.\n\n- Bold text `**some BOLD text**`\n\n  Lorem **some BOLD text** ipsum.\n\n- Italic Bold text `***some ITALIC BOLD text***`\n\n  Lorem ***some ITALIC BOLD text*** ipsum.\n\n- Code inline text `` `some CODE INLINE text` ``\n\n  Lorem `some CODE INLINE text` ipsum.\n\n- Link text `[some link text](https://judge.juki.app)`\n\n  Lorem [some link text](https://judge.juki.app) ipsum.\n\n- Inline math `$1 \\leq N \\leq 10^5, \\sum_{j=0}^3 j^2, \\int_{x=0}^3 x^2$`\n\n  Lorem $1 \\leq N \\leq 10^5, \\sum_{j=0}^3 j^2, \\int_{x=0}^3 x^2$ ipsum.\n\n## 2.1 Alignment\n\n- Justify alignment `\\textAlign=justify`\n\n  ```\n  \\textAlign=justify\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\n  ```\n\n  \\textAlign=justify\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\n\n- Left alignment `\\textAlign=left`\n  ```\n  \\textAlign=left\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n  ```\n\n  \\textAlign=left\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\n- Center alignment `\\textAlign=center`\n\n  ```\n  \\textAlign=center\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n  ```\n  \\textAlign=center\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\n- Right alignment `\\textAlign=right`\n\n  ```\n  \\textAlign=right\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n  ```\n  \\textAlign=right\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\n\n> Paragraphs are **justify** aligned by default\n\n---\n\n# [3. Images](#images)\n\n- Normal image `![Juki with laptop](https://images.juki.pub/o/juki-laptop.svg)`\n  ![Juki with laptop](https://images.juki.pub/o/juki-laptop.svg)\n\n- Linking Images `[![Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)](https:/judge.juki.app)`\n\n  [![Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)](https:/judge.juki.app)\n\n## 3.1. Resizing\n\n- Height and width resizing `![\\size=200x50 Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)`\n\n  ![\\size=200x50 Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)\n\n- Height resizing `![\\size=200x Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)`\n\n  ![\\size=200x Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)\n\n- Width resizing `![\\size=x50 Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)`\n\n  ![\\size=x50 Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)\n\n> Images are **auto** size by default\n\n## 3.2. Alignment\n\n- Left alignment `![\\size=x50\\imgAlign=left Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)`\n\n  ![\\size=x50\\imgAlign=left Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)\n\n- Center alignment `![\\size=x50\\imgAlign=center Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)`\n\n  ![\\size=x50\\imgAlign=center Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)\n\n- Right alignment `![\\size=x50\\imgAlign=right Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)`\n\n  ![\\size=x50\\imgAlign=right Juki Judge Banner](https://images.juki.pub/o/juki-judge-blue-bg.png)\n\n> Images are **center** aligned by default\n\n---\n\n# 4. List\n\n### Order List\n\n```markdown\n1. Item 1\n   1. Subitem\n\n      paragraph text\n2. Item 2\n3. Item3\n```\nResult:\n\n1. Item 1\n   1. Subitem\n\n      paragraph text\n2. Item 2\n3. Item3\n\n### Unorder list\n\n```markdown\n- Item\n- Item\n  - Subitem\n    - Subsubitem\n- Item\n```\nResult:\n- Item\n- Item\n  - Subitem\n    - Subsubitem\n- Item\n\n---\n\n# 5. Tables\n\n```markdown\n| Table Head 1 | Table Head 1 |\n| - | - |\n| Table Cell 1,1 | Table Cell 1,2 |\n| Table Cell 2,1 | Table Cell 2,2 |\n```\n\nResult:\n\n| Table Head 1 | Table Head 1 |\n| - | - |\n| Table Cell 1,1 | Table Cell 1,2 |\n| Table Cell 2,1 | Table Cell 2,2 |\n\n---\n\n# 6. Blockquotes\n\nTo create a blockquote, add a > in front of a paragraph.\n\n> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna\n\n---\n\n# 7. Horizontal Rules\n\nInsert `---`\n\n---\n\n---\n\n# 8. Block of Code\n\n````\n```CPP\n#include <bits/stdc++.h>\nint main () {\n\tint N = 100000;\n\tstd::vector<int> P(N, -1);\n\tfor (long long i = 2; i < P.size(); i++) {\n\t\tif (P[i] == -1) {\n\t\t\tP[i] = i;\n\t\t\tfor (long long j = i * i; j < P.size(); j = j + i) {\n\t\t\t\tif (P[j] == -1) {\n\t\t\t\t\tP[j] = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n```\n````\n\nResult:\n\n```CPP\n#include <bits/stdc++.h>\nint main () {\n\tint N = 100000;\n\tstd::vector<int> P(N, -1);\n\tfor (long long i = 2; i < P.size(); i++) {\n\t\tif (P[i] == -1) {\n\t\t\tP[i] = i;\n\t\t\tfor (long long j = i * i; j < P.size(); j = j + i) {\n\t\t\t\tif (P[j] == -1) {\n\t\t\t\t\tP[j] = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\nWith line Numbers add `\\lineNumbers` or with a language `\\lang=CPP\\lineNumbers`\n\n````\n```\\lang=CPP\\lineNumbers\n#include <bits/stdc++.h>\nint main () {\n\tint N = 100000;\n\tstd::vector<int> P(N, -1);\n\tfor (long long i = 2; i < P.size(); i++) {\n\t\tif (P[i] == -1) {\n\t\t\tP[i] = i;\n\t\t\tfor (long long j = i * i; j < P.size(); j = j + i) {\n\t\t\t\tif (P[j] == -1) {\n\t\t\t\t\tP[j] = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n```\n````\n\nResult:\n\n```\\lang=CPP\\lineNumbers\n#include <bits/stdc++.h>\nint main () {\n\tint N = 100000;\n\tstd::vector<int> P(N, -1);\n\tfor (long long i = 2; i < P.size(); i++) {\n\t\tif (P[i] == -1) {\n\t\t\tP[i] = i;\n\t\t\tfor (long long j = i * i; j < P.size(); j = j + i) {\n\t\t\t\tif (P[j] == -1) {\n\t\t\t\t\tP[j] = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\nWith fixed height on pixels `\\height=100`\n\n\n````\n```\\lang=CPP\\lineNumbers\\height=100\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main () {\n\tint N = 100000;\n\tvector<int> P(N, -1);\n\t\n\tfor (long long i = 2; i < P.size(); i++) {\n\t\tif (P[i] == -1) {\n\t\t\tP[i] = i;\n\t\t\tfor (long long j = i * i; j < P.size(); j = j + i) {\n\t\t\t\tif (P[j] == -1) {\n\t\t\t\t\tP[j] = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint a = 12345;\n\tprintf("%d: ", a);\n\tvector<int> primes;\n\n\twhile (a > 1) {\n\t\tprimes.push_back(P[a]);\n\t\ta = a / P[a];\n\t}\n\n\tprintf("No. prime factors %d ", primes.size());\n\tfor (int i = 0; i < primes.size(); i++) {\n\t\tprintf("%d ", primes[i]);\n\t}\n\t\n\treturn 0;\n}\n```\n````\n\nResult\n\n```\\lang=CPP\\lineNumbers\\height=100\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main () {\n\tint N = 100000;\n\tvector<int> P(N, -1);\n\t\n\tfor (long long i = 2; i < P.size(); i++) {\n\t\tif (P[i] == -1) {\n\t\t\tP[i] = i;\n\t\t\tfor (long long j = i * i; j < P.size(); j = j + i) {\n\t\t\t\tif (P[j] == -1) {\n\t\t\t\t\tP[j] = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint a = 12345;\n\tprintf("%d: ", a);\n\tvector<int> primes;\n\n\twhile (a > 1) {\n\t\tprimes.push_back(P[a]);\n\t\ta = a / P[a];\n\t}\n\n\tprintf("No. prime factors %d ", primes.size());\n\tfor (int i = 0; i < primes.size(); i++) {\n\t\tprintf("%d ", primes[i]);\n\t}\n\t\n\treturn 0;\n}\n```\n---\n\n# 9. Math\n\nBlock math, some examples:\n\n```\\latex\\height=150\n$$\n1 \\leq N \\leq 10^5\n\\\\\n\\sum_{j=0}^3 j^2\n\\\\\n\\int_{x=0}^3 x^2\n\\\\\n\\Big[\\sum_{k=0}^n e^{k^2}\\Big]\n\\\\\n\\left\\langle i,2^{2-i}\\right\\rangle\n\\\\\n\\left.\\frac{df}{dx}\\right|_{x_0}\n\\\\\n\\begin{array}{rcl}\n  0 & \\leftrightarrow &0 \\\\\n  1 & \\leftrightarrow &1 \\\\\n  2 & \\leftrightarrow &4 \\\\\n  \\vdots              &\\vdots\n\\end{array}\n\\\\\nf_n=\n\\begin{cases}\n  a  &\\text{if $n=0$} \\\\\n  r\\cdot f_{n-1} &\\text{else}\n\\end{cases}\n\\\\\n\\begin{pmatrix}\n  a  &b \\\\\n  c  &d\n\\end{pmatrix}\n\\\\\n\\begin{equation*}\n  S=k\\cdot\\lg W\n\\end{equation*}\n\\\\\nf\\colon\\mathbb{R}\\to\\mathbb{R}\n\\\\\n9.8~\\text{m}/\\text{s}^24\n\\\\\n\\lim_{h\\to 0}\\frac{f(x+h)-f(x)}{h}\n\\\\\n\\int x^2\\,dx=x^3/3+C\n\\\\\n\\nabla=\\boldsymbol{i}\\frac{d}{dx}+\\boldsymbol{j}\\frac{d}{dy}+\\boldsymbol{k}\\frac{d}{dz}\n\\\\\n\\sigma^2=\\sqrt{\\,\\sum(x_i-\\mu)^2/N}\n\\\\\nE(X)=\\mu_X=\\sum (x_i-P(x_i))\n\\\\\n\\frac{1}{\\sqrt{2\\sigma^2\\pi}}\\,e^{-\\frac{(x-\\mu)^2}{2\\sigma^2}}\n$$\n```\nResult:\n\n$$\n1 \\leq N \\leq 10^5\n\\\\\n\\sum_{j=0}^3 j^2\n\\\\\n\\int_{x=0}^3 x^2\n\\\\\n\\Big[\\sum_{k=0}^n e^{k^2}\\Big]\n\\\\\n\\left\\langle i,2^{2-i}\\right\\rangle\n\\\\\n\\left.\\frac{df}{dx}\\right|_{x_0}\n\\\\\n\\begin{array}{rcl}\n  0 & \\leftrightarrow &0 \\\\\n  1 & \\leftrightarrow &1 \\\\\n  2 & \\leftrightarrow &4 \\\\\n  \\vdots              &\\vdots\n\\end{array}\n\\\\\nf_n=\n\\begin{cases}\n  a  &\\text{if $n=0$} \\\\\n  r\\cdot f_{n-1} &\\text{else}\n\\end{cases}\n\\\\\n\\begin{pmatrix}\n  a  &b \\\\\n  c  &d\n\\end{pmatrix}\n\\\\\n\\begin{equation*}\n  S=k\\cdot\\lg W\n\\end{equation*}\n\\\\\nf\\colon\\mathbb{R}\\to\\mathbb{R}\n\\\\\n9.8~\\text{m}/\\text{s}^24\n\\\\\n\\lim_{h\\to 0}\\frac{f(x+h)-f(x)}{h}\n\\\\\n\\int x^2\\,dx=x^3/3+C\n\\\\\n\\nabla=\\boldsymbol{i}\\frac{d}{dx}+\\boldsymbol{j}\\frac{d}{dy}+\\boldsymbol{k}\\frac{d}{dz}\n\\\\\n\\sigma^2=\\sqrt{\\,\\sum(x_i-\\mu)^2/N}\n\\\\\nE(X)=\\mu_X=\\sum (x_i-P(x_i))\n\\\\\n\\frac{1}{\\sqrt{2\\sigma^2\\pi}}\\,e^{-\\frac{(x-\\mu)^2}{2\\sigma^2}}\n$$\n\n\n---\n\n# 9. Embedded files\n\n## 9.1. Pdf documents\n\n```\n[\\preview=pdf\\height=300](https://prod-v1-utils-back.juki.app/api/v1/note/pdf?sourceUrl=https://files.juki.pub/shared/d9f7c5691647c7b9c35bd3704040f0edf95d33d972d47e89ce09320752e5c45b.md)\n```\n\nResult:\n[\\preview=pdf\\height=300](https://prod-v1-utils-back.juki.app/api/v1/note/pdf?sourceUrl=https://files.juki.pub/shared/d9f7c5691647c7b9c35bd3704040f0edf95d33d972d47e89ce09320752e5c45b.md)\n\n## 9.2. Html documents\n\n```\n[\\preview=html\\height=500](https://judge.juki.app/problems)\n```\n\nResult:\n[\\preview=html\\height=500](https://judge.juki.app/problems)\n'}}]);