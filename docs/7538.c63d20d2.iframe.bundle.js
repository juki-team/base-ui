"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[7538,7571],{"./src/components/molecules/_lazy_/SlideDeck/SlideDeck.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>SlideDeck});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),esm=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react=__webpack_require__("./node_modules/react/index.js"),reveal_esm=__webpack_require__("./node_modules/reveal.js/dist/reveal.esm.js"),notes=__webpack_require__("./node_modules/reveal.js/plugin/notes/notes.js"),notes_default=__webpack_require__.n(notes),search=__webpack_require__("./node_modules/reveal.js/plugin/search/search.js"),search_default=__webpack_require__.n(search),zoom=__webpack_require__("./node_modules/reveal.js/plugin/zoom/zoom.js"),zoom_default=__webpack_require__.n(zoom),useAnimationFrameStore=__webpack_require__("./src/stores/animationFrame/useAnimationFrameStore.ts"),useI18nStore=__webpack_require__("./src/stores/i18n/useI18nStore.ts"),atoms=__webpack_require__("./src/components/atoms/index.tsx"),useInjectColorTextHighlight=function(colorTextHighlight){(0,react.useEffect)(function(){var _document_querySelector,_document_querySelector1;colorTextHighlight&&(null===(_document_querySelector=document.querySelector("body"))||void 0===_document_querySelector||_document_querySelector.style.removeProperty("--t-color-text-highlight"),null===(_document_querySelector1=document.querySelector("body"))||void 0===_document_querySelector1||_document_querySelector1.style.setProperty("--t-color-text-highlight",colorTextHighlight));return function(){var _document_querySelector;null===(_document_querySelector=document.querySelector("body"))||void 0===_document_querySelector||_document_querySelector.style.removeProperty("--t-color-text-highlight")}},[colorTextHighlight])},useInjectFontSize=__webpack_require__("./src/components/hooks/useInjectFontSize.ts"),useInjectTheme=__webpack_require__("./src/components/hooks/useInjectTheme.ts"),GraphvizViewer=__webpack_require__("./src/components/organisms/_layz_/GraphvizViewer/GraphvizViewer.tsx");function isPrintingPDF(){return"undefined"!=typeof window&&/print-pdf/gi.test(window.location.search)}function togglePdfExport(){if("undefined"!=typeof window&&"undefined"!=typeof document){var url_doc=new URL(document.URL),query_doc=new URLSearchParams(url_doc.searchParams);isPrintingPDF()?query_doc.delete("print-pdf"):query_doc.set("print-pdf",""),url_doc.search=query_doc.toString()?"?"+query_doc.toString():"",window.location.href=url_doc.toString()}}var PdfExport=function(){return{id:"pdf-export",init:function init(reveal){!function installKeyBindings(reveal){reveal.addKeyBinding({keyCode:"E".toUpperCase().charCodeAt(0),key:"E".toUpperCase(),description:"PDF export mode"},togglePdfExport)}(reveal)}}};function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var SESSION_STORAGE_KEY="jk-reveal-slide-state";function SlideDeckComponent(props){var children=props.children,_props_fontSize=props.fontSize,fontSize=void 0===_props_fontSize?32:_props_fontSize,_props_theme=props.theme,theme=void 0===_props_theme?esm.Sxu.LIGHT:_props_theme,colorTextHighlight=props.colorTextHighlight,aspectRatio=props.aspectRatio,deckDivRef=(0,react.useRef)(null),deckRef=(0,react.useRef)(null),t=(0,useI18nStore.T)(function(store){return store.i18n.t}),_useState=_sliced_to_array((0,react.useState)(!0),2),loading=_useState[0],setLoading=_useState[1],_useState1=_sliced_to_array((0,react.useState)(0),2),ready=_useState1[0],setReady=_useState1[1];console.info("render SlideDeckCmp"),(0,react.useEffect)(function(){var renderGraphviz=function(){GraphvizViewer.useGraphvizStore.getState().triggerRerender()};return setTimeout(function(){if(deckDivRef.current&&!deckRef.current){var _ASPECT_RATIO_aspectRatio,_ASPECT_RATIO_aspectRatio1,_deckRef_current,isPrinting=isPrintingPDF();console.info("new Reveal"),deckRef.current=new reveal_esm.A(deckDivRef.current,{transition:"fade",help:!0,previewLinks:!0,transitionSpeed:"fast",pdfSeparateFragments:!1,margin:.1,width:null===(_ASPECT_RATIO_aspectRatio=esm.nTG[aspectRatio])||void 0===_ASPECT_RATIO_aspectRatio?void 0:_ASPECT_RATIO_aspectRatio.width,height:null===(_ASPECT_RATIO_aspectRatio1=esm.nTG[aspectRatio])||void 0===_ASPECT_RATIO_aspectRatio1?void 0:_ASPECT_RATIO_aspectRatio1.height,plugins:isPrinting?[PdfExport]:[zoom_default(),notes_default(),search_default(),PdfExport]}),null===(_deckRef_current=deckRef.current)||void 0===_deckRef_current||_deckRef_current.initialize(),document.__deckRef=deckRef.current,deckRef.current.on("slidechanged",function(){var _deckRef_current;renderGraphviz();var state=null===(_deckRef_current=deckRef.current)||void 0===_deckRef_current?void 0:_deckRef_current.getState();state&&sessionStorage.setItem(SESSION_STORAGE_KEY,JSON.stringify(state))}),deckRef.current.on("ready",function(){var _deckRef_current,now=Date.now();(renderGraphviz(),isPrinting)||(null===(_deckRef_current=deckRef.current)||void 0===_deckRef_current||_deckRef_current.toggleHelp());console.info("deckRef.current.on('ready')"),setTimeout(function(){setReady(now)},1e3)}),document.addEventListener("pdf-ready",renderGraphviz),deckRef.current.on("fragmentshown",function(event){var _fragmentEl_parentElement,fragmentEl=null==event?void 0:event.fragment,parent=null==fragmentEl||null===(_fragmentEl_parentElement=fragmentEl.parentElement)||void 0===_fragmentEl_parentElement?void 0:_fragmentEl_parentElement.parentElement;parent&&function hasScroll(el){return(null==el?void 0:el.scrollHeight)>(null==el?void 0:el.clientHeight)||(null==el?void 0:el.scrollWidth)>(null==el?void 0:el.clientWidth)}(parent)&&fragmentEl.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})})}},1e3),function(){try{document.removeEventListener("pdf-ready",renderGraphviz)}catch(e){console.warn("Reveal.js destroy call failed.")}}},[]),(0,react.useEffect)(function(){var _deckRef_current;null===(_deckRef_current=deckRef.current)||void 0===_deckRef_current||_deckRef_current.addKeyBinding({keyCode:191,key:"?",keyDescription:"?",shiftKey:!0,description:t("Open help overlay")},function(){var _deckRef_current;null===(_deckRef_current=deckRef.current)||void 0===_deckRef_current||_deckRef_current.toggleHelp()})},[t]);var framePending=(0,useAnimationFrameStore.A)(function(store){return store.framePending});return(0,react.useEffect)(function(){if(setLoading(!0),!framePending&&deckRef.current&&deckRef.current.isReady()){var isPrinting=isPrintingPDF();if("undefined"!=typeof document&&!isPrinting)for(var _slides_getElementsByClassName,slides=document.querySelector(".slides"),parents=Array.from(null!==(_slides_getElementsByClassName=null==slides?void 0:slides.getElementsByClassName("jk-md-math"))&&void 0!==_slides_getElementsByClassName?_slides_getElementsByClassName:[]).map(function(param){var children=param.children;return Array.from(children)}),i=0;i<parents.length;i++)for(var fragmentAdded=!1,j=0;j<parents[i].length;j++){var _parents__j,_parents_,_parents_i_j_classList,_parents_i_j;if("OL"===parents[i][j].tagName||"UL"===parents[i][j].tagName){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Array.from(parents[i][j].children)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _li_classList,li=_step.value;(null===(_li_classList=li.classList)||void 0===_li_classList?void 0:_li_classList.add)&&(li.classList.add("fragment"),fragmentAdded=!0)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}if(fragmentAdded||parents[i][j].textContent!==(null===(_parents_=parents[i-1])||void 0===_parents_||null===(_parents__j=_parents_[j])||void 0===_parents__j?void 0:_parents__j.textContent))(null===(_parents_i_j=parents[i][j])||void 0===_parents_i_j||null===(_parents_i_j_classList=_parents_i_j.classList)||void 0===_parents_i_j_classList?void 0:_parents_i_j_classList.add)&&(parents[i][j].classList.add("fragment"),fragmentAdded=!0)}try{deckRef.current.layout()}catch(error){console.warn("error on Reveal.layout",error)}try{deckRef.current.sync()}catch(error){console.warn("error on Reveal.sync",error)}if(!isPrinting){var savedState=sessionStorage.getItem(SESSION_STORAGE_KEY),state={paused:!1,overview:!1,indexf:0,indexh:0,indexv:0};if((0,esm.UWh)(savedState)){var _parsedState_paused,_parsedState_overview,parsedState=JSON.parse(savedState);state={paused:null!==(_parsedState_paused=parsedState.paused)&&void 0!==_parsedState_paused&&_parsedState_paused,overview:null!==(_parsedState_overview=parsedState.overview)&&void 0!==_parsedState_overview&&_parsedState_overview,indexf:Math.max(parsedState.indexf||0,0),indexh:Math.max(parsedState.indexh||0,0),indexv:Math.max(parsedState.indexv||0,0)}}try{deckRef.current.setState(state)}catch(e){console.warn("error on Reveal.setState",e)}}}setLoading(!1)},[framePending,ready,children,aspectRatio]),(0,useInjectTheme.i)(theme),(0,useInjectFontSize.r)(fontSize),useInjectColorTextHighlight(colorTextHighlight),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"reveal",ref:deckDivRef,children:(0,jsx_runtime.jsx)("div",{className:"slides",children:react.Children.toArray(children)})}),loading&&(0,jsx_runtime.jsx)("div",{className:"jk-loader-layer jk-overlay bc-we",children:(0,jsx_runtime.jsxs)("div",{className:"jk-row ai-be",children:[(0,jsx_runtime.jsx)(atoms.T,{className:"tt-se",children:"loading"}),"Â ",(0,jsx_runtime.jsx)("div",{className:"dot-flashing"})]})})]})}function SlideDeck(_param){var children=_param.children,onClose=_param.onClose,rest=_object_without_properties(_param,["children","onClose"]);return(0,jsx_runtime.jsx)(atoms.Kj,{children:(0,jsx_runtime.jsx)(SlideDeckComponent,_object_spread_props(_object_spread({},rest),{children,onClose}),JSON.stringify(rest))})}SlideDeck.__docgenInfo={description:"",methods:[],displayName:"SlideDeck",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},fontSize:{required:!1,tsType:{name:"number"},description:""},theme:{required:!1,tsType:{name:"Theme"},description:""},colorTextHighlight:{required:!1,tsType:{name:"string"},description:""},aspectRatio:{required:!0,tsType:{name:"AspectRatio"},description:""}}}},"./src/components/organisms/_layz_/GraphvizViewer/GraphvizViewer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>GraphvizViewer,useGraphvizStore:()=>useGraphvizStore});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_viz_js_viz__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@viz-js/viz/dist/viz.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),zustand__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zustand/esm/react.mjs"),_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/helpers/index.ts"),_stores_i18n_useI18nStore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/stores/i18n/useI18nStore.ts"),useGraphvizStore=(0,zustand__WEBPACK_IMPORTED_MODULE_3__.v)(function(set){return{shouldRerender:0,triggerRerender:function(){return set(function(){return{shouldRerender:Date.now()}})}}});function GraphvizViewer(param){var dot=param.dot,className=param.className,containerRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),t=(0,_stores_i18n_useI18nStore__WEBPACK_IMPORTED_MODULE_5__.T)(function(store){return store.i18n.t}),shouldRerender=useGraphvizStore(function(s){return s.shouldRerender});return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){var el=containerRef.current;if(el)return(0,_viz_js_viz__WEBPACK_IMPORTED_MODULE_1__.KJ)().then(function(viz){el.innerHTML="";try{var svg=viz.renderSVGElement(dot,{});el.appendChild(svg)}catch(e){console.warn("error on drawing Graphviz",e),el.innerHTML="";var errorDiv=document.createElement("div");errorDiv.textContent=t("error rendering graph")+": ".concat((null==e?void 0:e.message)||String(e)),errorDiv.style.color="red",errorDiv.style.whiteSpace="pre-wrap",el.appendChild(errorDiv)}}),function(){try{el.innerHTML=""}catch(e){}}},[dot,shouldRerender]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_helpers__WEBPACK_IMPORTED_MODULE_4__.xW)("jk-graphviz-viewer-container",className),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"jk-graphviz-viewer",ref:containerRef})})}GraphvizViewer.__docgenInfo={description:"",methods:[],displayName:"GraphvizViewer",props:{dot:{required:!0,tsType:{name:"string"},description:"A string containing a graph representation using the Graphviz DOT language.\r\n@see https://graphviz.org/doc/info/lang.html"},className:{required:!1,tsType:{name:"string"},description:"The classname to attach to this component for styling purposes."}}}}}]);