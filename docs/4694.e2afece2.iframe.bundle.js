"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[4694],{"./src/components/organisms/DataViewer/PagedDataViewer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PagedDataViewer:()=>PagedDataViewer});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/index.ts"),_hooks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/hooks/index.ts"),_DataViewer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/organisms/DataViewer/DataViewer.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const PagedDataViewer=props=>{const{cards,rows={height:68},headers,name,toRow,getUrl,refreshInterval,extraNodes,getRowKey,onRecordClick,dependencies=[],getRecordStyle}=props,{viewPortSize}=(0,_hooks__WEBPACK_IMPORTED_MODULE_2__.Tv)(),{data:response,request,setLoaderStatusRef,reload,reloadRef}=(0,_hooks__WEBPACK_IMPORTED_MODULE_2__.qK)(getUrl,{refreshInterval});(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{dependencies.length&&reload()}),dependencies);const[_,setRender]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Date.now());(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setTimeout((()=>setRender(Date.now())),100)}),[response]);const lastTotalRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);lastTotalRef.current=null!=response&&response.success?response.meta.totalElements:lastTotalRef.current;const data=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{const data=null!=response&&response.success?response.contents:[];return toRow?data.map(toRow):data}),[response,toRow]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_DataViewer__WEBPACK_IMPORTED_MODULE_3__.DataViewer,{getRecordStyle,cards,headers,data,rows,request,rowsView:"sm"!==viewPortSize,name,setLoaderStatusRef,extraNodes,extraNodesFloating:!0,totalData:lastTotalRef.current,getRecordKey:getRowKey,onRecordClick,reloadRef,pageSizeOptions:_constants__WEBPACK_IMPORTED_MODULE_1__.TJ,..._constants__WEBPACK_IMPORTED_MODULE_1__.yj})};try{PagedDataViewer.displayName="PagedDataViewer",PagedDataViewer.__docgenInfo={description:"",displayName:"PagedDataViewer",props:{cards:{defaultValue:null,description:"",name:"cards",required:!1,type:{name:"{ height?: number; width?: number; expanded?: boolean | undefined; } | undefined"}},rows:{defaultValue:null,description:"",name:"rows",required:!1,type:{name:"{ height?: number; width?: number; } | undefined"}},headers:{defaultValue:null,description:"",name:"headers",required:!0,type:{name:"DataViewerHeadersType<T>[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},toRow:{defaultValue:null,description:"",name:"toRow",required:!1,type:{name:"((row: V, index: number) => T)"}},getUrl:{defaultValue:null,description:"",name:"getUrl",required:!0,type:{name:"DataViewerRequesterGetUrlType"}},refreshInterval:{defaultValue:null,description:"",name:"refreshInterval",required:!1,type:{name:"number"}},extraNodes:{defaultValue:null,description:"",name:"extraNodes",required:!1,type:{name:"ReactNodeOrFunctionType[]"}},getRowKey:{defaultValue:null,description:"",name:"getRowKey",required:!1,type:{name:"GetRecordKeyType<T>"}},onRecordClick:{defaultValue:null,description:"",name:"onRecordClick",required:!1,type:{name:"OnRecordClickType<T>"}},getRecordStyle:{defaultValue:null,description:"",name:"getRecordStyle",required:!1,type:{name:"GetRecordStyleType<T>"}},dependencies:{defaultValue:null,description:"",name:"dependencies",required:!1,type:{name:"any[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/organisms/DataViewer/PagedDataViewer.tsx#PagedDataViewer"]={docgenInfo:PagedDataViewer.__docgenInfo,name:"PagedDataViewer",path:"src/components/organisms/DataViewer/PagedDataViewer.tsx#PagedDataViewer"})}catch(__react_docgen_typescript_loader_error){}}}]);