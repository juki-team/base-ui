"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[7869],{"./src/components/templates/members/DocumentMembersContent.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DocumentMembersContent:()=>DocumentMembersContent});var _juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),_hooks__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/hooks/index.ts")),_atoms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/atoms/index.tsx"),_organisms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/organisms/index.tsx"),_server__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/server/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");const DocumentMembersContent=_ref=>{let{members,setMembers,documentOwner}=_ref;const companyKey=(0,_hooks__WEBPACK_IMPORTED_MODULE_2__.kH)((state=>state.company.key)),FileAccessIcons={[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.PRIVATE]:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_server__WEBPACK_IMPORTED_MODULE_5__.XAi,{}),[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.RESTRICTED]:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_server__WEBPACK_IMPORTED_MODULE_5__.GVH,{}),[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.PUBLIC]:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_server__WEBPACK_IMPORTED_MODULE_5__.DzZ,{}),[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.EXPOSED]:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_server__WEBPACK_IMPORTED_MODULE_5__.fCU,{})};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-col gap stretch gap",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"fw-bd tt-se",children:"access type"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.l6,{options:Object.values(_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.bz0).map((fileAccess=>({value:fileAccess.value,label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"jk-row gap left jk-pg-sm",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-col left stretch",style:{maxWidth:300},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-row gap left",children:[FileAccessIcons[fileAccess.value],(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"tt-se fw-bd",children:fileAccess.label})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"tt-se",children:fileAccess.description})]})})}))),selectedOption:{value:members.access},expand:!0,onChange:setMembers?_ref2=>{let{value}=_ref2;setMembers((prevState=>({...prevState,access:value})))}:void 0})})]}),(members.access===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.RESTRICTED||members.access===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.PUBLIC)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-col stretch extend",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"fw-bd tt-se",children:"People with access"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-row gap space-between extend hover-highlight gap-full-borders jk-br-ie",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_organisms__WEBPACK_IMPORTED_MODULE_4__.A1,{imageUrl:documentOwner.imageUrl,nickname:documentOwner.nickname,className:"flex-1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.l6,{options:[{value:"owner",label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{children:"owner"})}],selectedOption:{value:"owner"}})]}),[...Object.values(members.managers).map((mem=>({...mem,role:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.EDITOR}))),...Object.values(members.spectators).map((mem=>({...mem,role:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.VIEWER})))].map((_ref3=>{let{nickname,imageUrl,company,role}=_ref3;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-row gap space-between extend hover-highlight gap-full-borders jk-br-ie",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_organisms__WEBPACK_IMPORTED_MODULE_4__.A1,{imageUrl,nickname,className:"flex-1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.l6,{options:[...members.access===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.RESTRICTED?[{value:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.VIEWER,label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{children:"viewer"})}]:[],{value:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.EDITOR,label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{children:"editor"})}],selectedOption:{value:role},onChange:setMembers?_ref4=>{let{value}=_ref4;const{[nickname]:_1,...newManagers}=members.managers,{[nickname]:_2,...newSpectators}=members.spectators;value===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.EDITOR?newManagers[nickname]={nickname,imageUrl,company,type:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Z9T.USER}:newSpectators[nickname]={nickname,imageUrl,company,type:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Z9T.USER},setMembers((prevState=>({...prevState,managers:newManagers,spectators:newSpectators})))}:void 0}),setMembers&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.$n,{onClick:()=>{const{[nickname]:_1,...newManagers}=members.managers,{[nickname]:_2,...newSpectators}=members.spectators;setMembers((prevState=>({...prevState,managers:newManagers,spectators:newSpectators})))},icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{"data-tooltip-id":"jk-tooltip","data-tooltip-content":"remove access",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_server__WEBPACK_IMPORTED_MODULE_5__.d7y,{})}),size:"small",type:"light"})]},nickname)}))]}),setMembers&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"fw-bd tt-se",children:"add people"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_organisms__WEBPACK_IMPORTED_MODULE_4__.qj,{companyKey,selectedUsers:[],onChangeSelectedUsers:_ref5=>{let[user]=_ref5;if(user&&!members.managers[user.nickname]&&!members.spectators[user.nickname]){if((members.access===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.PUBLIC?_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.EDITOR:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.VIEWER)===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.EDITOR){const newManagers={...members.managers};newManagers[user.nickname]={nickname:user.nickname,imageUrl:user.imageUrl,company:user.company,type:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Z9T.USER},setMembers((prevState=>({...prevState,managers:newManagers})))}else{const newSpectators={...members.spectators};newSpectators[user.nickname]={nickname:user.nickname,imageUrl:user.imageUrl,company:user.company,type:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Z9T.USER},setMembers((prevState=>({...prevState,spectators:newSpectators})))}}},maxUsersSelection:1})]})]})]})};try{DocumentMembersContent.displayName="DocumentMembersContent",DocumentMembersContent.__docgenInfo={description:"",displayName:"DocumentMembersContent",props:{members:{defaultValue:null,description:"",name:"members",required:!0,type:{name:"DocumentMembersResponseDTO"}},setMembers:{defaultValue:null,description:"",name:"setMembers",required:!1,type:{name:"Dispatch<SetStateAction<DocumentMembersResponseDTO>>"}},documentOwner:{defaultValue:null,description:"",name:"documentOwner",required:!0,type:{name:"UserCompanyBasicInfoResponseDTO"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/templates/members/DocumentMembersContent.tsx#DocumentMembersContent"]={docgenInfo:DocumentMembersContent.__docgenInfo,name:"DocumentMembersContent",path:"src/components/templates/members/DocumentMembersContent.tsx#DocumentMembersContent"})}catch(__react_docgen_typescript_loader_error){}}}]);