"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[7879],{"./src/components/hooks/useStableRef.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>useStableRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useStableRef=function(initialValue){var searchVisiblesRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(initialValue);return searchVisiblesRef.current=initialValue,searchVisiblesRef}},"./src/components/organisms/_layz_/UserCodeEditor/UserCodeEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>UserCodeEditor});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/index.ts"),_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/helpers/index.ts"),_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/stores/user/useUserStore.ts"),_atoms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/atoms/index.tsx"),_hooks_useJukiNotification__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/hooks/useJukiNotification.tsx"),_hooks_useStableRef__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/hooks/useStableRef.ts"),_CodeRunnerEditor_CodeRunnerEditor__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/organisms/_layz_/UserCodeEditor/CodeRunnerEditor/CodeRunnerEditor.tsx");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _to_property_key(arg){var key=function _to_primitive(input,hint){if("object"!==_type_of(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_type_of(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_type_of(key)?key:String(key)}function _type_of(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function getStoreRecovered(storeKey){var storeRecovered={};if("undefined"!=typeof localStorage){var localStorageData=storeKey&&localStorage.getItem(storeKey)||"{}";(0,_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.UWh)(localStorageData)&&(storeRecovered=JSON.parse(localStorageData))}return storeRecovered}function useSaveChunkStorage(storeKey,initialValue,merge,formatStoreRecovered){var mergeRef=(0,_hooks_useStableRef__WEBPACK_IMPORTED_MODULE_8__.m)(merge),formatStoreRecoveredRef=(0,_hooks_useStableRef__WEBPACK_IMPORTED_MODULE_8__.m)(formatStoreRecovered),mergeState=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function(){var newState={},storeRecovered=Object.entries(formatStoreRecoveredRef.current(getStoreRecovered(storeKey))),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_loop=function(){var _storeRecovered_find,_step_value=_sliced_to_array(_step.value,2),key=_step_value[0],value=_step_value[1];newState[key]=mergeRef.current(value,null===(_storeRecovered_find=storeRecovered.find(function(param){return _sliced_to_array(param,1)[0]===key}))||void 0===_storeRecovered_find?void 0:_storeRecovered_find[1])},_iterator=Object.entries(initialValue)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0;try{for(var _step1,_iterator1=storeRecovered[Symbol.iterator]();!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=!0){var _step_value=_sliced_to_array(_step1.value,2),key=_step_value[0],value=_step_value[1];newState[key]||(newState[key]=value)}}catch(err){_didIteratorError1=!0,_iteratorError1=err}finally{try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}}return newState},[storeKey]),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(mergeState()),2),value=_useState[0],setValue=_useState[1];return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){setValue(mergeState())},[mergeState]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){var stringValue=JSON.stringify(value);localStorage.getItem(storeKey)!==stringValue&&localStorage.setItem(storeKey,stringValue)},[storeKey,value]),[value,setValue]}var getDefaultFileName=function(codeLanguage){var _CODE_LANGUAGE_codeLanguage,_CODE_LANGUAGE_codeLanguage_mainFilename;return null!==(_CODE_LANGUAGE_codeLanguage_mainFilename=null===(_CODE_LANGUAGE_codeLanguage=_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.fO_[codeLanguage])||void 0===_CODE_LANGUAGE_codeLanguage?void 0:_CODE_LANGUAGE_codeLanguage.mainFilename)&&void 0!==_CODE_LANGUAGE_codeLanguage_mainFilename?_CODE_LANGUAGE_codeLanguage_mainFilename:"main.source"},getExtension=function(codeLanguage){var _CODE_LANGUAGE_codeLanguage,_CODE_LANGUAGE_codeLanguage_fileExtension_;return null!==(_CODE_LANGUAGE_codeLanguage_fileExtension_=null===(_CODE_LANGUAGE_codeLanguage=_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.fO_[codeLanguage])||void 0===_CODE_LANGUAGE_codeLanguage?void 0:_CODE_LANGUAGE_codeLanguage.fileExtension[0])&&void 0!==_CODE_LANGUAGE_codeLanguage_fileExtension_?_CODE_LANGUAGE_codeLanguage_fileExtension_:"source"},mergeTestCases=function(a,b){var newTestCases={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Object.entries(a)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _b_key,_b_key1,_b_key2,_b_key3,_b_key4,_b_key_out,_ref,_b_key_err,_ref1,_b_key_log,_ref2,_b_key_status,_ref3,_b_key_messageTimestamp,_ref4,_b_key5,_b_key_in,_ref5,_step_value=_sliced_to_array(_step.value,2),key=_step_value[0],testCase=_step_value[1];if(newTestCases[key]=_object_spread_props(_object_spread({},testCase),{out:null!==(_ref=null!==(_b_key_out=null==b||null===(_b_key=b[key])||void 0===_b_key?void 0:_b_key.out)&&void 0!==_b_key_out?_b_key_out:null==testCase?void 0:testCase.out)&&void 0!==_ref?_ref:"",err:null!==(_ref1=null!==(_b_key_err=null==b||null===(_b_key1=b[key])||void 0===_b_key1?void 0:_b_key1.err)&&void 0!==_b_key_err?_b_key_err:null==testCase?void 0:testCase.err)&&void 0!==_ref1?_ref1:"",log:null!==(_ref2=null!==(_b_key_log=null==b||null===(_b_key2=b[key])||void 0===_b_key2?void 0:_b_key2.log)&&void 0!==_b_key_log?_b_key_log:null==testCase?void 0:testCase.log)&&void 0!==_ref2?_ref2:"",status:null!==(_ref3=null!==(_b_key_status=null==b||null===(_b_key3=b[key])||void 0===_b_key3?void 0:_b_key3.status)&&void 0!==_b_key_status?_b_key_status:null==testCase?void 0:testCase.status)&&void 0!==_ref3?_ref3:_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.aeR.NONE,messageTimestamp:null!==(_ref4=null!==(_b_key_messageTimestamp=null==b||null===(_b_key4=b[key])||void 0===_b_key4?void 0:_b_key4.messageTimestamp)&&void 0!==_b_key_messageTimestamp?_b_key_messageTimestamp:null==testCase?void 0:testCase.messageTimestamp)&&void 0!==_ref4?_ref4:0}),"*"===key)newTestCases[key].in=null!==(_ref5=null!==(_b_key_in=null==b||null===(_b_key5=b[key])||void 0===_b_key5?void 0:_b_key5.in)&&void 0!==_b_key_in?_b_key_in:null==testCase?void 0:testCase.in)&&void 0!==_ref5?_ref5:""}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0;try{for(var _step1,_iterator1=Object.entries(null!=b?b:{})[Symbol.iterator]();!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=!0){var _step_value1=_sliced_to_array(_step1.value,2),key1=_step_value1[0],testCase1=_step_value1[1];newTestCases[key1]||(newTestCases[key1]=testCase1)}}catch(err){_didIteratorError1=!0,_iteratorError1=err}finally{try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}}return newTestCases},mergeSources=function(a,b){return _object_spread({},b,a)},getNewFileName=function(prefix,suffix,exist){for(var newFile="".concat(prefix).concat(suffix),i=1;exist(newFile);)newFile="".concat(prefix,"(").concat(i,")").concat(suffix),i++;return newFile};function UserCodeEditor(props){var className=props.className,expandPosition=props.expandPosition,initialTestCases=props.initialTestCases,initialFileName=props.initialFileName,storeKey=props.storeKey,languages=props.languages,leftButtons=props.leftButtons,centerButtons=props.centerButtons,rightButtons=props.rightButtons,onFilesChange=props.onFilesChange,onTestCasesChange=props.onTestCasesChange,initialFiles=props.initialFiles,enableAddSampleCases=props.enableAddSampleCases,enableAddCustomSampleCases=props.enableAddCustomSampleCases,onIsRunningChange=props.onIsRunningChange,readOnly=props.readOnly,withoutRunCodeButton=props.withoutRunCodeButton,onCodeRunStatusChange=props.onCodeRunStatusChange,onlyCodeEditor=props.onlyCodeEditor,userNickname=(0,_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_5__.k)(function(state){return state.user.nickname}),addErrorNotification=(0,_hooks_useJukiNotification__WEBPACK_IMPORTED_MODULE_7__.E)().addErrorNotification,_useSaveStorage=_sliced_to_array(function useSaveStorage(storeKey,defaultValue){var storeRecovered=getStoreRecovered(storeKey),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_object_spread({},defaultValue,storeRecovered)),2),value=_useState[0],setValue=_useState[1],defaultValueRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(defaultValue);defaultValueRef.current=defaultValue;var storeRecoveredRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(storeRecovered);return storeRecoveredRef.current=storeRecovered,(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){setValue(_object_spread({},defaultValueRef.current,storeRecoveredRef.current))},[storeKey]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){if(storeKey){var stringValue=JSON.stringify(value);localStorage.getItem(storeKey)!==stringValue&&localStorage.setItem(storeKey,stringValue)}},[storeKey,value]),[value,setValue]}((0,_helpers__WEBPACK_IMPORTED_MODULE_4__.rK)(userNickname),{theme:_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.Sxu.LIGHT,lastLanguageUsed:_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.aFm.CPP,tabSize:2,fontSize:14}),2),editorSettings=_useSaveStorage[0],setEditorSettings=_useSaveStorage[1],defaultLanguage=editorSettings.lastLanguageUsed;languages.length&&!languages.some(function(lang){return lang.value===defaultLanguage})&&languages[0]&&(defaultLanguage=languages[0].value);var newInitialFiles=_define_property({},storeKey,_object_spread({},initialFiles)),_useSaveChunkStorage=_sliced_to_array(useSaveChunkStorage((0,_helpers__WEBPACK_IMPORTED_MODULE_4__.x$)(userNickname),newInitialFiles,mergeSources,function(recovered){var state={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Object.entries(recovered)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step_value=_sliced_to_array(_step.value,2),key=_step_value[0],value=_step_value[1];state[key]={};var index=1,_iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0;try{for(var _step1,_loop=function(){var _step_value=_sliced_to_array(_step1.value,2),lang=_step_value[0],source=_step_value[1];if("string"==typeof source){var name="source-".concat(index,".").concat(getExtension(lang));state[key][name]={source,language:languages.some(function(param){return param.value===lang})?lang:_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.aFm.TEXT,index,name,hidden:!1,protected:!1,readonly:!1},index++}else"object"===(void 0===source?"undefined":_type_of(source))&&null!==source&&(state[key][lang]={source:"source"in source&&"string"==typeof(null==source?void 0:source.source)?null==source?void 0:source.source:"",language:("language"in source&&"string"==typeof(null==source?void 0:source.language)?languages.some(function(param){return param.value===(null==source?void 0:source.language)})?null==source?void 0:source.language:_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.aFm.TEXT:"")||_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.aFm.TEXT,index:"index"in source&&"number"==typeof(null==source?void 0:source.index)?null==source?void 0:source.index:0,name:lang,hidden:"hidden"in source&&"boolean"==typeof(null==source?void 0:source.hidden)&&source.hidden,protected:"protected"in source&&"boolean"==typeof(null==source?void 0:source.protected)&&source.protected,readonly:"readonly"in source&&"boolean"==typeof(null==source?void 0:source.readonly)&&source.readonly})},_iterator1=Object.entries(value)[Symbol.iterator]();!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=!0)_loop()}catch(err){_didIteratorError1=!0,_iteratorError1=err}finally{try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return state}),2),filesStore=_useSaveChunkStorage[0],setFilesStore=_useSaveChunkStorage[1],onFilesChangeRef=(0,_hooks_useStableRef__WEBPACK_IMPORTED_MODULE_8__.m)(onFilesChange),files=filesStore[storeKey]||_constants__WEBPACK_IMPORTED_MODULE_3__.t0;(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){var _onFilesChangeRef_current;null===(_onFilesChangeRef_current=onFilesChangeRef.current)||void 0===_onFilesChangeRef_current||_onFilesChangeRef_current.call(onFilesChangeRef,files)},[files]);var _ref,defaultFileName=getDefaultFileName(defaultLanguage),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null!==(_ref=null!=initialFileName?initialFileName:Object.keys(files)[0])&&void 0!==_ref?_ref:defaultFileName),2),currentFileName=_useState[0],setCurrentFileName=_useState[1],testCaseStoreKey=storeKey,newInitialTestCases=_define_property({},testCaseStoreKey,_object_spread({},initialTestCases));newInitialTestCases[testCaseStoreKey]["*"]={key:"*",in:"",testOut:"",withPE:!1,sample:!1,hidden:!1,index:-1,messageTimestamp:0,out:"",err:"",log:"",status:_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.aeR.NONE};var _useSaveChunkStorage1=_sliced_to_array(useSaveChunkStorage((0,_helpers__WEBPACK_IMPORTED_MODULE_4__.YR)(userNickname),newInitialTestCases,mergeTestCases,function(recovered){var state={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Object.entries(recovered)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step_value=_sliced_to_array(_step.value,2),key=_step_value[0],value=_step_value[1];state[key]={};var _iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0;try{for(var _step1,_iterator1=Object.entries(value)[Symbol.iterator]();!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=!0){var _caseValue_index,_caseValue_messageTimestamp,_step_value1=_sliced_to_array(_step1.value,2),caseKey=_step_value1[0],caseValue=_step_value1[1];if(!1===(null==caseValue?void 0:caseValue.sample))state[key][caseKey]={key:caseKey,in:(null==caseValue?void 0:caseValue.in)||"",testOut:(null==caseValue?void 0:caseValue.testOut)||"",withPE:(null==caseValue?void 0:caseValue.withPE)||!1,sample:!1,hidden:(null==caseValue?void 0:caseValue.hidden)||!1,index:null!==(_caseValue_index=null==caseValue?void 0:caseValue.index)&&void 0!==_caseValue_index?_caseValue_index:-1,messageTimestamp:null!==(_caseValue_messageTimestamp=null==caseValue?void 0:caseValue.messageTimestamp)&&void 0!==_caseValue_messageTimestamp?_caseValue_messageTimestamp:0,out:(null==caseValue?void 0:caseValue.out)||"",err:(null==caseValue?void 0:caseValue.err)||"",log:(null==caseValue?void 0:caseValue.log)||"",status:(null==caseValue?void 0:caseValue.status)||_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.aeR.NONE}}}catch(err){_didIteratorError1=!0,_iteratorError1=err}finally{try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return state}),2),testCasesStore=_useSaveChunkStorage1[0],setTestCasesStore=_useSaveChunkStorage1[1],onTestCasesChangeRef=(0,_hooks_useStableRef__WEBPACK_IMPORTED_MODULE_8__.m)(onTestCasesChange),testCases=testCasesStore[testCaseStoreKey];(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){var _onTestCasesChangeRef_current;null===(_onTestCasesChangeRef_current=onTestCasesChangeRef.current)||void 0===_onTestCasesChangeRef_current||_onTestCasesChangeRef_current.call(onTestCasesChangeRef,testCases)},[testCases]);var _useState1=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0),2),editorTriggerFocus=_useState1[0],setEditorTriggerFocus=_useState1[1],changeFileName=function(prevState,oldName,newName){var files=prevState[storeKey]||{};if(files[oldName]){var oldFile=_object_spread_props(_object_spread({},files[oldName]),{name:newName}),_ref=_object_spread({},files),newFiles=(_ref[oldName],_object_without_properties(_ref,[oldName].map(_to_property_key)));return newFiles[newName]=oldFile,_object_spread_props(_object_spread({},prevState),_define_property({},storeKey,newFiles))}return prevState};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_CodeRunnerEditor_CodeRunnerEditor__WEBPACK_IMPORTED_MODULE_9__.l,{triggerFocus:editorTriggerFocus,files,currentFileName,className,theme:editorSettings.theme,tabSize:editorSettings.tabSize,fontSize:editorSettings.fontSize,languages,readOnly,onChange:function(param){var newSourceCode=param.source,newLanguage=param.language,onTestCasesChange=param.onTestCasesChange,theme=param.theme,tabSize=param.tabSize,fontSize=param.fontSize,isRunning=param.isRunning,codeRunStatus=param.codeRunStatus,newFileName=param.newFileName,fileName=param.fileName,fileNameEdited=param.fileNameEdited,fileNameDeleted=param.fileNameDeleted;if(codeRunStatus&&(null==onCodeRunStatusChange||onCodeRunStatusChange(codeRunStatus,{files,currentFileName,testCases})),"boolean"==typeof isRunning&&(null==onIsRunningChange||onIsRunningChange(isRunning)),"string"==typeof newSourceCode&&setFilesStore(function(prevState){return prevState[storeKey]&&prevState[storeKey][currentFileName]?_object_spread_props(_object_spread({},prevState),_define_property({},storeKey,_object_spread_props(_object_spread({},prevState[storeKey]),_define_property({},currentFileName,_object_spread_props(_object_spread({},prevState[storeKey][currentFileName]),{source:newSourceCode}))))):prevState}),newLanguage&&(setEditorSettings(function(prevState){return _object_spread_props(_object_spread({},prevState),{lastLanguageUsed:newLanguage})}),setFilesStore(function(prevState){var files=_object_spread({},prevState[storeKey]||{}),newRenamedFile=getNewFileName((0,_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.Qk1)(currentFileName),".".concat(getExtension(newLanguage)),function(name){return!!files[name]});if(prevState[storeKey]&&prevState[storeKey][currentFileName]){var _prevState_storeKey,newState=_object_spread_props(_object_spread({},prevState),_define_property({},storeKey,_object_spread_props(_object_spread({},prevState[storeKey]),_define_property({},currentFileName,_object_spread_props(_object_spread({},null===(_prevState_storeKey=prevState[storeKey])||void 0===_prevState_storeKey?void 0:_prevState_storeKey[currentFileName]),{language:newLanguage})))));return setCurrentFileName(newRenamedFile),changeFileName(newState,currentFileName,newRenamedFile)}return prevState}),setEditorTriggerFocus(Date.now())),onTestCasesChange&&setTestCasesStore(function(prevState){return _object_spread_props(_object_spread({},prevState),_define_property({},testCaseStoreKey,onTestCasesChange(prevState[testCaseStoreKey]||{})))}),theme&&(setEditorSettings(function(prevState){return _object_spread_props(_object_spread({},prevState),{theme})}),setEditorTriggerFocus(Date.now())),tabSize&&(setEditorSettings(function(prevState){return _object_spread_props(_object_spread({},prevState),{tabSize})}),setEditorTriggerFocus(Date.now())),fontSize&&(setEditorSettings(function(prevState){return _object_spread_props(_object_spread({},prevState),{fontSize})}),setEditorTriggerFocus(Date.now())),newFileName&&(setFilesStore(function(prevState){var _CODE_LANGUAGE_editorSettings_lastLanguageUsed,files=_object_spread({},prevState[storeKey]||{}),newFile=getNewFileName("new",".".concat(getExtension(editorSettings.lastLanguageUsed)),function(name){return!!files[name]});setCurrentFileName(newFile);var maxIndex=Object.values(files).reduce(function(accum,param){var index=param.index;return Math.max(accum,index||0)},0);return files[newFile]={source:(null===(_CODE_LANGUAGE_editorSettings_lastLanguageUsed=_juki_team_commons__WEBPACK_IMPORTED_MODULE_1__.fO_[editorSettings.lastLanguageUsed])||void 0===_CODE_LANGUAGE_editorSettings_lastLanguageUsed?void 0:_CODE_LANGUAGE_editorSettings_lastLanguageUsed.templateSourceCode)||"",language:editorSettings.lastLanguageUsed,index:maxIndex+1,name:newFile,hidden:!1,protected:!1,readonly:!1},_object_spread_props(_object_spread({},prevState),_define_property({},storeKey,files))}),setEditorTriggerFocus(Date.now())),fileName&&(setCurrentFileName(fileName),setEditorTriggerFocus(Date.now())),"string"==typeof(null==fileNameEdited?void 0:fileNameEdited[0])&&"string"==typeof(null==fileNameEdited?void 0:fileNameEdited[1])){var newName=fileNameEdited[1];if(filesStore[newName])addErrorNotification((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_6__.T,{className:"tt-se",children:"file name already exists"}));else{var oldName=fileNameEdited[0];setFilesStore(function(prevState){return changeFileName(prevState,oldName,newName)}),setCurrentFileName(newName),setEditorTriggerFocus(Date.now())}}fileNameDeleted&&(setFilesStore(function(prevState){var _Object_keys_,files=prevState[storeKey]||{},_ref=_object_spread({},files),newFiles=(_ref[fileNameDeleted],_object_without_properties(_ref,[fileNameDeleted].map(_to_property_key)));return setCurrentFileName(null!==(_Object_keys_=Object.keys(files)[0])&&void 0!==_Object_keys_?_Object_keys_:""),_object_spread_props(_object_spread({},prevState),_define_property({},storeKey,newFiles))}),setEditorTriggerFocus(Date.now()))},leftButtons,centerButtons,rightButtons,testCases,expandPosition,enableAddSampleCases,enableAddCustomSampleCases,withoutRunCodeButton,onlyCodeEditor})}UserCodeEditor.__docgenInfo={description:"",methods:[],displayName:"UserCodeEditor",props:{className:{required:!1,tsType:{name:"string"},description:""},expandPosition:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  top: string | number,\n  left: string | number,\n  width: string | number,\n  height: string | number,\n}",signature:{properties:[{key:"top",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"left",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"width",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"height",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}},description:""},initialTestCases:{required:!1,tsType:{name:"CodeEditorTestCasesType"},description:""},initialFileName:{required:!1,tsType:{name:"string"},description:""},storeKey:{required:!0,tsType:{name:"string"},description:""},languages:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: T, label: string }",signature:{properties:[{key:"value",value:{name:"T",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"{ value: T, label: string }[]"},description:""},leftButtons:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: CodeEditorCenterButtonsPropertiesType<T>) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  widthContainer: number\n  isRunning: boolean,\n  testCases: CodeEditorTestCasesType,\n  withLabels: boolean,\n  twoRows: boolean,\n  files: CodeEditorFiles<T>,\n  currentFileName: string,\n}",signature:{properties:[{key:"widthContainer",value:{name:"number",required:!0}},{key:"isRunning",value:{name:"boolean",required:!0}},{key:"testCases",value:{name:"CodeEditorTestCasesType",required:!0}},{key:"withLabels",value:{name:"boolean",required:!0}},{key:"twoRows",value:{name:"boolean",required:!0}},{key:"files",value:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>",required:!0}},{key:"currentFileName",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"ReactNode"}}},description:""},centerButtons:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: CodeEditorCenterButtonsPropertiesType<T>) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  widthContainer: number\n  isRunning: boolean,\n  testCases: CodeEditorTestCasesType,\n  withLabels: boolean,\n  twoRows: boolean,\n  files: CodeEditorFiles<T>,\n  currentFileName: string,\n}",signature:{properties:[{key:"widthContainer",value:{name:"number",required:!0}},{key:"isRunning",value:{name:"boolean",required:!0}},{key:"testCases",value:{name:"CodeEditorTestCasesType",required:!0}},{key:"withLabels",value:{name:"boolean",required:!0}},{key:"twoRows",value:{name:"boolean",required:!0}},{key:"files",value:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>",required:!0}},{key:"currentFileName",value:{name:"string",required:!0}}]}},name:"props"}],return:{name:"ReactNode"}}},description:""},rightButtons:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: Omit<CodeEditorCenterButtonsPropertiesType<T>, 'widthContainer'>) => ReactNode",signature:{arguments:[{type:{name:"Omit",elements:[{name:"signature",type:"object",raw:"{\n  widthContainer: number\n  isRunning: boolean,\n  testCases: CodeEditorTestCasesType,\n  withLabels: boolean,\n  twoRows: boolean,\n  files: CodeEditorFiles<T>,\n  currentFileName: string,\n}",signature:{properties:[{key:"widthContainer",value:{name:"number",required:!0}},{key:"isRunning",value:{name:"boolean",required:!0}},{key:"testCases",value:{name:"CodeEditorTestCasesType",required:!0}},{key:"withLabels",value:{name:"boolean",required:!0}},{key:"twoRows",value:{name:"boolean",required:!0}},{key:"files",value:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>",required:!0}},{key:"currentFileName",value:{name:"string",required:!0}}]}},{name:"literal",value:"'widthContainer'"}],raw:"Omit<CodeEditorCenterButtonsPropertiesType<T>, 'widthContainer'>"},name:"props"}],return:{name:"ReactNode"}}},description:""},onFilesChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(files: CodeEditorFiles<T>) => void",signature:{arguments:[{type:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>"},name:"files"}],return:{name:"void"}}},description:""},onTestCasesChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(testCases: CodeEditorTestCasesType) => void",signature:{arguments:[{type:{name:"CodeEditorTestCasesType"},name:"testCases"}],return:{name:"void"}}},description:""},onIsRunningChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(isRunning: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isRunning"}],return:{name:"void"}}},description:""},initialFiles:{required:!1,tsType:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>"},description:""},enableAddSampleCases:{required:!1,tsType:{name:"boolean"},description:""},enableAddCustomSampleCases:{required:!1,tsType:{name:"boolean"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},withoutRunCodeButton:{required:!1,tsType:{name:"boolean"},description:""},onCodeRunStatusChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(runStatus: SubmissionRunStatus, props: {\n  files: CodeEditorFiles<T>,\n  currentFileName: string,\n  testCases: CodeEditorTestCasesType\n}) => void",signature:{arguments:[{type:{name:"SubmissionRunStatus"},name:"runStatus"},{type:{name:"signature",type:"object",raw:"{\n  files: CodeEditorFiles<T>,\n  currentFileName: string,\n  testCases: CodeEditorTestCasesType\n}",signature:{properties:[{key:"files",value:{name:"CodeEditorFiles",elements:[{name:"T"}],raw:"CodeEditorFiles<T>",required:!0}},{key:"currentFileName",value:{name:"string",required:!0}},{key:"testCases",value:{name:"CodeEditorTestCasesType",required:!0}}]}},name:"props"}],return:{name:"void"}}},description:""},onlyCodeEditor:{required:!1,tsType:{name:"boolean"},description:""}}}}}]);