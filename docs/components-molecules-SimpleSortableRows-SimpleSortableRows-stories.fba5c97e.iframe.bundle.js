"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[4626],{"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{aD:()=>chunk_AY7I2SME.aD,Ip:()=>chunk_AY7I2SME.Ip});var chunk_AY7I2SME=__webpack_require__("./node_modules/@storybook/addon-actions/dist/chunk-AY7I2SME.mjs")},"./src/components/molecules/SimpleSortableRows/SimpleSortableRows.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SimpleSortableRows:()=>SimpleSortableRows,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _SimpleSortableRows$p,_SimpleSortableRows$p2,_SimpleSortableRows$p3,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_index__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/molecules/SimpleSortableRows/index.ts"),_mockup_MockupToggleThemeButton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/mockup/MockupToggleThemeButton.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={component:_index__WEBPACK_IMPORTED_MODULE_2__.Uh,argTypes:{}};(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__.Ip)({depth:100,limit:20});const SimpleSortableRows=()=>{const[rows,setRows]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([{key:"1",content:"Write a cool JS library",value:"111"},{key:"2",content:_ref=>{let{dragComponent}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"jk-row",children:[dragComponent,"Make it generic enough"]})},value:"222"},{key:"3",content:_ref2=>{let{dragComponentRef,previewRef}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"jk-row",ref:previewRef,style:{width:"400px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{ref:dragComponentRef,children:"drag me"}),"Write README"]})},value:"333"},{key:"4",content:"Create some examples",value:"4444"},{key:"5",content:_ref3=>{let{dragComponent}=_ref3;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"jk-row",children:[dragComponent,"Spam in Twitter and IRC to promote it (note that this element is taller than the others)"]})},value:"555"},{key:"6",content:"???",value:"666"},{key:"7",content:"PROFIT",value:"7"}]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{style:{height:"500px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_index__WEBPACK_IMPORTED_MODULE_2__.Uh,{rows,setRows}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mockup_MockupToggleThemeButton__WEBPACK_IMPORTED_MODULE_3__.O,{})]})};SimpleSortableRows.parameters={...SimpleSortableRows.parameters,docs:{...null===(_SimpleSortableRows$p=SimpleSortableRows.parameters)||void 0===_SimpleSortableRows$p?void 0:_SimpleSortableRows$p.docs,source:{originalSource:"() => {\n  const [rows, setRows] = useState<RowSortableItem<string>[]>([{\n    key: '1',\n    content: 'Write a cool JS library',\n    value: '111'\n  }, {\n    key: '2',\n    content: ({\n      dragComponent\n    }) => <div className=\"jk-row\">{dragComponent}Make it generic enough</div>,\n    value: '222'\n  }, {\n    key: '3',\n    content: ({\n      dragComponentRef,\n      previewRef\n    }) => <div className=\"jk-row\" ref={previewRef} style={{\n      width: '400px'\n    }}>\n          <div ref={dragComponentRef}>drag me</div>\n          Write README\n        </div>,\n    value: '333'\n  }, {\n    key: '4',\n    content: 'Create some examples',\n    value: '4444'\n  }, {\n    key: '5',\n    content: ({\n      dragComponent\n    }) => <div className=\"jk-row\">{dragComponent}Spam in Twitter and IRC to promote it (note that\n        this\n        element is taller than the others)</div>,\n    value: '555'\n  }, {\n    key: '6',\n    content: '???',\n    value: '666'\n  }, {\n    key: '7',\n    content: 'PROFIT',\n    value: '7'\n  }]);\n  return <div style={{\n    height: '500px'\n  }}>\n      <SimpleSortableRowsComponent<string> rows={rows} setRows={setRows} />\n      <MockupToggleThemeButton />\n    </div>;\n}",...null===(_SimpleSortableRows$p2=SimpleSortableRows.parameters)||void 0===_SimpleSortableRows$p2||null===(_SimpleSortableRows$p3=_SimpleSortableRows$p2.docs)||void 0===_SimpleSortableRows$p3?void 0:_SimpleSortableRows$p3.source}}};const __namedExportsOrder=["SimpleSortableRows"]},"./src/components/mockup/MockupToggleThemeButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>MockupToggleThemeButton});__webpack_require__("./node_modules/react/index.js");var _atoms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const MockupToggleThemeButton=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",right:0,bottom:10,zIndex:1e7},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.zxk,{onClick:()=>{document.documentElement.classList.contains("jk-theme-dark")?(document.documentElement.classList.remove("jk-theme-dark"),document.documentElement.classList.add("jk-theme-light")):(document.documentElement.classList.remove("jk-theme-light"),document.documentElement.classList.add("jk-theme-dark"))},icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.uQp,{})})})},"./src/components/molecules/SimpleSortableRows/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Uh:()=>SimpleSortableRows});var immutability_helper=__webpack_require__("./node_modules/immutability-helper/index.js"),immutability_helper_default=__webpack_require__.n(immutability_helper),react=__webpack_require__("./node_modules/react/index.js"),helpers=__webpack_require__("./src/helpers/index.ts"),atoms=__webpack_require__("./src/components/atoms/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const DndProvider=(0,react.lazy)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-dnd/dist/index.js")).then((module=>({default:module.DndProvider}))))),Test=_ref=>{let{key,content,index,moveRow,useDrop,useDrag}=_ref;const ref=(0,react.useRef)(null),[{handlerId},drop]=useDrop({accept:"row",collect:monitor=>({handlerId:monitor.getHandlerId()}),hover(item,monitor){var _ref$current;if(!ref.current)return;const dragIndex=item.index,hoverIndex=index;if(dragIndex===hoverIndex)return;const hoverBoundingRect=null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.getBoundingClientRect(),hoverMiddleY=(hoverBoundingRect.bottom-hoverBoundingRect.top)/2,hoverClientY=monitor.getClientOffset().y-hoverBoundingRect.top;dragIndex<hoverIndex&&hoverClientY<hoverMiddleY||dragIndex>hoverIndex&&hoverClientY>hoverMiddleY||(moveRow(dragIndex,hoverIndex),item.index=hoverIndex)}}),[{isDragging},drag,preview]=useDrag({type:"row",item:()=>({key,index}),collect:monitor=>({isDragging:monitor.isDragging()})});return drag(drop(ref)),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,helpers.c_)(content,{dragComponentRef:ref,dragComponent:(0,jsx_runtime.jsx)("div",{ref,style:{cursor:"move"},className:"jk-sortable-row-drag-icon jk-row",children:(0,jsx_runtime.jsx)(atoms.Vni,{})}),previewRef:preview,dataHandlerId:handlerId,isDragging,index,key})})},Row=_ref2=>{let{id:key,content,index,moveRow}=_ref2;const useDragRef=(0,react.useRef)(),useDropRef=(0,react.useRef)(),[render,setRender]=(0,react.useState)(0);return(0,react.useEffect)((()=>{useDragRef.current=__webpack_require__("./node_modules/react-dnd/dist/index.js").useDrag,useDropRef.current=__webpack_require__("./node_modules/react-dnd/dist/index.js").useDrop,setRender(1)}),[]),render?(0,jsx_runtime.jsx)(Test,{content,index,moveRow,useDrop:useDropRef.current,useDrag:useDragRef.current},key):null},SimpleSortableRows=_ref3=>{let{rows,setRows,className}=_ref3;const moveRow=(0,react.useCallback)(((dragIndex,hoverIndex)=>{setRows((prevCards=>immutability_helper_default()(prevCards,{$splice:[[dragIndex,1],[hoverIndex,0,prevCards[dragIndex]]]})))}),[setRows]),renderRow=(0,react.useCallback)(((row,index)=>(0,jsx_runtime.jsx)(Row,{index,id:row.key,content:row.content,moveRow},row.key)),[moveRow]),HTML5BackendRef=(0,react.useRef)(),[render,setRender]=(0,react.useState)(0);return(0,react.useEffect)((()=>{HTML5BackendRef.current=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/index.js").PD,setRender(1)}),[]),!!render&&HTML5BackendRef.current&&(0,jsx_runtime.jsx)(DndProvider,{backend:HTML5BackendRef.current,children:(0,jsx_runtime.jsx)("div",{className:(0,helpers.AK)("jk-sortable-rows-container",className),children:rows.map(((row,i)=>renderRow(row,i)))})})};try{Test.displayName="Test",Test.__docgenInfo={description:"",displayName:"Test",props:{key:{defaultValue:null,description:"",name:"key",required:!0,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"RowSortableItemContentType"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},moveRow:{defaultValue:null,description:"",name:"moveRow",required:!0,type:{name:"(i: number, j: number) => void"}},useDrop:{defaultValue:null,description:"",name:"useDrop",required:!0,type:{name:"any"}},useDrag:{defaultValue:null,description:"",name:"useDrag",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/molecules/SimpleSortableRows/SimpleSortableRows.tsx#Test"]={docgenInfo:Test.__docgenInfo,name:"Test",path:"src/components/molecules/SimpleSortableRows/SimpleSortableRows.tsx#Test"})}catch(__react_docgen_typescript_loader_error){}try{Row.displayName="Row",Row.__docgenInfo={description:"",displayName:"Row",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"RowSortableItemContentType"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},moveRow:{defaultValue:null,description:"",name:"moveRow",required:!0,type:{name:"(i: number, j: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/molecules/SimpleSortableRows/SimpleSortableRows.tsx#Row"]={docgenInfo:Row.__docgenInfo,name:"Row",path:"src/components/molecules/SimpleSortableRows/SimpleSortableRows.tsx#Row"})}catch(__react_docgen_typescript_loader_error){}try{SimpleSortableRows.displayName="SimpleSortableRows",SimpleSortableRows.__docgenInfo={description:"",displayName:"SimpleSortableRows",props:{rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"RowSortableItem<T>[]"}},setRows:{defaultValue:null,description:"",name:"setRows",required:!0,type:{name:"Dispatch<SetStateAction<RowSortableItem<T>[]>>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/molecules/SimpleSortableRows/SimpleSortableRows.tsx#SimpleSortableRows"]={docgenInfo:SimpleSortableRows.__docgenInfo,name:"SimpleSortableRows",path:"src/components/molecules/SimpleSortableRows/SimpleSortableRows.tsx#SimpleSortableRows"})}catch(__react_docgen_typescript_loader_error){}}}]);