"use strict";(self.webpackChunk_juki_team_base_ui=self.webpackChunk_juki_team_base_ui||[]).push([[9958],{"./src/components/templates/members/DocumentMembersContent.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DocumentMembersContent:()=>DocumentMembersContent});var _Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js"),_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@juki-team/commons/dist/esm/index.js"),_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/stores/user/useUserStore.ts")),_atoms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/atoms/index.tsx"),_organisms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/organisms/index.tsx"),_server__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/server/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");const DocumentMembersContent=_ref=>{let{members,setMembers,documentOwner}=_ref;const companyKey=(0,_stores_user_useUserStore__WEBPACK_IMPORTED_MODULE_2__.k)(state=>state.company.key),FileAccessIcons={[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.PRIVATE]:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_server__WEBPACK_IMPORTED_MODULE_5__.XAi,{}),[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.RESTRICTED]:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_server__WEBPACK_IMPORTED_MODULE_5__.GVH,{}),[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.PUBLIC]:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_server__WEBPACK_IMPORTED_MODULE_5__.DzZ,{}),[_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.EXPOSED]:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_server__WEBPACK_IMPORTED_MODULE_5__.fCU,{})};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-col gap stretch gap",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"fw-bd tt-se",children:"access type"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.l6,{options:Object.values(_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.bz0).map(fileAccess=>({value:fileAccess.value,label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"jk-row gap left jk-pg-sm",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-col left stretch",style:{maxWidth:300},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-row gap left",children:[FileAccessIcons[fileAccess.value],(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"tt-se fw-bd",children:fileAccess.label})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"tt-se",children:fileAccess.description})]})})})),selectedOption:{value:members.access},expand:!0,onChange:setMembers?_ref2=>{let{value}=_ref2;setMembers(prevState=>(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)({},prevState),{},{access:value}))}:void 0})})]}),(members.access===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.RESTRICTED||members.access===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.PUBLIC)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-col stretch extend",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"fw-bd tt-se",children:"People with access"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-row gap space-between extend hover-highlight gap-full-borders jk-br-ie",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_organisms__WEBPACK_IMPORTED_MODULE_4__.A1,{imageUrl:documentOwner.imageUrl,nickname:documentOwner.nickname,className:"flex-1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.l6,{options:[{value:"owner",label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{children:"owner"})}],selectedOption:{value:"owner"}})]}),[...Object.values(members.managers).map(mem=>(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)({},mem),{},{role:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.EDITOR})),...Object.values(members.spectators).map(mem=>(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)({},mem),{},{role:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.VIEWER}))].map(_ref3=>{let{nickname,imageUrl,company,role}=_ref3;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"jk-row gap space-between extend hover-highlight gap-full-borders jk-br-ie",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_organisms__WEBPACK_IMPORTED_MODULE_4__.A1,{imageUrl,nickname,className:"flex-1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.l6,{options:[...members.access===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.RESTRICTED?[{value:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.VIEWER,label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{children:"viewer"})}]:[],{value:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.EDITOR,label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{children:"editor"})}],selectedOption:{value:role},onChange:setMembers?_ref4=>{let{value}=_ref4;const _members$managers=members.managers,{[nickname]:_1}=_members$managers,newManagers=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.A)(_members$managers,[nickname].map(_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_9__.A)),_members$spectators=members.spectators,{[nickname]:_2}=_members$spectators,newSpectators=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.A)(_members$spectators,[nickname].map(_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_9__.A));value===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.EDITOR?newManagers[nickname]={nickname,imageUrl,company,type:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Z9T.USER}:newSpectators[nickname]={nickname,imageUrl,company,type:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Z9T.USER},setMembers(prevState=>(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)({},prevState),{},{managers:newManagers,spectators:newSpectators}))}:void 0}),setMembers&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.$n,{onClick:()=>{const _members$managers2=members.managers,{[nickname]:_1}=_members$managers2,newManagers=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.A)(_members$managers2,[nickname].map(_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_9__.A)),_members$spectators2=members.spectators,{[nickname]:_2}=_members$spectators2,newSpectators=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.A)(_members$spectators2,[nickname].map(_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_9__.A));setMembers(prevState=>(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)({},prevState),{},{managers:newManagers,spectators:newSpectators}))},icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{"data-tooltip-id":"jk-tooltip","data-tooltip-content":"remove access",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_server__WEBPACK_IMPORTED_MODULE_5__.d7y,{})}),size:"small",type:"light"})]},nickname)})]}),setMembers&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.T,{className:"fw-bd tt-se",children:"add people"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_organisms__WEBPACK_IMPORTED_MODULE_4__.qj,{companyKey,selectedUsers:[],onChangeSelectedUsers:_ref5=>{let[user]=_ref5;if(user&&!members.managers[user.nickname]&&!members.spectators[user.nickname]){if((members.access===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.gTA.PUBLIC?_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.EDITOR:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.VIEWER)===_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.tot.EDITOR){const newManagers=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)({},members.managers);newManagers[user.nickname]={nickname:user.nickname,imageUrl:user.imageUrl,company:user.company,type:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Z9T.USER},setMembers(prevState=>(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)({},prevState),{},{managers:newManagers}))}else{const newSpectators=(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)({},members.spectators);newSpectators[user.nickname]={nickname:user.nickname,imageUrl:user.imageUrl,company:user.company,type:_juki_team_commons__WEBPACK_IMPORTED_MODULE_0__.Z9T.USER},setMembers(prevState=>(0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)((0,_Users_oscargauss_Documents_JUKI_base_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.A)({},prevState),{},{spectators:newSpectators}))}}},maxUsersSelection:1})]})]})]})};DocumentMembersContent.__docgenInfo={description:"",methods:[],displayName:"DocumentMembersContent",props:{members:{required:!0,tsType:{name:"DocumentMembersResponseDTO"},description:""},setMembers:{required:!1,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"DocumentMembersResponseDTO"}],raw:"SetStateAction<DocumentMembersResponseDTO>"}],raw:"Dispatch<SetStateAction<DocumentMembersResponseDTO>>"},description:""},documentOwner:{required:!0,tsType:{name:"UserCompanyBasicInfoResponseDTO"},description:""}}}}}]);